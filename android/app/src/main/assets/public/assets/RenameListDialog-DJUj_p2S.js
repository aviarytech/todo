import{u as y,c as f,b as p,m as h,j as e}from"./index-DkDPUQpr.js";import{d as i}from"./react-vendor-BToC6Ez8.js";import"./originals-sdk-C0s467Ca.js";function w({list:s,onClose:r}){const{did:o,legacyDid:u}=y(),g=f(p.lists.renameList),[t,x]=i.useState(s.name),[n,d]=i.useState(!1),[l,m]=i.useState(null),b=h({onEscape:r}),c=async()=>{if(!o||!t.trim()||t.trim()===s.name){r();return}d(!0),m(null);try{await g({listId:s._id,name:t.trim(),userDid:o,legacyDid:u??void 0}),r()}catch(a){m(a instanceof Error?a.message:"Failed to rename list"),d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:e.jsxs("div",{ref:b,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-sm w-full p-6 animate-slide-up",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Rename list"}),e.jsx("input",{type:"text",value:t,onChange:a=>x(a.target.value),onKeyDown:a=>{a.key==="Enter"&&c()},autoFocus:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"List name"}),l&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:l}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:r,disabled:n,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,disabled:n||!t.trim(),className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-amber-500 hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl transition-colors",children:n?"Renamingâ€¦":"Rename"})]})]})})}export{w as RenameListDialog};
