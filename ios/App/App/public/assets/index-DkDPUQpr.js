const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ListView-DaIf0fvu.js","assets/originals-sdk-C0s467Ca.js","assets/react-vendor-BToC6Ez8.js","assets/time-C9oM0N83.js","assets/JoinList-BHr75rYG.js","assets/PublicList-gKeHXZwp.js","assets/Profile-CZ3hm03B.js","assets/Templates-D6zpTfqX.js","assets/PriorityFocus-BD030pWP.js"])))=>i.map(i=>d[i]);
import{r as xy,b as Sy,p as no,d as j,R as _o,u as wy,N as ks,L as cn,e as jy,f as qo,h as Ny,i as Ty,j as qt,B as Cy}from"./react-vendor-BToC6Ez8.js";import{M as Ay,u as Ey,g as ky,q as pm,a as xm,A as My,s as Oy,v as Dy,D as zy,_ as el}from"./originals-sdk-C0s467Ca.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function u(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=u(d);fetch(d.href,h)}})();var ao={exports:{}},$l={};var Yh;function Ry(){if(Yh)return $l;Yh=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function u(o,d,h){var g=null;if(h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:r,type:o,key:g,ref:d!==void 0?d:null,props:h}}return $l.Fragment=l,$l.jsx=u,$l.jsxs=u,$l}var Gh;function _y(){return Gh||(Gh=1,ao.exports=Ry()),ao.exports}var c=_y(),lo={exports:{}},Il={},io={exports:{}},so={};var Xh;function qy(){return Xh||(Xh=1,(function(r){function l(E,Q){var B=E.length;E.push(Q);e:for(;0<B;){var Z=B-1>>>1,P=E[Z];if(0<d(P,Q))E[Z]=Q,E[B]=P,B=Z;else break e}}function u(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var Q=E[0],B=E.pop();if(B!==Q){E[0]=B;e:for(var Z=0,P=E.length,Ce=P>>>1;Z<Ce;){var xe=2*(Z+1)-1,te=E[xe],we=xe+1,st=E[we];if(0>d(te,B))we<P&&0>d(st,te)?(E[Z]=st,E[we]=B,Z=we):(E[Z]=te,E[xe]=B,Z=xe);else if(we<P&&0>d(st,B))E[Z]=st,E[we]=B,Z=we;else break e}}return Q}function d(E,Q){var B=E.sortIndex-Q.sortIndex;return B!==0?B:E.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var g=Date,p=g.now();r.unstable_now=function(){return g.now()-p}}var v=[],A=[],_=1,O=null,R=3,q=!1,z=!1,D=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function ne(E){for(var Q=u(A);Q!==null;){if(Q.callback===null)o(A);else if(Q.startTime<=E)o(A),Q.sortIndex=Q.expirationTime,l(v,Q);else break;Q=u(A)}}function fe(E){if(D=!1,ne(E),!z)if(u(v)!==null)z=!0,G||(G=!0,Me());else{var Q=u(A);Q!==null&&me(fe,Q.startTime-E)}}var G=!1,X=-1,Y=5,Se=-1;function ke(){return L?!0:!(r.unstable_now()-Se<Y)}function Ye(){if(L=!1,G){var E=r.unstable_now();Se=E;var Q=!0;try{e:{z=!1,D&&(D=!1,J(X),X=-1),q=!0;var B=R;try{t:{for(ne(E),O=u(v);O!==null&&!(O.expirationTime>E&&ke());){var Z=O.callback;if(typeof Z=="function"){O.callback=null,R=O.priorityLevel;var P=Z(O.expirationTime<=E);if(E=r.unstable_now(),typeof P=="function"){O.callback=P,ne(E),Q=!0;break t}O===u(v)&&o(v),ne(E)}else o(v);O=u(v)}if(O!==null)Q=!0;else{var Ce=u(A);Ce!==null&&me(fe,Ce.startTime-E),Q=!1}}break e}finally{O=null,R=B,q=!1}Q=void 0}}finally{Q?Me():G=!1}}}var Me;if(typeof I=="function")Me=function(){I(Ye)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,F=Ht.port2;Ht.port1.onmessage=Ye,Me=function(){F.postMessage(null)}}else Me=function(){U(Ye,0)};function me(E,Q){X=U(function(){E(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(E){E.callback=null},r.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<E?Math.floor(1e3/E):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(E){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var B=R;R=Q;try{return E()}finally{R=B}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(E,Q){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var B=R;R=E;try{return Q()}finally{R=B}},r.unstable_scheduleCallback=function(E,Q,B){var Z=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,E){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,E={id:_++,callback:Q,priorityLevel:E,startTime:B,expirationTime:P,sortIndex:-1},B>Z?(E.sortIndex=B,l(A,E),u(v)===null&&E===u(A)&&(D?(J(X),X=-1):D=!0,me(fe,B-Z))):(E.sortIndex=P,l(v,E),z||q||(z=!0,G||(G=!0,Me()))),E},r.unstable_shouldYield=ke,r.unstable_wrapCallback=function(E){var Q=R;return function(){var B=R;R=Q;try{return E.apply(this,arguments)}finally{R=B}}}})(so)),so}var Zh;function Ly(){return Zh||(Zh=1,io.exports=qy()),io.exports}var Kh;function Uy(){if(Kh)return Il;Kh=1;var r=Ly(),l=xy(),u=Sy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(o(188))}function A(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v(i),e;if(s===a)return v(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==a.return)n=i,a=s;else{for(var f=!1,m=i.child;m;){if(m===n){f=!0,n=i,a=s;break}if(m===a){f=!0,a=i,n=s;break}m=m.sibling}if(!f){for(m=s.child;m;){if(m===n){f=!0,n=s,a=i;break}if(m===a){f=!0,a=s,n=i;break}m=m.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var O=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),I=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Ye=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=Ye&&e[Ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case U:return"Profiler";case L:return"StrictMode";case fe:return"Suspense";case G:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case I:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:F(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return F(e(t))}catch{}}return null}var me=Array.isArray,E=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},Z=[],P=-1;function Ce(e){return{current:e}}function xe(e){0>P||(e.current=Z[P],Z[P]=null,P--)}function te(e,t){P++,Z[P]=e.current,e.current=t}var we=Ce(null),st=Ce(null),Fe=Ce(null),Un=Ce(null);function li(e,t){switch(te(Fe,t),te(st,e),te(we,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dh(t),e=hh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(we),te(we,e)}function ua(){xe(we),xe(st),xe(Fe)}function Ls(e){e.memoizedState!==null&&te(Un,e);var t=we.current,n=hh(t,e.type);t!==n&&(te(st,e),te(we,n))}function ii(e){st.current===e&&(xe(we),xe(st)),Un.current===e&&(xe(Un),Xl._currentValue=B)}var Us,Vo;function Bn(e){if(Us===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Us=t&&t[1]||"",Vo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+e+Vo}var Bs=!1;function Qs(e,t){if(!e||Bs)return"";Bs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(T){var N=T}Reflect.construct(e,[],M)}else{try{M.call()}catch(T){N=T}e.call(M.prototype)}}else{try{throw Error()}catch(T){N=T}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(T){if(T&&N&&typeof T.stack=="string")return[T.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),f=s[0],m=s[1];if(f&&m){var y=f.split(`
`),w=m.split(`
`);for(i=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;if(a===y.length||i===w.length)for(a=y.length-1,i=w.length-1;1<=a&&0<=i&&y[a]!==w[i];)i--;for(;1<=a&&0<=i;a--,i--)if(y[a]!==w[i]){if(a!==1||i!==1)do if(a--,i--,0>i||y[a]!==w[i]){var C=`
`+y[a].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=a&&0<=i);break}}}finally{Bs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Bn(n):""}function Fm(e,t){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==t&&t!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return Bn("Activity");default:return""}}function Ho(e){try{var t="",n=null;do t+=Fm(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Vs=Object.prototype.hasOwnProperty,Hs=r.unstable_scheduleCallback,Ys=r.unstable_cancelCallback,Wm=r.unstable_shouldYield,Pm=r.unstable_requestPaint,rt=r.unstable_now,e0=r.unstable_getCurrentPriorityLevel,Yo=r.unstable_ImmediatePriority,Go=r.unstable_UserBlockingPriority,si=r.unstable_NormalPriority,t0=r.unstable_LowPriority,Xo=r.unstable_IdlePriority,n0=r.log,a0=r.unstable_setDisableYieldValue,al=null,ut=null;function fn(e){if(typeof n0=="function"&&a0(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(al,e)}catch{}}var ot=Math.clz32?Math.clz32:s0,l0=Math.log,i0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(l0(e)/i0|0)|0}var ri=256,ui=262144,oi=4194304;function Qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~s,a!==0?i=Qn(a):(f&=m,f!==0?i=Qn(f):n||(n=m&~e,n!==0&&(i=Qn(n))))):(m=a&~s,m!==0?i=Qn(m):f!==0?i=Qn(f):n||(n=a&~e,n!==0&&(i=Qn(n)))),i===0?0:t!==0&&t!==i&&(t&s)===0&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function r0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var e=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),e}function Gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function u0(e,t,n,a,i,s){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,y=e.expirationTimes,w=e.hiddenUpdates;for(n=f&~n;0<n;){var C=31-ot(n),M=1<<C;m[C]=0,y[C]=-1;var N=w[C];if(N!==null)for(w[C]=null,C=0;C<N.length;C++){var T=N[C];T!==null&&(T.lane&=-536870913)}n&=~M}a!==0&&Ko(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(f&~t))}function Ko(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ot(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Jo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ot(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function $o(e,t){var n=t&-t;return n=(n&42)!==0?1:Xs(n),(n&(e.suspendedLanes|t))!==0?0:n}function Xs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Io(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:qh(e.type))}function Fo(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var dn=Math.random().toString(36).slice(2),Ge="__reactFiber$"+dn,We="__reactProps$"+dn,oa="__reactContainer$"+dn,Ks="__reactEvents$"+dn,o0="__reactListeners$"+dn,c0="__reactHandles$"+dn,Wo="__reactResources$"+dn,sl="__reactMarker$"+dn;function Js(e){delete e[Ge],delete e[We],delete e[Ks],delete e[o0],delete e[c0]}function ca(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xh(e);e!==null;){if(n=e[Ge])return n;e=xh(e)}return t}e=n,n=e.parentNode}return null}function fa(e){if(e=e[Ge]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function da(e){var t=e[Wo];return t||(t=e[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[sl]=!0}var Po=new Set,ec={};function Vn(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(ec[e]=t,e=0;e<t.length;e++)Po.add(t[e])}var f0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function d0(e){return Vs.call(nc,e)?!0:Vs.call(tc,e)?!1:f0.test(e)?nc[e]=!0:(tc[e]=!0,!1)}function fi(e,t,n){if(d0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function di(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ac(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h0(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){n=""+f,s.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $s(e){if(!e._valueTracker){var t=ac(e)?"checked":"value";e._valueTracker=h0(e,t,""+e[t])}}function lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ac(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var m0=/[\n"\\]/g;function vt(e){return e.replace(m0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Is(e,t,n,a,i,s,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Fs(e,f,bt(t)):n!=null?Fs(e,f,bt(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+bt(m):e.removeAttribute("name")}function ic(e,t,n,a,i,s,f,m){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){$s(e);return}n=n!=null?""+bt(n):"",t=t!=null?""+bt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),$s(e)}function Fs(e,t,n){t==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ma(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sc(e,t,n){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bt(n):""}function rc(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(me(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=bt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),$s(e)}function ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||g0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function oc(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&uc(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&uc(e,s,t[s])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(e){return b0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gt(){}var Ps=null;function er(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,ba=null;function cc(e){var t=fa(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(Is(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[We]||null;if(!i)throw Error(o(90));Is(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&lc(a)}break e;case"textarea":sc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ma(e,!!n.multiple,t,!1)}}}var tr=!1;function fc(e,t,n){if(tr)return e(t,n);tr=!0;try{var a=e(t);return a}finally{if(tr=!1,(ya!==null||ba!==null)&&(ts(),ya&&(t=ya,e=ba,ba=ya=null,cc(t),e)))for(t=0;t<e.length;t++)cc(e[t])}}function ul(e,t){var n=e.stateNode;if(n===null)return null;var a=n[We]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(Xt)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){nr=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{nr=!1}var hn=null,ar=null,gi=null;function dc(){if(gi)return gi;var e,t=ar,n=t.length,a,i="value"in hn?hn.value:hn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===i[s-a];a++);return gi=i.slice(e,1<a?1-a:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function hc(){return!1}function Pe(e){function t(n,a,i,s,f){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bi:hc,this.isPropagationStopped=hc,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Pe(Hn),cl=O({},Hn,{view:0,detail:0}),v0=Pe(cl),lr,ir,fl,pi=O({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(lr=e.screenX-fl.screenX,ir=e.screenY-fl.screenY):ir=lr=0,fl=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),mc=Pe(pi),p0=O({},pi,{dataTransfer:0}),x0=Pe(p0),S0=O({},cl,{relatedTarget:0}),sr=Pe(S0),w0=O({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=Pe(w0),N0=O({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=Pe(N0),C0=O({},Hn,{data:0}),gc=Pe(C0),A0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k0[e])?!!t[e]:!1}function rr(){return M0}var O0=O({},cl,{key:function(e){if(e.key){var t=A0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D0=Pe(O0),z0=O({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Pe(z0),R0=O({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),_0=Pe(R0),q0=O({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),L0=Pe(q0),U0=O({},pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=Pe(U0),Q0=O({},Hn,{newState:0,oldState:0}),V0=Pe(Q0),H0=[9,13,27,32],ur=Xt&&"CompositionEvent"in window,dl=null;Xt&&"documentMode"in document&&(dl=document.documentMode);var Y0=Xt&&"TextEvent"in window&&!dl,bc=Xt&&(!ur||dl&&8<dl&&11>=dl),vc=" ",pc=!1;function xc(e,t){switch(e){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function G0(e,t){switch(e){case"compositionend":return Sc(t);case"keypress":return t.which!==32?null:(pc=!0,vc);case"textInput":return e=t.data,e===vc&&pc?null:e;default:return null}}function X0(e,t){if(va)return e==="compositionend"||!ur&&xc(e,t)?(e=dc(),gi=ar=hn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bc&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function jc(e,t,n,a){ya?ba?ba.push(a):ba=[a]:ya=a,t=us(t,"onChange"),0<t.length&&(n=new vi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var hl=null,ml=null;function K0(e){sh(e,0)}function xi(e){var t=rl(e);if(lc(t))return e}function Nc(e,t){if(e==="change")return t}var Tc=!1;if(Xt){var or;if(Xt){var cr="oninput"in document;if(!cr){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),cr=typeof Cc.oninput=="function"}or=cr}else or=!1;Tc=or&&(!document.documentMode||9<document.documentMode)}function Ac(){hl&&(hl.detachEvent("onpropertychange",Ec),ml=hl=null)}function Ec(e){if(e.propertyName==="value"&&xi(ml)){var t=[];jc(t,ml,e,er(e)),fc(K0,t)}}function J0(e,t,n){e==="focusin"?(Ac(),hl=t,ml=n,hl.attachEvent("onpropertychange",Ec)):e==="focusout"&&Ac()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(ml)}function I0(e,t){if(e==="click")return xi(t)}function F0(e,t){if(e==="input"||e==="change")return xi(t)}function W0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:W0;function gl(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Vs.call(t,i)||!ct(e[i],t[i]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,t){var n=kc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kc(n)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hi(e.document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P0=Xt&&"documentMode"in document&&11>=document.documentMode,pa=null,dr=null,yl=null,hr=!1;function zc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hr||pa==null||pa!==hi(a)||(a=pa,"selectionStart"in a&&fr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yl&&gl(yl,a)||(yl=a,a=us(dr,"onSelect"),0<a.length&&(t=new vi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=pa)))}function Yn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xa={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},mr={},Rc={};Xt&&(Rc=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Gn(e){if(mr[e])return mr[e];if(!xa[e])return e;var t=xa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rc)return mr[e]=t[n];return e}var _c=Gn("animationend"),qc=Gn("animationiteration"),Lc=Gn("animationstart"),eg=Gn("transitionrun"),tg=Gn("transitionstart"),ng=Gn("transitioncancel"),Uc=Gn("transitionend"),Bc=new Map,gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gr.push("scrollEnd");function kt(e,t){Bc.set(e,t),Vn(t,[e])}var Si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof no=="object"&&typeof no.emit=="function"){no.emit("uncaughtException",e);return}console.error(e)},pt=[],Sa=0,yr=0;function wi(){for(var e=Sa,t=yr=Sa=0;t<e;){var n=pt[t];pt[t++]=null;var a=pt[t];pt[t++]=null;var i=pt[t];pt[t++]=null;var s=pt[t];if(pt[t++]=null,a!==null&&i!==null){var f=a.pending;f===null?i.next=i:(i.next=f.next,f.next=i),a.pending=i}s!==0&&Qc(n,i,s)}}function ji(e,t,n,a){pt[Sa++]=e,pt[Sa++]=t,pt[Sa++]=n,pt[Sa++]=a,yr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function br(e,t,n,a){return ji(e,t,n,a),Ni(e)}function Xn(e,t){return ji(e,null,null,t),Ni(e)}function Qc(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-ot(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Ni(e){if(50<Ul)throw Ul=0,Cu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wa={};function ag(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,a){return new ag(e,t,n,a)}function vr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zt(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ti(e,t,n,a,i,s){var f=0;if(a=e,typeof e=="function")vr(e)&&(f=1);else if(typeof e=="string")f=uy(e,n,we.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=ft(31,n,t,i),e.elementType=Se,e.lanes=s,e;case D:return Zn(n.children,i,s,t);case L:f=8,i|=24;break;case U:return e=ft(12,n,t,i|2),e.elementType=U,e.lanes=s,e;case fe:return e=ft(13,n,t,i),e.elementType=fe,e.lanes=s,e;case G:return e=ft(19,n,t,i),e.elementType=G,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:f=10;break e;case J:f=9;break e;case ne:f=11;break e;case X:f=14;break e;case Y:f=16,a=null;break e}f=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=ft(f,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Zn(e,t,n,a){return e=ft(7,e,a,t),e.lanes=n,e}function pr(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function Hc(e){var t=ft(18,null,null,0);return t.stateNode=e,t}function xr(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yc=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var n=Yc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ho(t)},Yc.set(e,t),t)}return{value:e,source:t,stack:Ho(t)}}var ja=[],Na=0,Ci=null,bl=0,St=[],wt=0,mn=null,Dt=1,zt="";function Kt(e,t){ja[Na++]=bl,ja[Na++]=Ci,Ci=e,bl=t}function Gc(e,t,n){St[wt++]=Dt,St[wt++]=zt,St[wt++]=mn,mn=e;var a=Dt;e=zt;var i=32-ot(a)-1;a&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var f=i-i%5;s=(a&(1<<f)-1).toString(32),a>>=f,i-=f,Dt=1<<32-ot(t)+i|n<<i|a,zt=s+e}else Dt=1<<s|n<<i|a,zt=e}function Sr(e){e.return!==null&&(Kt(e,1),Gc(e,1,0))}function wr(e){for(;e===Ci;)Ci=ja[--Na],ja[Na]=null,bl=ja[--Na],ja[Na]=null;for(;e===mn;)mn=St[--wt],St[wt]=null,zt=St[--wt],St[wt]=null,Dt=St[--wt],St[wt]=null}function Xc(e,t){St[wt++]=Dt,St[wt++]=zt,St[wt++]=mn,Dt=t.id,zt=t.overflow,mn=e}var Xe=null,je=null,re=!1,gn=null,jt=!1,jr=Error(o(519));function yn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(xt(t,e)),jr}function Zc(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ge]=e,t[We]=a,n){case"dialog":le("cancel",t),le("close",t);break;case"iframe":case"object":case"embed":le("load",t);break;case"video":case"audio":for(n=0;n<Ql.length;n++)le(Ql[n],t);break;case"source":le("error",t);break;case"img":case"image":case"link":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"input":le("invalid",t),ic(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":le("invalid",t);break;case"textarea":le("invalid",t),rc(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ch(t.textContent,n)?(a.popover!=null&&(le("beforetoggle",t),le("toggle",t)),a.onScroll!=null&&le("scroll",t),a.onScrollEnd!=null&&le("scrollend",t),a.onClick!=null&&(t.onclick=Gt),t=!0):t=!1,t||yn(e,!0)}function Kc(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Xe=Xe.return}}function Ta(e){if(e!==Xe)return!1;if(!re)return Kc(e),re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vu(e.type,e.memoizedProps)),n=!n),n&&je&&yn(e),Kc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));je=ph(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));je=ph(e)}else t===27?(t=je,Mn(e.type)?(e=Zu,Zu=null,je=e):je=t):je=Xe?Tt(e.stateNode.nextSibling):null;return!0}function Kn(){je=Xe=null,re=!1}function Nr(){var e=gn;return e!==null&&(at===null?at=e:at.push.apply(at,e),gn=null),e}function vl(e){gn===null?gn=[e]:gn.push(e)}var Tr=Ce(null),Jn=null,Jt=null;function bn(e,t,n){te(Tr,t._currentValue),t._currentValue=n}function $t(e){e._currentValue=Tr.current,xe(Tr)}function Cr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var f=i.child;s=s.firstContext;e:for(;s!==null;){var m=s;s=i;for(var y=0;y<t.length;y++)if(m.context===t[y]){s.lanes|=n,m=s.alternate,m!==null&&(m.lanes|=n),Cr(s.return,n,e),a||(f=null);break e}s=m.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(o(341));f.lanes|=n,s=f.alternate,s!==null&&(s.lanes|=n),Cr(f,n,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function Ca(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(o(387));if(f=f.memoizedProps,f!==null){var m=i.type;ct(i.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(i===Un.current){if(f=i.alternate,f===null)throw Error(o(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}i=i.return}e!==null&&Ar(t,e,n,a),t.flags|=262144}function Ai(e){for(e=e.firstContext;e!==null;){if(!ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $n(e){Jn=e,Jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return Jc(Jn,e)}function Ei(e,t){return Jn===null&&$n(e),Jc(e,t)}function Jc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Jt===null){if(e===null)throw Error(o(308));Jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jt=Jt.next=t;return n}var lg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ig=r.unstable_scheduleCallback,sg=r.unstable_NormalPriority,Re={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new lg,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&ig(sg,function(){e.controller.abort()})}var xl=null,kr=0,Aa=0,Ea=null;function rg(e,t){if(xl===null){var n=xl=[];kr=0,Aa=Du(),Ea={status:"pending",value:void 0,then:function(a){n.push(a)}}}return kr++,t.then($c,$c),t}function $c(){if(--kr===0&&xl!==null){Ea!==null&&(Ea.status="fulfilled");var e=xl;xl=null,Aa=0,Ea=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ug(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Ic=E.S;E.S=function(e,t){Rd=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rg(e,t),Ic!==null&&Ic(e,t)};var In=Ce(null);function Mr(){var e=In.current;return e!==null?e:ve.pooledCache}function ki(e,t){t===null?te(In,In.current):te(In,t.pool)}function Fc(){var e=Mr();return e===null?null:{parent:Re._currentValue,pool:e}}var ka=Error(o(460)),Or=Error(o(474)),Mi=Error(o(542)),Oi={then:function(){}};function Wc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gt,Gt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tf(e),e;default:if(typeof t.status=="string")t.then(Gt,Gt);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tf(e),e}throw Wn=t,ka}}function Fn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wn=n,ka):n}}var Wn=null;function ef(){if(Wn===null)throw Error(o(459));var e=Wn;return Wn=null,e}function tf(e){if(e===ka||e===Mi)throw Error(o(483))}var Ma=null,Sl=0;function Di(e){var t=Sl;return Sl+=1,Ma===null&&(Ma=[]),Pc(Ma,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zi(e,t){throw t.$$typeof===R?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nf(e){function t(x,b){if(e){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function a(x){for(var b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(x,b){return x=Zt(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=67108866,b):S):(x.flags|=67108866,b)):(x.flags|=1048576,b)}function f(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function m(x,b,S,k){return b===null||b.tag!==6?(b=pr(S,x.mode,k),b.return=x,b):(b=i(b,S),b.return=x,b)}function y(x,b,S,k){var K=S.type;return K===D?C(x,b,S.props.children,k,S.key):b!==null&&(b.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Y&&Fn(K)===b.type)?(b=i(b,S.props),wl(b,S),b.return=x,b):(b=Ti(S.type,S.key,S.props,null,x.mode,k),wl(b,S),b.return=x,b)}function w(x,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=xr(S,x.mode,k),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function C(x,b,S,k,K){return b===null||b.tag!==7?(b=Zn(S,x.mode,k,K),b.return=x,b):(b=i(b,S),b.return=x,b)}function M(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=pr(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case q:return S=Ti(b.type,b.key,b.props,null,x.mode,S),wl(S,b),S.return=x,S;case z:return b=xr(b,x.mode,S),b.return=x,b;case Y:return b=Fn(b),M(x,b,S)}if(me(b)||Me(b))return b=Zn(b,x.mode,S,null),b.return=x,b;if(typeof b.then=="function")return M(x,Di(b),S);if(b.$$typeof===I)return M(x,Ei(x,b),S);zi(x,b)}return null}function N(x,b,S,k){var K=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return K!==null?null:m(x,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case q:return S.key===K?y(x,b,S,k):null;case z:return S.key===K?w(x,b,S,k):null;case Y:return S=Fn(S),N(x,b,S,k)}if(me(S)||Me(S))return K!==null?null:C(x,b,S,k,null);if(typeof S.then=="function")return N(x,b,Di(S),k);if(S.$$typeof===I)return N(x,b,Ei(x,S),k);zi(x,S)}return null}function T(x,b,S,k,K){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return x=x.get(S)||null,m(b,x,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return x=x.get(k.key===null?S:k.key)||null,y(b,x,k,K);case z:return x=x.get(k.key===null?S:k.key)||null,w(b,x,k,K);case Y:return k=Fn(k),T(x,b,S,k,K)}if(me(k)||Me(k))return x=x.get(S)||null,C(b,x,k,K,null);if(typeof k.then=="function")return T(x,b,S,Di(k),K);if(k.$$typeof===I)return T(x,b,S,Ei(b,k),K);zi(b,k)}return null}function V(x,b,S,k){for(var K=null,ue=null,H=b,ee=b=0,se=null;H!==null&&ee<S.length;ee++){H.index>ee?(se=H,H=null):se=H.sibling;var oe=N(x,H,S[ee],k);if(oe===null){H===null&&(H=se);break}e&&H&&oe.alternate===null&&t(x,H),b=s(oe,b,ee),ue===null?K=oe:ue.sibling=oe,ue=oe,H=se}if(ee===S.length)return n(x,H),re&&Kt(x,ee),K;if(H===null){for(;ee<S.length;ee++)H=M(x,S[ee],k),H!==null&&(b=s(H,b,ee),ue===null?K=H:ue.sibling=H,ue=H);return re&&Kt(x,ee),K}for(H=a(H);ee<S.length;ee++)se=T(H,x,ee,S[ee],k),se!==null&&(e&&se.alternate!==null&&H.delete(se.key===null?ee:se.key),b=s(se,b,ee),ue===null?K=se:ue.sibling=se,ue=se);return e&&H.forEach(function(_n){return t(x,_n)}),re&&Kt(x,ee),K}function $(x,b,S,k){if(S==null)throw Error(o(151));for(var K=null,ue=null,H=b,ee=b=0,se=null,oe=S.next();H!==null&&!oe.done;ee++,oe=S.next()){H.index>ee?(se=H,H=null):se=H.sibling;var _n=N(x,H,oe.value,k);if(_n===null){H===null&&(H=se);break}e&&H&&_n.alternate===null&&t(x,H),b=s(_n,b,ee),ue===null?K=_n:ue.sibling=_n,ue=_n,H=se}if(oe.done)return n(x,H),re&&Kt(x,ee),K;if(H===null){for(;!oe.done;ee++,oe=S.next())oe=M(x,oe.value,k),oe!==null&&(b=s(oe,b,ee),ue===null?K=oe:ue.sibling=oe,ue=oe);return re&&Kt(x,ee),K}for(H=a(H);!oe.done;ee++,oe=S.next())oe=T(H,x,ee,oe.value,k),oe!==null&&(e&&oe.alternate!==null&&H.delete(oe.key===null?ee:oe.key),b=s(oe,b,ee),ue===null?K=oe:ue.sibling=oe,ue=oe);return e&&H.forEach(function(py){return t(x,py)}),re&&Kt(x,ee),K}function be(x,b,S,k){if(typeof S=="object"&&S!==null&&S.type===D&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case q:e:{for(var K=S.key;b!==null;){if(b.key===K){if(K=S.type,K===D){if(b.tag===7){n(x,b.sibling),k=i(b,S.props.children),k.return=x,x=k;break e}}else if(b.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Y&&Fn(K)===b.type){n(x,b.sibling),k=i(b,S.props),wl(k,S),k.return=x,x=k;break e}n(x,b);break}else t(x,b);b=b.sibling}S.type===D?(k=Zn(S.props.children,x.mode,k,S.key),k.return=x,x=k):(k=Ti(S.type,S.key,S.props,null,x.mode,k),wl(k,S),k.return=x,x=k)}return f(x);case z:e:{for(K=S.key;b!==null;){if(b.key===K)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(x,b.sibling),k=i(b,S.children||[]),k.return=x,x=k;break e}else{n(x,b);break}else t(x,b);b=b.sibling}k=xr(S,x.mode,k),k.return=x,x=k}return f(x);case Y:return S=Fn(S),be(x,b,S,k)}if(me(S))return V(x,b,S,k);if(Me(S)){if(K=Me(S),typeof K!="function")throw Error(o(150));return S=K.call(S),$(x,b,S,k)}if(typeof S.then=="function")return be(x,b,Di(S),k);if(S.$$typeof===I)return be(x,b,Ei(x,S),k);zi(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,b!==null&&b.tag===6?(n(x,b.sibling),k=i(b,S),k.return=x,x=k):(n(x,b),k=pr(S,x.mode,k),k.return=x,x=k),f(x)):n(x,b)}return function(x,b,S,k){try{Sl=0;var K=be(x,b,S,k);return Ma=null,K}catch(H){if(H===ka||H===Mi)throw H;var ue=ft(29,H,null,x.mode);return ue.lanes=k,ue.return=x,ue}finally{}}}var Pn=nf(!0),af=nf(!1),vn=!1;function Dr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ce&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Ni(e),Qc(e,null,n),t}return ji(e,a,t,n),Ni(e)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Jo(e,n)}}function Rr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=f:s=s.next=f,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _r=!1;function Nl(){if(_r){var e=Ea;if(e!==null)throw e}}function Tl(e,t,n,a){_r=!1;var i=e.updateQueue;vn=!1;var s=i.firstBaseUpdate,f=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var y=m,w=y.next;y.next=null,f===null?s=w:f.next=w,f=y;var C=e.alternate;C!==null&&(C=C.updateQueue,m=C.lastBaseUpdate,m!==f&&(m===null?C.firstBaseUpdate=w:m.next=w,C.lastBaseUpdate=y))}if(s!==null){var M=i.baseState;f=0,C=w=y=null,m=s;do{var N=m.lane&-536870913,T=N!==m.lane;if(T?(ie&N)===N:(a&N)===N){N!==0&&N===Aa&&(_r=!0),C!==null&&(C=C.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var V=e,$=m;N=t;var be=n;switch($.tag){case 1:if(V=$.payload,typeof V=="function"){M=V.call(be,M,N);break e}M=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=$.payload,N=typeof V=="function"?V.call(be,M,N):V,N==null)break e;M=O({},M,N);break e;case 2:vn=!0}}N=m.callback,N!==null&&(e.flags|=64,T&&(e.flags|=8192),T=i.callbacks,T===null?i.callbacks=[N]:T.push(N))}else T={lane:N,tag:m.tag,payload:m.payload,callback:m.callback,next:null},C===null?(w=C=T,y=M):C=C.next=T,f|=N;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;T=m,m=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(!0);C===null&&(y=M),i.baseState=y,i.firstBaseUpdate=w,i.lastBaseUpdate=C,s===null&&(i.shared.lanes=0),Tn|=f,e.lanes=f,e.memoizedState=M}}function lf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function sf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)lf(n[e],t)}var Oa=Ce(null),Ri=Ce(0);function rf(e,t){e=ln,te(Ri,e),te(Oa,t),ln=e|t.baseLanes}function qr(){te(Ri,ln),te(Oa,Oa.current)}function Lr(){ln=Ri.current,xe(Oa),xe(Ri)}var dt=Ce(null),Nt=null;function Sn(e){var t=e.alternate;te(Oe,Oe.current&1),te(dt,e),Nt===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(Nt=e)}function Ur(e){te(Oe,Oe.current),te(dt,e),Nt===null&&(Nt=e)}function uf(e){e.tag===22?(te(Oe,Oe.current),te(dt,e),Nt===null&&(Nt=e)):wn()}function wn(){te(Oe,Oe.current),te(dt,dt.current)}function ht(e){xe(dt),Nt===e&&(Nt=null),xe(Oe)}var Oe=Ce(0);function _i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Gu(n)||Xu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var It=0,W=null,ge=null,_e=null,qi=!1,Da=!1,ea=!1,Li=0,Cl=0,za=null,og=0;function Ae(){throw Error(o(321))}function Br(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function Qr(e,t,n,a,i,s){return It=s,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Xf:tu,ea=!1,s=n(a,i),ea=!1,Da&&(s=cf(t,n,a,i)),of(e),s}function of(e){E.H=kl;var t=ge!==null&&ge.next!==null;if(It=0,_e=ge=W=null,qi=!1,Cl=0,za=null,t)throw Error(o(300));e===null||qe||(e=e.dependencies,e!==null&&Ai(e)&&(qe=!0))}function cf(e,t,n,a){W=e;var i=0;do{if(Da&&(za=null),Cl=0,Da=!1,25<=i)throw Error(o(301));if(i+=1,_e=ge=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}E.H=Zf,s=t(n,a)}while(Da);return s}function cg(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Al(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(W.flags|=1024),t}function Vr(){var e=Li!==0;return Li=0,e}function Hr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yr(e){if(qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qi=!1}It=0,_e=ge=W=null,Da=!1,Cl=Li=0,za=null}function $e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?W.memoizedState=_e=e:_e=_e.next=e,_e}function De(){if(ge===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=_e===null?W.memoizedState:_e.next;if(t!==null)_e=t,ge=e;else{if(e===null)throw W.alternate===null?Error(o(467)):Error(o(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},_e===null?W.memoizedState=_e=e:_e=_e.next=e}return _e}function Ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var t=Cl;return Cl+=1,za===null&&(za=[]),e=Pc(za,e,t),t=W,(_e===null?t.memoizedState:_e.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Xf:tu),e}function Bi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===I)return Ze(e)}throw Error(o(438,String(e)))}function Gr(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=W.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ui(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ke;return t.index++,n}function Ft(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=De();return Xr(t,ge,e)}function Xr(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var f=i.next;i.next=s.next,s.next=f}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var m=f=null,y=null,w=t,C=!1;do{var M=w.lane&-536870913;if(M!==w.lane?(ie&M)===M:(It&M)===M){var N=w.revertLane;if(N===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),M===Aa&&(C=!0);else if((It&N)===N){w=w.next,N===Aa&&(C=!0);continue}else M={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},y===null?(m=y=M,f=s):y=y.next=M,W.lanes|=N,Tn|=N;M=w.action,ea&&n(s,M),s=w.hasEagerState?w.eagerState:n(s,M)}else N={lane:M,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},y===null?(m=y=N,f=s):y=y.next=N,W.lanes|=M,Tn|=M;w=w.next}while(w!==null&&w!==t);if(y===null?f=s:y.next=m,!ct(s,e.memoizedState)&&(qe=!0,C&&(n=Ea,n!==null)))throw n;e.memoizedState=s,e.baseState=f,e.baseQueue=y,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Zr(e){var t=De(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do s=e(s,f.action),f=f.next;while(f!==i);ct(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ff(e,t,n){var a=W,i=De(),s=re;if(s){if(n===void 0)throw Error(o(407));n=n()}else n=t();var f=!ct((ge||i).memoizedState,n);if(f&&(i.memoizedState=n,qe=!0),i=i.queue,$r(mf.bind(null,a,i,e),[e]),i.getSnapshot!==t||f||_e!==null&&_e.memoizedState.tag&1){if(a.flags|=2048,Ra(9,{destroy:void 0},hf.bind(null,a,i,n,t),null),ve===null)throw Error(o(349));s||(It&127)!==0||df(a,t,n)}return n}function df(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Ui(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hf(e,t,n,a){t.value=n,t.getSnapshot=a,gf(t)&&yf(e)}function mf(e,t,n){return n(function(){gf(t)&&yf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function yf(e){var t=Xn(e,2);t!==null&&lt(t,e,2)}function Kr(e){var t=$e();if(typeof e=="function"){var n=e;if(e=n(),ea){fn(!0);try{n()}finally{fn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:e},t}function bf(e,t,n,a){return e.baseState=n,Xr(e,ge,typeof a=="function"?a:Ft)}function fg(e,t,n,a,i){if(Yi(e))throw Error(o(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){s.listeners.push(f)}};E.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,vf(t,s)):(s.next=n.next,t.pending=n.next=s)}}function vf(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=E.T,f={};E.T=f;try{var m=n(i,a),y=E.S;y!==null&&y(f,m),pf(e,t,m)}catch(w){Jr(e,t,w)}finally{s!==null&&f.types!==null&&(s.types=f.types),E.T=s}}else try{s=n(i,a),pf(e,t,s)}catch(w){Jr(e,t,w)}}function pf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){xf(e,t,a)},function(a){return Jr(e,t,a)}):xf(e,t,n)}function xf(e,t,n){t.status="fulfilled",t.value=n,Sf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,vf(e,n)))}function Jr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Sf(t),t=t.next;while(t!==a)}e.action=null}function Sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wf(e,t){return t}function jf(e,t){if(re){var n=ve.formState;if(n!==null){e:{var a=W;if(re){if(je){t:{for(var i=je,s=jt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Tt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){je=Tt(i.nextSibling),a=i.data==="F!";break e}}yn(a)}a=!1}a&&(t=n[0])}}return n=$e(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:t},n.queue=a,n=Hf.bind(null,W,a),a.dispatch=n,a=Kr(!1),s=eu.bind(null,W,!1,a.queue),a=$e(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=fg.bind(null,W,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Nf(e){var t=De();return Tf(t,ge,e)}function Tf(e,t,n){if(t=Xr(e,t,wf)[0],e=Qi(Ft)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Al(t)}catch(f){throw f===ka?Mi:f}else a=t;t=De();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(W.flags|=2048,Ra(9,{destroy:void 0},dg.bind(null,i,n),null)),[a,s,e]}function dg(e,t){e.action=t}function Cf(e){var t=De(),n=ge;if(n!==null)return Tf(t,n,e);De(),t=t.memoizedState,n=De();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ra(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=W.updateQueue,t===null&&(t=Ui(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Af(){return De().memoizedState}function Vi(e,t,n,a){var i=$e();W.flags|=e,i.memoizedState=Ra(1|t,{destroy:void 0},n,a===void 0?null:a)}function Hi(e,t,n,a){var i=De();a=a===void 0?null:a;var s=i.memoizedState.inst;ge!==null&&a!==null&&Br(a,ge.memoizedState.deps)?i.memoizedState=Ra(t,s,n,a):(W.flags|=e,i.memoizedState=Ra(1|t,s,n,a))}function Ef(e,t){Vi(8390656,8,e,t)}function $r(e,t){Hi(2048,8,e,t)}function hg(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=Ui(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function kf(e){var t=De().memoizedState;return hg({ref:t,nextImpl:e}),function(){if((ce&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Mf(e,t){return Hi(4,2,e,t)}function Of(e,t){return Hi(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zf(e,t,n){n=n!=null?n.concat([e]):null,Hi(4,4,Df.bind(null,t,e),n)}function Ir(){}function Rf(e,t){var n=De();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Br(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function _f(e,t){var n=De();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Br(t,a[1]))return a[0];if(a=e(),ea){fn(!0);try{e()}finally{fn(!1)}}return n.memoizedState=[a,t],a}function Fr(e,t,n){return n===void 0||(It&1073741824)!==0&&(ie&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=qd(),W.lanes|=e,Tn|=e,n)}function qf(e,t,n,a){return ct(n,t)?n:Oa.current!==null?(e=Fr(e,n,a),ct(e,t)||(qe=!0),e):(It&42)===0||(It&1073741824)!==0&&(ie&261930)===0?(qe=!0,e.memoizedState=n):(e=qd(),W.lanes|=e,Tn|=e,t)}function Lf(e,t,n,a,i){var s=Q.p;Q.p=s!==0&&8>s?s:8;var f=E.T,m={};E.T=m,eu(e,!1,t,n);try{var y=i(),w=E.S;if(w!==null&&w(m,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var C=ug(y,a);El(e,t,C,yt(e))}else El(e,t,a,yt(e))}catch(M){El(e,t,{then:function(){},status:"rejected",reason:M},yt())}finally{Q.p=s,f!==null&&m.types!==null&&(f.types=m.types),E.T=f}}function mg(){}function Wr(e,t,n,a){if(e.tag!==5)throw Error(o(476));var i=Uf(e).queue;Lf(e,i,t,B,n===null?mg:function(){return Bf(e),n(a)})}function Uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bf(e){var t=Uf(e);t.next===null&&(t=e.alternate.memoizedState),El(e,t.next.queue,{},yt())}function Pr(){return Ze(Xl)}function Qf(){return De().memoizedState}function Vf(){return De().memoizedState}function gg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yt();e=pn(n);var a=xn(t,e,n);a!==null&&(lt(a,t,n),jl(a,t,n)),t={cache:Er()},e.payload=t;return}t=t.return}}function yg(e,t,n){var a=yt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e)?Yf(t,n):(n=br(e,t,n,a),n!==null&&(lt(n,e,a),Gf(n,t,a)))}function Hf(e,t,n){var a=yt();El(e,t,n,a)}function El(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Yf(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var f=t.lastRenderedState,m=s(f,n);if(i.hasEagerState=!0,i.eagerState=m,ct(m,f))return ji(e,t,i,0),ve===null&&wi(),!1}catch{}finally{}if(n=br(e,t,i,a),n!==null)return lt(n,e,a),Gf(n,t,a),!0}return!1}function eu(e,t,n,a){if(a={lane:2,revertLane:Du(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yi(e)){if(t)throw Error(o(479))}else t=br(e,n,a,2),t!==null&&lt(t,e,2)}function Yi(e){var t=e.alternate;return e===W||t!==null&&t===W}function Yf(e,t){Da=qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Jo(e,n)}}var kl={readContext:Ze,use:Bi,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};kl.useEffectEvent=Ae;var Xf={readContext:Ze,use:Bi,useCallback:function(e,t){return $e().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Ef,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Vi(4194308,4,Df.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vi(4194308,4,e,t)},useInsertionEffect:function(e,t){Vi(4,2,e,t)},useMemo:function(e,t){var n=$e();t=t===void 0?null:t;var a=e();if(ea){fn(!0);try{e()}finally{fn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=$e();if(n!==void 0){var i=n(t);if(ea){fn(!0);try{n(t)}finally{fn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=yg.bind(null,W,e),[a.memoizedState,e]},useRef:function(e){var t=$e();return e={current:e},t.memoizedState=e},useState:function(e){e=Kr(e);var t=e.queue,n=Hf.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ir,useDeferredValue:function(e,t){var n=$e();return Fr(n,e,t)},useTransition:function(){var e=Kr(!1);return e=Lf.bind(null,W,e.queue,!0,!1),$e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=W,i=$e();if(re){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ve===null)throw Error(o(349));(ie&127)!==0||df(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ef(mf.bind(null,a,s,e),[e]),a.flags|=2048,Ra(9,{destroy:void 0},hf.bind(null,a,s,n,t),null),n},useId:function(){var e=$e(),t=ve.identifierPrefix;if(re){var n=zt,a=Dt;n=(a&~(1<<32-ot(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=og++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pr,useFormState:jf,useActionState:jf,useOptimistic:function(e){var t=$e();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=eu.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gr,useCacheRefresh:function(){return $e().memoizedState=gg.bind(null,W)},useEffectEvent:function(e){var t=$e(),n={impl:e};return t.memoizedState=n,function(){if((ce&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},tu={readContext:Ze,use:Bi,useCallback:Rf,useContext:Ze,useEffect:$r,useImperativeHandle:zf,useInsertionEffect:Mf,useLayoutEffect:Of,useMemo:_f,useReducer:Qi,useRef:Af,useState:function(){return Qi(Ft)},useDebugValue:Ir,useDeferredValue:function(e,t){var n=De();return qf(n,ge.memoizedState,e,t)},useTransition:function(){var e=Qi(Ft)[0],t=De().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:ff,useId:Qf,useHostTransitionStatus:Pr,useFormState:Nf,useActionState:Nf,useOptimistic:function(e,t){var n=De();return bf(n,ge,e,t)},useMemoCache:Gr,useCacheRefresh:Vf};tu.useEffectEvent=kf;var Zf={readContext:Ze,use:Bi,useCallback:Rf,useContext:Ze,useEffect:$r,useImperativeHandle:zf,useInsertionEffect:Mf,useLayoutEffect:Of,useMemo:_f,useReducer:Zr,useRef:Af,useState:function(){return Zr(Ft)},useDebugValue:Ir,useDeferredValue:function(e,t){var n=De();return ge===null?Fr(n,e,t):qf(n,ge.memoizedState,e,t)},useTransition:function(){var e=Zr(Ft)[0],t=De().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:ff,useId:Qf,useHostTransitionStatus:Pr,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var n=De();return ge!==null?bf(n,ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:Vf};Zf.useEffectEvent=kf;function nu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:O({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var au={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=yt(),i=pn(a);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,a),t!==null&&(lt(t,e,a),jl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=yt(),i=pn(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,a),t!==null&&(lt(t,e,a),jl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),a=pn(n);a.tag=2,t!=null&&(a.callback=t),t=xn(e,a,n),t!==null&&(lt(t,e,n),jl(t,e,n))}};function Kf(e,t,n,a,i,s,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,f):t.prototype&&t.prototype.isPureReactComponent?!gl(n,a)||!gl(i,s):!0}function Jf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function ta(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=O({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function $f(e){Si(e)}function If(e){console.error(e)}function Ff(e){Si(e)}function Gi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Wf(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function lu(e,t,n){return n=pn(n),n.tag=3,n.payload={element:null},n.callback=function(){Gi(e,t)},n}function Pf(e){return e=pn(e),e.tag=3,e}function ed(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Wf(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Wf(t,n,a),typeof i!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function bg(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ca(t,n,i,!0),n=dt.current,n!==null){switch(n.tag){case 31:case 13:return Nt===null?ns():n.alternate===null&&Ee===0&&(Ee=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Oi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ku(e,a,i)),!1;case 22:return n.flags|=65536,a===Oi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ku(e,a,i)),!1}throw Error(o(435,n.tag))}return ku(e,a,i),ns(),!1}if(re)return t=dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==jr&&(e=Error(o(422),{cause:a}),vl(xt(e,n)))):(a!==jr&&(t=Error(o(423),{cause:a}),vl(xt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=xt(a,n),i=lu(e.stateNode,a,i),Rr(e,i),Ee!==4&&(Ee=2)),!1;var s=Error(o(520),{cause:a});if(s=xt(s,n),Ll===null?Ll=[s]:Ll.push(s),Ee!==4&&(Ee=2),t===null)return!0;a=xt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=lu(n.stateNode,a,e),Rr(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Cn===null||!Cn.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Pf(i),ed(i,e,n,a),Rr(n,i),!1}n=n.return}while(n!==null);return!1}var iu=Error(o(461)),qe=!1;function Ke(e,t,n,a){t.child=e===null?af(t,null,n,a):Pn(t,e.child,n,a)}function td(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}else f=a;return $n(t),a=Qr(e,t,n,f,s,i),m=Vr(),e!==null&&!qe?(Hr(e,t,i),Wt(e,t,i)):(re&&m&&Sr(t),t.flags|=1,Ke(e,t,a,i),t.child)}function nd(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!vr(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,ad(e,t,s,a,i)):(e=Ti(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!hu(e,i)){var f=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(f,a)&&e.ref===t.ref)return Wt(e,t,i)}return t.flags|=1,e=Zt(s,a),e.ref=t.ref,e.return=t,t.child=e}function ad(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(gl(s,a)&&e.ref===t.ref)if(qe=!1,t.pendingProps=a=s,hu(e,i))(e.flags&131072)!==0&&(qe=!0);else return t.lanes=e.lanes,Wt(e,t,i)}return su(e,t,n,a,i)}function ld(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return id(e,t,s,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ki(t,s!==null?s.cachePool:null),s!==null?rf(t,s):qr(),uf(t);else return a=t.lanes=536870912,id(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(ki(t,s.cachePool),rf(t,s),wn(),t.memoizedState=null):(e!==null&&ki(t,null),qr(),wn());return Ke(e,t,i,n),t.child}function Ml(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function id(e,t,n,a,i){var s=Mr();return s=s===null?null:{parent:Re._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&ki(t,null),qr(),uf(t),e!==null&&Ca(e,t,a,!0),t.childLanes=i,null}function Xi(e,t){return t=Ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sd(e,t,n){return Pn(t,e.child,null,n),e=Xi(t,t.pendingProps),e.flags|=2,ht(t),t.memoizedState=null,e}function vg(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(a.mode==="hidden")return e=Xi(t,a),t.lanes=536870912,Ml(null,e);if(Ur(t),(e=je)?(e=vh(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:mn!==null?{id:Dt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},n=Hc(e),n.return=t,t.child=n,Xe=t,je=null)):e=null,e===null)throw yn(t);return t.lanes=536870912,null}return Xi(t,a)}var s=e.memoizedState;if(s!==null){var f=s.dehydrated;if(Ur(t),i)if(t.flags&256)t.flags&=-257,t=sd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(qe||Ca(e,t,n,!1),i=(n&e.childLanes)!==0,qe||i){if(a=ve,a!==null&&(f=$o(a,n),f!==0&&f!==s.retryLane))throw s.retryLane=f,Xn(e,f),lt(a,e,f),iu;ns(),t=sd(e,t,n)}else e=s.treeContext,je=Tt(f.nextSibling),Xe=t,re=!0,gn=null,jt=!1,e!==null&&Xc(t,e),t=Xi(t,a),t.flags|=4096;return t}return e=Zt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function su(e,t,n,a,i){return $n(t),n=Qr(e,t,n,a,void 0,i),a=Vr(),e!==null&&!qe?(Hr(e,t,i),Wt(e,t,i)):(re&&a&&Sr(t),t.flags|=1,Ke(e,t,n,i),t.child)}function rd(e,t,n,a,i,s){return $n(t),t.updateQueue=null,n=cf(t,a,n,i),of(e),a=Vr(),e!==null&&!qe?(Hr(e,t,s),Wt(e,t,s)):(re&&a&&Sr(t),t.flags|=1,Ke(e,t,n,s),t.child)}function ud(e,t,n,a,i){if($n(t),t.stateNode===null){var s=wa,f=n.contextType;typeof f=="object"&&f!==null&&(s=Ze(f)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=au,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Dr(t),f=n.contextType,s.context=typeof f=="object"&&f!==null?Ze(f):wa,s.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(nu(t,n,f,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(f=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),f!==s.state&&au.enqueueReplaceState(s,s.state,null),Tl(t,a,s,i),Nl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var m=t.memoizedProps,y=ta(n,m);s.props=y;var w=s.context,C=n.contextType;f=wa,typeof C=="object"&&C!==null&&(f=Ze(C));var M=n.getDerivedStateFromProps;C=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,C||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m||w!==f)&&Jf(t,s,a,f),vn=!1;var N=t.memoizedState;s.state=N,Tl(t,a,s,i),Nl(),w=t.memoizedState,m||N!==w||vn?(typeof M=="function"&&(nu(t,n,M,a),w=t.memoizedState),(y=vn||Kf(t,n,y,a,N,w,f))?(C||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),s.props=a,s.state=w,s.context=f,a=y):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,zr(e,t),f=t.memoizedProps,C=ta(n,f),s.props=C,M=t.pendingProps,N=s.context,w=n.contextType,y=wa,typeof w=="object"&&w!==null&&(y=Ze(w)),m=n.getDerivedStateFromProps,(w=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(f!==M||N!==y)&&Jf(t,s,a,y),vn=!1,N=t.memoizedState,s.state=N,Tl(t,a,s,i),Nl();var T=t.memoizedState;f!==M||N!==T||vn||e!==null&&e.dependencies!==null&&Ai(e.dependencies)?(typeof m=="function"&&(nu(t,n,m,a),T=t.memoizedState),(C=vn||Kf(t,n,C,a,N,T,y)||e!==null&&e.dependencies!==null&&Ai(e.dependencies))?(w||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,T,y),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,T,y)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=T),s.props=a,s.state=T,s.context=y,a=C):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Zi(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Pn(t,e.child,null,i),t.child=Pn(t,null,n,i)):Ke(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Wt(e,t,i),e}function od(e,t,n,a){return Kn(),t.flags|=256,Ke(e,t,n,a),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:Fc()}}function ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=gt),e}function cd(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,f;if((f=s)||(f=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(i?Sn(t):wn(),(e=je)?(e=vh(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:mn!==null?{id:Dt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},n=Hc(e),n.return=t,t.child=n,Xe=t,je=null)):e=null,e===null)throw yn(t);return Xu(e)?t.lanes=32:t.lanes=536870912,null}var m=a.children;return a=a.fallback,i?(wn(),i=t.mode,m=Ki({mode:"hidden",children:m},i),a=Zn(a,i,n,null),m.return=t,a.return=t,m.sibling=a,t.child=m,a=t.child,a.memoizedState=uu(n),a.childLanes=ou(e,f,n),t.memoizedState=ru,Ml(null,a)):(Sn(t),cu(t,m))}var y=e.memoizedState;if(y!==null&&(m=y.dehydrated,m!==null)){if(s)t.flags&256?(Sn(t),t.flags&=-257,t=fu(e,t,n)):t.memoizedState!==null?(wn(),t.child=e.child,t.flags|=128,t=null):(wn(),m=a.fallback,i=t.mode,a=Ki({mode:"visible",children:a.children},i),m=Zn(m,i,n,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,Pn(t,e.child,null,n),a=t.child,a.memoizedState=uu(n),a.childLanes=ou(e,f,n),t.memoizedState=ru,t=Ml(null,a));else if(Sn(t),Xu(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var w=f.dgst;f=w,a=Error(o(419)),a.stack="",a.digest=f,vl({value:a,source:null,stack:null}),t=fu(e,t,n)}else if(qe||Ca(e,t,n,!1),f=(n&e.childLanes)!==0,qe||f){if(f=ve,f!==null&&(a=$o(f,n),a!==0&&a!==y.retryLane))throw y.retryLane=a,Xn(e,a),lt(f,e,a),iu;Gu(m)||ns(),t=fu(e,t,n)}else Gu(m)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,je=Tt(m.nextSibling),Xe=t,re=!0,gn=null,jt=!1,e!==null&&Xc(t,e),t=cu(t,a.children),t.flags|=4096);return t}return i?(wn(),m=a.fallback,i=t.mode,y=e.child,w=y.sibling,a=Zt(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&65011712,w!==null?m=Zt(w,m):(m=Zn(m,i,n,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,Ml(null,a),a=t.child,m=e.child.memoizedState,m===null?m=uu(n):(i=m.cachePool,i!==null?(y=Re._currentValue,i=i.parent!==y?{parent:y,pool:y}:i):i=Fc(),m={baseLanes:m.baseLanes|n,cachePool:i}),a.memoizedState=m,a.childLanes=ou(e,f,n),t.memoizedState=ru,Ml(e.child,a)):(Sn(t),n=e.child,e=n.sibling,n=Zt(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function cu(e,t){return t=Ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ki(e,t){return e=ft(22,e,null,t),e.lanes=0,e}function fu(e,t,n){return Pn(t,e.child,null,n),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cr(e.return,t,n)}function du(e,t,n,a,i,s){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=i,f.treeForkCount=s)}function dd(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var f=Oe.current,m=(f&2)!==0;if(m?(f=f&1|2,t.flags|=128):f&=1,te(Oe,f),Ke(e,t,a,n),a=re?bl:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,n,t);else if(e.tag===19)fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_i(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),du(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_i(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}du(t,!0,n,null,s,a);break;case"together":du(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ca(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ai(e)))}function pg(e,t,n){switch(t.tag){case 3:li(t,t.stateNode.containerInfo),bn(t,Re,e.memoizedState.cache),Kn();break;case 27:case 5:Ls(t);break;case 4:li(t,t.stateNode.containerInfo);break;case 10:bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ur(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Sn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?cd(e,t,n):(Sn(t),e=Wt(e,t,n),e!==null?e.sibling:null);Sn(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ca(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return dd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(Oe,Oe.current),a)break;return null;case 22:return t.lanes=0,ld(e,t,n,t.pendingProps);case 24:bn(t,Re,e.memoizedState.cache)}return Wt(e,t,n)}function hd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qe=!0;else{if(!hu(e,n)&&(t.flags&128)===0)return qe=!1,pg(e,t,n);qe=(e.flags&131072)!==0}else qe=!1,re&&(t.flags&1048576)!==0&&Gc(t,bl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Fn(t.elementType),t.type=e,typeof e=="function")vr(e)?(a=ta(e,a),t.tag=1,t=ud(null,t,e,a,n)):(t.tag=0,t=su(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ne){t.tag=11,t=td(null,t,e,a,n);break e}else if(i===X){t.tag=14,t=nd(null,t,e,a,n);break e}}throw t=F(e)||e,Error(o(306,t,""))}}return t;case 0:return su(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=ta(a,t.pendingProps),ud(e,t,a,i,n);case 3:e:{if(li(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,zr(e,t),Tl(t,a,null,n);var f=t.memoizedState;if(a=f.cache,bn(t,Re,a),a!==s.cache&&Ar(t,[Re],n,!0),Nl(),a=f.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=od(e,t,a,n);break e}else if(a!==i){i=xt(Error(o(424)),t),vl(i),t=od(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(je=Tt(e.firstChild),Xe=t,re=!0,gn=null,jt=!0,n=af(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Kn(),a===i){t=Wt(e,t,n);break e}Ke(e,t,a,n)}t=t.child}return t;case 26:return Zi(e,t),e===null?(n=Nh(t.type,null,t.pendingProps,null))?t.memoizedState=n:re||(n=t.type,e=t.pendingProps,a=os(Fe.current).createElement(n),a[Ge]=t,a[We]=e,Je(a,n,e),Ve(a),t.stateNode=a):t.memoizedState=Nh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ls(t),e===null&&re&&(a=t.stateNode=Sh(t.type,t.pendingProps,Fe.current),Xe=t,jt=!0,i=je,Mn(t.type)?(Zu=i,je=Tt(a.firstChild)):je=i),Ke(e,t,t.pendingProps.children,n),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((i=a=je)&&(a=$g(a,t.type,t.pendingProps,jt),a!==null?(t.stateNode=a,Xe=t,je=Tt(a.firstChild),jt=!1,i=!0):i=!1),i||yn(t)),Ls(t),i=t.type,s=t.pendingProps,f=e!==null?e.memoizedProps:null,a=s.children,Vu(i,s)?a=null:f!==null&&Vu(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=Qr(e,t,cg,null,null,n),Xl._currentValue=i),Zi(e,t),Ke(e,t,a,n),t.child;case 6:return e===null&&re&&((e=n=je)&&(n=Ig(n,t.pendingProps,jt),n!==null?(t.stateNode=n,Xe=t,je=null,e=!0):e=!1),e||yn(t)),null;case 13:return cd(e,t,n);case 4:return li(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pn(t,null,a,n):Ke(e,t,a,n),t.child;case 11:return td(e,t,t.type,t.pendingProps,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,bn(t,t.type,a.value),Ke(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,$n(t),i=Ze(i),a=a(i),t.flags|=1,Ke(e,t,a,n),t.child;case 14:return nd(e,t,t.type,t.pendingProps,n);case 15:return ad(e,t,t.type,t.pendingProps,n);case 19:return dd(e,t,n);case 31:return vg(e,t,n);case 22:return ld(e,t,n,t.pendingProps);case 24:return $n(t),a=Ze(Re),e===null?(i=Mr(),i===null&&(i=ve,s=Er(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Dr(t),bn(t,Re,i)):((e.lanes&n)!==0&&(zr(e,t),Tl(t,null,null,n),Nl()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),bn(t,Re,a)):(a=s.cache,bn(t,Re,a),a!==i.cache&&Ar(t,[Re],n,!0))),Ke(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Pt(e){e.flags|=4}function mu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Qd())e.flags|=8192;else throw Wn=Oi,Or}else e.flags&=-16777217}function md(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kh(t))if(Qd())e.flags|=8192;else throw Wn=Oi,Or}function Ji(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zo():536870912,e.lanes|=t,Ua|=t)}function Ol(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function xg(e,t,n){var a=t.pendingProps;switch(wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),$t(Re),ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?Pt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nr())),Ne(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(Pt(t),s!==null?(Ne(t),md(t,s)):(Ne(t),mu(t,i,null,a,n))):s?s!==e.memoizedState?(Pt(t),Ne(t),md(t,s)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Pt(t),Ne(t),mu(t,i,e,a,n)),null;case 27:if(ii(t),n=Fe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ne(t),null}e=we.current,Ta(t)?Zc(t):(e=Sh(i,a,n),t.stateNode=e,Pt(t))}return Ne(t),null;case 5:if(ii(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ne(t),null}if(s=we.current,Ta(t))Zc(t);else{var f=os(Fe.current);switch(s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?f.createElement(i,{is:a.is}):f.createElement(i)}}s[Ge]=t,s[We]=a;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=s;e:switch(Je(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Pt(t)}}return Ne(t),mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=Fe.current,Ta(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Xe,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ge]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ch(e.nodeValue,n)),e||yn(t,!0)}else e=os(e).createTextNode(a),e[Ge]=t,t.stateNode=e}return Ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ta(t),n!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ge]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else n=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ht(t),t):(ht(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ne(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Ta(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[Ge]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else i=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ht(t),t):(ht(t),null)}return ht(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ji(t,t.updateQueue),Ne(t),null);case 4:return ua(),e===null&&qu(t.stateNode.containerInfo),Ne(t),null;case 10:return $t(t.type),Ne(t),null;case 19:if(xe(Oe),a=t.memoizedState,a===null)return Ne(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Ol(a,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=_i(e),s!==null){for(t.flags|=128,Ol(a,!1),e=s.updateQueue,t.updateQueue=e,Ji(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vc(n,e),n=n.sibling;return te(Oe,Oe.current&1|2),re&&Kt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&rt()>Pi&&(t.flags|=128,i=!0,Ol(a,!1),t.lanes=4194304)}else{if(!i)if(e=_i(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ji(t,e),Ol(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!re)return Ne(t),null}else 2*rt()-a.renderingStartTime>Pi&&n!==536870912&&(t.flags|=128,i=!0,Ol(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=rt(),e.sibling=null,n=Oe.current,te(Oe,i?n&1|2:n&1),re&&Kt(t,a.treeForkCount),e):(Ne(t),null);case 22:case 23:return ht(t),Lr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),n=t.updateQueue,n!==null&&Ji(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&xe(In),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$t(Re),Ne(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Sg(e,t){switch(wr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $t(Re),ua(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ii(t),null;case 31:if(t.memoizedState!==null){if(ht(t),t.alternate===null)throw Error(o(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Oe),null;case 4:return ua(),null;case 10:return $t(t.type),null;case 22:case 23:return ht(t),Lr(),e!==null&&xe(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $t(Re),null;case 25:return null;default:return null}}function gd(e,t){switch(wr(t),t.tag){case 3:$t(Re),ua();break;case 26:case 27:case 5:ii(t);break;case 4:ua();break;case 31:t.memoizedState!==null&&ht(t);break;case 13:ht(t);break;case 19:xe(Oe);break;case 10:$t(t.type);break;case 22:case 23:ht(t),Lr(),e!==null&&xe(In);break;case 24:$t(Re)}}function Dl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,f=n.inst;a=s(),f.destroy=a}n=n.next}while(n!==i)}}catch(m){he(t,t.return,m)}}function jn(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var f=a.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,i=t;var y=n,w=m;try{w()}catch(C){he(i,y,C)}}}a=a.next}while(a!==s)}}catch(C){he(t,t.return,C)}}function yd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{sf(t,n)}catch(a){he(e,e.return,a)}}}function bd(e,t,n){n.props=ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){he(e,t,a)}}function zl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){he(e,t,i)}}function Rt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){he(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){he(e,t,i)}else n.current=null}function vd(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){he(e,e.return,i)}}function gu(e,t,n){try{var a=e.stateNode;Yg(a,e.type,n,t),a[We]=t}catch(i){he(e,e.return,i)}}function pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mn(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gt));else if(a!==4&&(a===27&&Mn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function $i(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Mn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($i(e,t,n),e=e.sibling;e!==null;)$i(e,t,n),e=e.sibling}function xd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Je(t,a,n),t[Ge]=e,t[We]=n}catch(s){he(e,e.return,s)}}var en=!1,Le=!1,vu=!1,Sd=typeof WeakSet=="function"?WeakSet:Set,He=null;function wg(e,t){if(e=e.containerInfo,Bu=ys,e=Dc(e),fr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var f=0,m=-1,y=-1,w=0,C=0,M=e,N=null;t:for(;;){for(var T;M!==n||i!==0&&M.nodeType!==3||(m=f+i),M!==s||a!==0&&M.nodeType!==3||(y=f+a),M.nodeType===3&&(f+=M.nodeValue.length),(T=M.firstChild)!==null;)N=M,M=T;for(;;){if(M===e)break t;if(N===n&&++w===i&&(m=f),N===s&&++C===a&&(y=f),(T=M.nextSibling)!==null)break;M=N,N=M.parentNode}M=T}n=m===-1||y===-1?null:{start:m,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},ys=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){switch(t=He,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var V=ta(n.type,i);e=a.getSnapshotBeforeUpdate(V,s),a.__reactInternalSnapshotBeforeUpdate=e}catch($){he(n,n.return,$)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}}function wd(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n),a&4&&Dl(5,n);break;case 1:if(nn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){he(n,n.return,f)}else{var i=ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){he(n,n.return,f)}}a&64&&yd(n),a&512&&zl(n,n.return);break;case 3:if(nn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{sf(e,t)}catch(f){he(n,n.return,f)}}break;case 27:t===null&&a&4&&xd(n);case 26:case 5:nn(e,n),t===null&&a&4&&vd(n),a&512&&zl(n,n.return);break;case 12:nn(e,n);break;case 31:nn(e,n),a&4&&Td(e,n);break;case 13:nn(e,n),a&4&&Cd(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Og.bind(null,n),Fg(e,n))));break;case 22:if(a=n.memoizedState!==null||en,!a){t=t!==null&&t.memoizedState!==null||Le,i=en;var s=Le;en=a,(Le=t)&&!s?an(e,n,(n.subtreeFlags&8772)!==0):nn(e,n),en=i,Le=s}break;case 30:break;default:nn(e,n)}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Js(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,et=!1;function tn(e,t,n){for(n=n.child;n!==null;)Nd(e,t,n),n=n.sibling}function Nd(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 26:Le||Rt(n,t),tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Le||Rt(n,t);var a=Te,i=et;Mn(n.type)&&(Te=n.stateNode,et=!1),tn(e,t,n),Hl(n.stateNode),Te=a,et=i;break;case 5:Le||Rt(n,t);case 6:if(a=Te,i=et,Te=null,tn(e,t,n),Te=a,et=i,Te!==null)if(et)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(n.stateNode)}catch(s){he(n,t,s)}else try{Te.removeChild(n.stateNode)}catch(s){he(n,t,s)}break;case 18:Te!==null&&(et?(e=Te,yh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Za(e)):yh(Te,n.stateNode));break;case 4:a=Te,i=et,Te=n.stateNode.containerInfo,et=!0,tn(e,t,n),Te=a,et=i;break;case 0:case 11:case 14:case 15:jn(2,n,t),Le||jn(4,n,t),tn(e,t,n);break;case 1:Le||(Rt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&bd(n,t,a)),tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:Le=(a=Le)||n.memoizedState!==null,tn(e,t,n),Le=a;break;default:tn(e,t,n)}}function Td(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(n){he(t,t.return,n)}}}function Cd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(n){he(t,t.return,n)}}function jg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sd),t;default:throw Error(o(435,e.tag))}}function Ii(e,t){var n=jg(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Dg.bind(null,e,a);a.then(i,i)}})}function tt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(Mn(m.type)){Te=m.stateNode,et=!1;break e}break;case 5:Te=m.stateNode,et=!1;break e;case 3:case 4:Te=m.stateNode.containerInfo,et=!0;break e}m=m.return}if(Te===null)throw Error(o(160));Nd(s,f,i),Te=null,et=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ad(t,e),t=t.sibling}var Mt=null;function Ad(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tt(t,e),nt(e),a&4&&(jn(3,e,e.return),Dl(3,e),jn(5,e,e.return));break;case 1:tt(t,e),nt(e),a&512&&(Le||n===null||Rt(n,n.return)),a&64&&en&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Mt;if(tt(t,e),nt(e),a&512&&(Le||n===null||Rt(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[sl]||s[Ge]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Je(s,a,n),s[Ge]=e,Ve(s),a=s;break e;case"link":var f=Ah("link","href",i).get(a+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(s=f[m],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}s=i.createElement(a),Je(s,a,n),i.head.appendChild(s);break;case"meta":if(f=Ah("meta","content",i).get(a+(n.content||""))){for(m=0;m<f.length;m++)if(s=f[m],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}s=i.createElement(a),Je(s,a,n),i.head.appendChild(s);break;default:throw Error(o(468,a))}s[Ge]=e,Ve(s),a=s}e.stateNode=a}else Eh(i,e.type,e.stateNode);else e.stateNode=Ch(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Eh(i,e.type,e.stateNode):Ch(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:tt(t,e),nt(e),a&512&&(Le||n===null||Rt(n,n.return)),n!==null&&a&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(tt(t,e),nt(e),a&512&&(Le||n===null||Rt(n,n.return)),e.flags&32){i=e.stateNode;try{ga(i,"")}catch(V){he(e,e.return,V)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,gu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(vu=!0);break;case 6:if(tt(t,e),nt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(V){he(e,e.return,V)}}break;case 3:if(ds=null,i=Mt,Mt=cs(t.containerInfo),tt(t,e),Mt=i,nt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(V){he(e,e.return,V)}vu&&(vu=!1,Ed(e));break;case 4:a=Mt,Mt=cs(e.stateNode.containerInfo),tt(t,e),nt(e),Mt=a;break;case 12:tt(t,e),nt(e);break;case 31:tt(t,e),nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ii(e,a)));break;case 13:tt(t,e),nt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wi=rt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ii(e,a)));break;case 22:i=e.memoizedState!==null;var y=n!==null&&n.memoizedState!==null,w=en,C=Le;if(en=w||i,Le=C||y,tt(t,e),Le=C,en=w,nt(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||y||en||Le||na(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){y=n=t;try{if(s=y.stateNode,i)f=s.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=y.stateNode;var M=y.memoizedProps.style,N=M!=null&&M.hasOwnProperty("display")?M.display:null;m.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(V){he(y,y.return,V)}}}else if(t.tag===6){if(n===null){y=t;try{y.stateNode.nodeValue=i?"":y.memoizedProps}catch(V){he(y,y.return,V)}}}else if(t.tag===18){if(n===null){y=t;try{var T=y.stateNode;i?bh(T,!0):bh(y.stateNode,!1)}catch(V){he(y,y.return,V)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ii(e,n))));break;case 19:tt(t,e),nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ii(e,a)));break;case 30:break;case 21:break;default:tt(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(pd(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode,s=yu(e);$i(e,s,i);break;case 5:var f=n.stateNode;n.flags&32&&(ga(f,""),n.flags&=-33);var m=yu(e);$i(e,m,f);break;case 3:case 4:var y=n.stateNode.containerInfo,w=yu(e);bu(e,w,y);break;default:throw Error(o(161))}}catch(C){he(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ed(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ed(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wd(e,t.alternate,t),t=t.sibling}function na(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jn(4,t,t.return),na(t);break;case 1:Rt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bd(t,t.return,n),na(t);break;case 27:Hl(t.stateNode);case 26:case 5:Rt(t,t.return),na(t);break;case 22:t.memoizedState===null&&na(t);break;case 30:na(t);break;default:na(t)}e=e.sibling}}function an(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,f=s.flags;switch(s.tag){case 0:case 11:case 15:an(i,s,n),Dl(4,s);break;case 1:if(an(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(w){he(a,a.return,w)}if(a=s,i=a.updateQueue,i!==null){var m=a.stateNode;try{var y=i.shared.hiddenCallbacks;if(y!==null)for(i.shared.hiddenCallbacks=null,i=0;i<y.length;i++)lf(y[i],m)}catch(w){he(a,a.return,w)}}n&&f&64&&yd(s),zl(s,s.return);break;case 27:xd(s);case 26:case 5:an(i,s,n),n&&a===null&&f&4&&vd(s),zl(s,s.return);break;case 12:an(i,s,n);break;case 31:an(i,s,n),n&&f&4&&Td(i,s);break;case 13:an(i,s,n),n&&f&4&&Cd(i,s);break;case 22:s.memoizedState===null&&an(i,s,n),zl(s,s.return);break;case 30:break;default:an(i,s,n)}t=t.sibling}}function pu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&pl(n))}function xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e))}function Ot(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kd(e,t,n,a),t=t.sibling}function kd(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,n,a),i&2048&&Dl(9,t);break;case 1:Ot(e,t,n,a);break;case 3:Ot(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e)));break;case 12:if(i&2048){Ot(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,f=s.id,m=s.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){he(t,t.return,y)}}else Ot(e,t,n,a);break;case 31:Ot(e,t,n,a);break;case 13:Ot(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,f=t.alternate,t.memoizedState!==null?s._visibility&2?Ot(e,t,n,a):Rl(e,t):s._visibility&2?Ot(e,t,n,a):(s._visibility|=2,_a(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&pu(f,t);break;case 24:Ot(e,t,n,a),i&2048&&xu(t.alternate,t);break;default:Ot(e,t,n,a)}}function _a(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,f=t,m=n,y=a,w=f.flags;switch(f.tag){case 0:case 11:case 15:_a(s,f,m,y,i),Dl(8,f);break;case 23:break;case 22:var C=f.stateNode;f.memoizedState!==null?C._visibility&2?_a(s,f,m,y,i):Rl(s,f):(C._visibility|=2,_a(s,f,m,y,i)),i&&w&2048&&pu(f.alternate,f);break;case 24:_a(s,f,m,y,i),i&&w&2048&&xu(f.alternate,f);break;default:_a(s,f,m,y,i)}t=t.sibling}}function Rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Rl(n,a),i&2048&&pu(a.alternate,a);break;case 24:Rl(n,a),i&2048&&xu(a.alternate,a);break;default:Rl(n,a)}t=t.sibling}}var _l=8192;function qa(e,t,n){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)Md(e,t,n),e=e.sibling}function Md(e,t,n){switch(e.tag){case 26:qa(e,t,n),e.flags&_l&&e.memoizedState!==null&&oy(n,Mt,e.memoizedState,e.memoizedProps);break;case 5:qa(e,t,n);break;case 3:case 4:var a=Mt;Mt=cs(e.stateNode.containerInfo),qa(e,t,n),Mt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=_l,_l=16777216,qa(e,t,n),_l=a):qa(e,t,n));break;default:qa(e,t,n)}}function Od(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,zd(a,e)}Od(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dd(e),e=e.sibling}function Dd(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&jn(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fi(e)):ql(e);break;default:ql(e)}}function Fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,zd(a,e)}Od(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jn(8,t,t.return),Fi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fi(t));break;default:Fi(t)}e=e.sibling}}function zd(e,t){for(;He!==null;){var n=He;switch(n.tag){case 0:case 11:case 15:jn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:pl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,He=a;else e:for(n=e;He!==null;){a=He;var i=a.sibling,s=a.return;if(jd(a),a===n){He=null;break e}if(i!==null){i.return=s,He=i;break e}He=s}}}var Ng={getCacheForType:function(e){var t=Ze(Re),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ze(Re).controller.signal}},Tg=typeof WeakMap=="function"?WeakMap:Map,ce=0,ve=null,ae=null,ie=0,de=0,mt=null,Nn=!1,La=!1,Su=!1,ln=0,Ee=0,Tn=0,aa=0,wu=0,gt=0,Ua=0,Ll=null,at=null,ju=!1,Wi=0,Rd=0,Pi=1/0,es=null,Cn=null,Qe=0,An=null,Ba=null,sn=0,Nu=0,Tu=null,_d=null,Ul=0,Cu=null;function yt(){return(ce&2)!==0&&ie!==0?ie&-ie:E.T!==null?Du():Io()}function qd(){if(gt===0)if((ie&536870912)===0||re){var e=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),gt=e}else gt=536870912;return e=dt.current,e!==null&&(e.flags|=32),gt}function lt(e,t,n){(e===ve&&(de===2||de===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),En(e,ie,gt,!1)),il(e,n),((ce&2)===0||e!==ve)&&(e===ve&&((ce&2)===0&&(aa|=n),Ee===4&&En(e,ie,gt,!1)),_t(e))}function Ld(e,t,n){if((ce&6)!==0)throw Error(o(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ll(e,t),i=a?Eg(e,t):Eu(e,t,!0),s=a;do{if(i===0){La&&!a&&En(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Cg(n)){i=Eu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;i=Ll;var y=m.current.memoizedState.isDehydrated;if(y&&(Qa(m,f).flags|=256),f=Eu(m,f,!1),f!==2){if(Su&&!y){m.errorRecoveryDisabledLanes|=s,aa|=s,i=4;break e}s=at,at=i,s!==null&&(at===null?at=s:at.push.apply(at,s))}i=f}if(s=!1,i!==2)continue}}if(i===1){Qa(e,0),En(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:En(a,t,gt,!Nn);break e;case 2:at=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(i=Wi+300-rt(),10<i)){if(En(a,t,gt,!Nn),ci(a,0,!0)!==0)break e;sn=t,a.timeoutHandle=mh(Ud.bind(null,a,n,at,es,ju,t,gt,aa,Ua,Nn,s,"Throttled",-0,0),i);break e}Ud(a,n,at,es,ju,t,gt,aa,Ua,Nn,s,null,-0,0)}}break}while(!0);_t(e)}function Ud(e,t,n,a,i,s,f,m,y,w,C,M,N,T){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gt},Md(t,s,M);var V=(s&62914560)===s?Wi-rt():(s&4194048)===s?Rd-rt():0;if(V=cy(M,V),V!==null){sn=s,e.cancelPendingCommit=V(Zd.bind(null,e,t,s,n,a,i,f,m,y,C,M,null,N,T)),En(e,s,f,!w);return}}Zd(e,t,s,n,a,i,f,m,y)}function Cg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!ct(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t,n,a){t&=~wu,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-ot(i),f=1<<s;a[s]=-1,i&=~f}n!==0&&Ko(e,n,t)}function ts(){return(ce&6)===0?(Bl(0),!1):!0}function Au(){if(ae!==null){if(de===0)var e=ae.return;else e=ae,Jt=Jn=null,Yr(e),Ma=null,Sl=0,e=ae;for(;e!==null;)gd(e.alternate,e),e=e.return;ae=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Zg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),sn=0,Au(),ve=e,ae=n=Zt(e.current,null),ie=t,de=0,mt=null,Nn=!1,La=ll(e,t),Su=!1,Ua=gt=wu=aa=Tn=Ee=0,at=Ll=null,ju=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-ot(a),s=1<<i;t|=e[i],a&=~s}return ln=t,wi(),n}function Bd(e,t){W=null,E.H=kl,t===ka||t===Mi?(t=ef(),de=3):t===Or?(t=ef(),de=4):de=t===iu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mt=t,ae===null&&(Ee=1,Gi(e,xt(t,e.current)))}function Qd(){var e=dt.current;return e===null?!0:(ie&4194048)===ie?Nt===null:(ie&62914560)===ie||(ie&536870912)!==0?e===Nt:!1}function Vd(){var e=E.H;return E.H=kl,e===null?kl:e}function Hd(){var e=E.A;return E.A=Ng,e}function ns(){Ee=4,Nn||(ie&4194048)!==ie&&dt.current!==null||(La=!0),(Tn&134217727)===0&&(aa&134217727)===0||ve===null||En(ve,ie,gt,!1)}function Eu(e,t,n){var a=ce;ce|=2;var i=Vd(),s=Hd();(ve!==e||ie!==t)&&(es=null,Qa(e,t)),t=!1;var f=Ee;e:do try{if(de!==0&&ae!==null){var m=ae,y=mt;switch(de){case 8:Au(),f=6;break e;case 3:case 2:case 9:case 6:dt.current===null&&(t=!0);var w=de;if(de=0,mt=null,Va(e,m,y,w),n&&La){f=0;break e}break;default:w=de,de=0,mt=null,Va(e,m,y,w)}}Ag(),f=Ee;break}catch(C){Bd(e,C)}while(!0);return t&&e.shellSuspendCounter++,Jt=Jn=null,ce=a,E.H=i,E.A=s,ae===null&&(ve=null,ie=0,wi()),f}function Ag(){for(;ae!==null;)Yd(ae)}function Eg(e,t){var n=ce;ce|=2;var a=Vd(),i=Hd();ve!==e||ie!==t?(es=null,Pi=rt()+500,Qa(e,t)):La=ll(e,t);e:do try{if(de!==0&&ae!==null){t=ae;var s=mt;t:switch(de){case 1:de=0,mt=null,Va(e,t,s,1);break;case 2:case 9:if(Wc(s)){de=0,mt=null,Gd(t);break}t=function(){de!==2&&de!==9||ve!==e||(de=7),_t(e)},s.then(t,t);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Wc(s)?(de=0,mt=null,Gd(t)):(de=0,mt=null,Va(e,t,s,7));break;case 5:var f=null;switch(ae.tag){case 26:f=ae.memoizedState;case 5:case 27:var m=ae;if(f?kh(f):m.stateNode.complete){de=0,mt=null;var y=m.sibling;if(y!==null)ae=y;else{var w=m.return;w!==null?(ae=w,as(w)):ae=null}break t}}de=0,mt=null,Va(e,t,s,5);break;case 6:de=0,mt=null,Va(e,t,s,6);break;case 8:Au(),Ee=6;break e;default:throw Error(o(462))}}kg();break}catch(C){Bd(e,C)}while(!0);return Jt=Jn=null,E.H=a,E.A=i,ce=n,ae!==null?0:(ve=null,ie=0,wi(),Ee)}function kg(){for(;ae!==null&&!Wm();)Yd(ae)}function Yd(e){var t=hd(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?as(e):ae=t}function Gd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=rd(n,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=rd(n,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Yr(t);default:gd(n,t),t=ae=Vc(t,ln),t=hd(n,t,ln)}e.memoizedProps=e.pendingProps,t===null?as(e):ae=t}function Va(e,t,n,a){Jt=Jn=null,Yr(t),Ma=null,Sl=0;var i=t.return;try{if(bg(e,i,t,n,ie)){Ee=1,Gi(e,xt(n,e.current)),ae=null;return}}catch(s){if(i!==null)throw ae=i,s;Ee=1,Gi(e,xt(n,e.current)),ae=null;return}t.flags&32768?(re||a===1?e=!0:La||(ie&536870912)!==0?e=!1:(Nn=e=!0,(a===2||a===9||a===3||a===6)&&(a=dt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xd(t,e)):as(t)}function as(e){var t=e;do{if((t.flags&32768)!==0){Xd(t,Nn);return}e=t.return;var n=xg(t.alternate,t,ln);if(n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);Ee===0&&(Ee=5)}function Xd(e,t){do{var n=Sg(e.alternate,e);if(n!==null){n.flags&=32767,ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=n}while(e!==null);Ee=6,ae=null}function Zd(e,t,n,a,i,s,f,m,y){e.cancelPendingCommit=null;do ls();while(Qe!==0);if((ce&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,s|=yr,u0(e,n,s,f,m,y),e===ve&&(ae=ve=null,ie=0),Ba=t,An=e,sn=n,Nu=s,Tu=i,_d=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zg(si,function(){return Fd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null,i=Q.p,Q.p=2,f=ce,ce|=4;try{wg(e,t,n)}finally{ce=f,Q.p=i,E.T=a}}Qe=1,Kd(),Jd(),$d()}}function Kd(){if(Qe===1){Qe=0;var e=An,t=Ba,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=E.T,E.T=null;var a=Q.p;Q.p=2;var i=ce;ce|=4;try{Ad(t,e);var s=Qu,f=Dc(e.containerInfo),m=s.focusedElem,y=s.selectionRange;if(f!==m&&m&&m.ownerDocument&&Oc(m.ownerDocument.documentElement,m)){if(y!==null&&fr(m)){var w=y.start,C=y.end;if(C===void 0&&(C=w),"selectionStart"in m)m.selectionStart=w,m.selectionEnd=Math.min(C,m.value.length);else{var M=m.ownerDocument||document,N=M&&M.defaultView||window;if(N.getSelection){var T=N.getSelection(),V=m.textContent.length,$=Math.min(y.start,V),be=y.end===void 0?$:Math.min(y.end,V);!T.extend&&$>be&&(f=be,be=$,$=f);var x=Mc(m,$),b=Mc(m,be);if(x&&b&&(T.rangeCount!==1||T.anchorNode!==x.node||T.anchorOffset!==x.offset||T.focusNode!==b.node||T.focusOffset!==b.offset)){var S=M.createRange();S.setStart(x.node,x.offset),T.removeAllRanges(),$>be?(T.addRange(S),T.extend(b.node,b.offset)):(S.setEnd(b.node,b.offset),T.addRange(S))}}}}for(M=[],T=m;T=T.parentNode;)T.nodeType===1&&M.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<M.length;m++){var k=M[m];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}ys=!!Bu,Qu=Bu=null}finally{ce=i,Q.p=a,E.T=n}}e.current=t,Qe=2}}function Jd(){if(Qe===2){Qe=0;var e=An,t=Ba,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=E.T,E.T=null;var a=Q.p;Q.p=2;var i=ce;ce|=4;try{wd(e,t.alternate,t)}finally{ce=i,Q.p=a,E.T=n}}Qe=3}}function $d(){if(Qe===4||Qe===3){Qe=0,Pm();var e=An,t=Ba,n=sn,a=_d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,Ba=An=null,Id(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Cn=null),Zs(n),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=E.T,i=Q.p,Q.p=2,E.T=null;try{for(var s=e.onRecoverableError,f=0;f<a.length;f++){var m=a[f];s(m.value,{componentStack:m.stack})}}finally{E.T=t,Q.p=i}}(sn&3)!==0&&ls(),_t(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Cu?Ul++:(Ul=0,Cu=e):Ul=0,Bl(0)}}function Id(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pl(t)))}function ls(){return Kd(),Jd(),$d(),Fd()}function Fd(){if(Qe!==5)return!1;var e=An,t=Nu;Nu=0;var n=Zs(sn),a=E.T,i=Q.p;try{Q.p=32>n?32:n,E.T=null,n=Tu,Tu=null;var s=An,f=sn;if(Qe=0,Ba=An=null,sn=0,(ce&6)!==0)throw Error(o(331));var m=ce;if(ce|=4,Dd(s.current),kd(s,s.current,f,n),ce=m,Bl(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(al,s)}catch{}return!0}finally{Q.p=i,E.T=a,Id(e,t)}}function Wd(e,t,n){t=xt(n,t),t=lu(e.stateNode,t,2),e=xn(e,t,2),e!==null&&(il(e,2),_t(e))}function he(e,t,n){if(e.tag===3)Wd(e,e,n);else for(;t!==null;){if(t.tag===3){Wd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Cn===null||!Cn.has(a))){e=xt(n,e),n=Pf(2),a=xn(t,n,2),a!==null&&(ed(n,a,t,e),il(a,2),_t(a));break}}t=t.return}}function ku(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Tg;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Su=!0,i.add(n),e=Mg.bind(null,e,t,n),t.then(e,e))}function Mg(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ve===e&&(ie&n)===n&&(Ee===4||Ee===3&&(ie&62914560)===ie&&300>rt()-Wi?(ce&2)===0&&Qa(e,0):wu|=n,Ua===ie&&(Ua=0)),_t(e)}function Pd(e,t){t===0&&(t=Zo()),e=Xn(e,t),e!==null&&(il(e,t),_t(e))}function Og(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pd(e,n)}function Dg(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Pd(e,n)}function zg(e,t){return Hs(e,t)}var is=null,Ha=null,Mu=!1,ss=!1,Ou=!1,kn=0;function _t(e){e!==Ha&&e.next===null&&(Ha===null?is=Ha=e:Ha=Ha.next=e),ss=!0,Mu||(Mu=!0,_g())}function Bl(e,t){if(!Ou&&ss){Ou=!0;do for(var n=!1,a=is;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var f=a.suspendedLanes,m=a.pingedLanes;s=(1<<31-ot(42|e)+1)-1,s&=i&~(f&~m),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,ah(a,s))}else s=ie,s=ci(a,a===ve?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||ll(a,s)||(n=!0,ah(a,s));a=a.next}while(n);Ou=!1}}function Rg(){eh()}function eh(){ss=Mu=!1;var e=0;kn!==0&&Xg()&&(e=kn);for(var t=rt(),n=null,a=is;a!==null;){var i=a.next,s=th(a,t);s===0?(a.next=null,n===null?is=i:n.next=i,i===null&&(Ha=n)):(n=a,(e!==0||(s&3)!==0)&&(ss=!0)),a=i}Qe!==0&&Qe!==5||Bl(e),kn!==0&&(kn=0)}function th(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var f=31-ot(s),m=1<<f,y=i[f];y===-1?((m&n)===0||(m&a)!==0)&&(i[f]=r0(m,t)):y<=t&&(e.expiredLanes|=m),s&=~m}if(t=ve,n=ie,n=ci(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(de===2||de===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ys(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ll(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ys(a),Zs(n)){case 2:case 8:n=Go;break;case 32:n=si;break;case 268435456:n=Xo;break;default:n=si}return a=nh.bind(null,e),n=Hs(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ys(a),e.callbackPriority=2,e.callbackNode=null,2}function nh(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var a=ie;return a=ci(e,e===ve?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ld(e,a,t),th(e,rt()),e.callbackNode!=null&&e.callbackNode===n?nh.bind(null,e):null)}function ah(e,t){if(ls())return null;Ld(e,t,!0)}function _g(){Kg(function(){(ce&6)!==0?Hs(Yo,Rg):eh()})}function Du(){if(kn===0){var e=Aa;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),kn=e}return kn}function lh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mi(""+e)}function ih(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qg(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=lh((i[We]||null).action),f=a.submitter;f&&(t=(t=f[We]||null)?lh(t.formAction):f.getAttribute("formAction"),t!==null&&(s=t,f=null));var m=new vi("action","action",null,a,i);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(kn!==0){var y=f?ih(i,f):new FormData(i);Wr(n,{pending:!0,data:y,method:i.method,action:s},null,y)}}else typeof s=="function"&&(m.preventDefault(),y=f?ih(i,f):new FormData(i),Wr(n,{pending:!0,data:y,method:i.method,action:s},s,y))},currentTarget:i}]})}}for(var zu=0;zu<gr.length;zu++){var Ru=gr[zu],Lg=Ru.toLowerCase(),Ug=Ru[0].toUpperCase()+Ru.slice(1);kt(Lg,"on"+Ug)}kt(_c,"onAnimationEnd"),kt(qc,"onAnimationIteration"),kt(Lc,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(eg,"onTransitionRun"),kt(tg,"onTransitionStart"),kt(ng,"onTransitionCancel"),kt(Uc,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function sh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var f=a.length-1;0<=f;f--){var m=a[f],y=m.instance,w=m.currentTarget;if(m=m.listener,y!==s&&i.isPropagationStopped())break e;s=m,i.currentTarget=w;try{s(i)}catch(C){Si(C)}i.currentTarget=null,s=y}else for(f=0;f<a.length;f++){if(m=a[f],y=m.instance,w=m.currentTarget,m=m.listener,y!==s&&i.isPropagationStopped())break e;s=m,i.currentTarget=w;try{s(i)}catch(C){Si(C)}i.currentTarget=null,s=y}}}}function le(e,t){var n=t[Ks];n===void 0&&(n=t[Ks]=new Set);var a=e+"__bubble";n.has(a)||(rh(t,e,2,!1),n.add(a))}function _u(e,t,n){var a=0;t&&(a|=4),rh(n,e,a,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[rs]){e[rs]=!0,Po.forEach(function(n){n!=="selectionchange"&&(Bg.has(n)||_u(n,!1,e),_u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rs]||(t[rs]=!0,_u("selectionchange",!1,t))}}function rh(e,t,n,a){switch(qh(t)){case 2:var i=hy;break;case 8:i=my;break;default:i=Fu}n=i.bind(null,t,n,e),i=void 0,!nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lu(e,t,n,a,i){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var m=a.stateNode.containerInfo;if(m===i)break;if(f===4)for(f=a.return;f!==null;){var y=f.tag;if((y===3||y===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;m!==null;){if(f=ca(m),f===null)return;if(y=f.tag,y===5||y===6||y===26||y===27){a=s=f;continue e}m=m.parentNode}}a=a.return}fc(function(){var w=s,C=er(n),M=[];e:{var N=Bc.get(e);if(N!==void 0){var T=vi,V=e;switch(e){case"keypress":if(yi(n)===0)break e;case"keydown":case"keyup":T=D0;break;case"focusin":V="focus",T=sr;break;case"focusout":V="blur",T=sr;break;case"beforeblur":case"afterblur":T=sr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=_0;break;case _c:case qc:case Lc:T=j0;break;case Uc:T=L0;break;case"scroll":case"scrollend":T=v0;break;case"wheel":T=B0;break;case"copy":case"cut":case"paste":T=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=yc;break;case"toggle":case"beforetoggle":T=V0}var $=(t&4)!==0,be=!$&&(e==="scroll"||e==="scrollend"),x=$?N!==null?N+"Capture":null:N;$=[];for(var b=w,S;b!==null;){var k=b;if(S=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||S===null||x===null||(k=ul(b,x),k!=null&&$.push(Vl(b,k,S))),be)break;b=b.return}0<$.length&&(N=new T(N,V,null,n,C),M.push({event:N,listeners:$}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",N&&n!==Ps&&(V=n.relatedTarget||n.fromElement)&&(ca(V)||V[oa]))break e;if((T||N)&&(N=C.window===C?C:(N=C.ownerDocument)?N.defaultView||N.parentWindow:window,T?(V=n.relatedTarget||n.toElement,T=w,V=V?ca(V):null,V!==null&&(be=h(V),$=V.tag,V!==be||$!==5&&$!==27&&$!==6)&&(V=null)):(T=null,V=w),T!==V)){if($=mc,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&($=yc,k="onPointerLeave",x="onPointerEnter",b="pointer"),be=T==null?N:rl(T),S=V==null?N:rl(V),N=new $(k,b+"leave",T,n,C),N.target=be,N.relatedTarget=S,k=null,ca(C)===w&&($=new $(x,b+"enter",V,n,C),$.target=S,$.relatedTarget=be,k=$),be=k,T&&V)t:{for($=Qg,x=T,b=V,S=0,k=x;k;k=$(k))S++;k=0;for(var K=b;K;K=$(K))k++;for(;0<S-k;)x=$(x),S--;for(;0<k-S;)b=$(b),k--;for(;S--;){if(x===b||b!==null&&x===b.alternate){$=x;break t}x=$(x),b=$(b)}$=null}else $=null;T!==null&&uh(M,N,T,$,!1),V!==null&&be!==null&&uh(M,be,V,$,!0)}}e:{if(N=w?rl(w):window,T=N.nodeName&&N.nodeName.toLowerCase(),T==="select"||T==="input"&&N.type==="file")var ue=Nc;else if(wc(N))if(Tc)ue=F0;else{ue=$0;var H=J0}else T=N.nodeName,!T||T.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?w&&Ws(w.elementType)&&(ue=Nc):ue=I0;if(ue&&(ue=ue(e,w))){jc(M,ue,n,C);break e}H&&H(e,N,w),e==="focusout"&&w&&N.type==="number"&&w.memoizedProps.value!=null&&Fs(N,"number",N.value)}switch(H=w?rl(w):window,e){case"focusin":(wc(H)||H.contentEditable==="true")&&(pa=H,dr=w,yl=null);break;case"focusout":yl=dr=pa=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,zc(M,n,C);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":zc(M,n,C)}var ee;if(ur)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else va?xc(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(bc&&n.locale!=="ko"&&(va||se!=="onCompositionStart"?se==="onCompositionEnd"&&va&&(ee=dc()):(hn=C,ar="value"in hn?hn.value:hn.textContent,va=!0)),H=us(w,se),0<H.length&&(se=new gc(se,e,null,n,C),M.push({event:se,listeners:H}),ee?se.data=ee:(ee=Sc(n),ee!==null&&(se.data=ee)))),(ee=Y0?G0(e,n):X0(e,n))&&(se=us(w,"onBeforeInput"),0<se.length&&(H=new gc("onBeforeInput","beforeinput",null,n,C),M.push({event:H,listeners:se}),H.data=ee)),qg(M,e,w,n,C)}sh(M,t)})}function Vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function us(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=ul(e,n),i!=null&&a.unshift(Vl(e,i,s)),i=ul(e,t),i!=null&&a.push(Vl(e,i,s))),e.tag===3)return a;e=e.return}return[]}function Qg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uh(e,t,n,a,i){for(var s=t._reactName,f=[];n!==null&&n!==a;){var m=n,y=m.alternate,w=m.stateNode;if(m=m.tag,y!==null&&y===a)break;m!==5&&m!==26&&m!==27||w===null||(y=w,i?(w=ul(n,s),w!=null&&f.unshift(Vl(n,w,y))):i||(w=ul(n,s),w!=null&&f.push(Vl(n,w,y)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Vg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function oh(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(Hg,"")}function ch(e,t){return t=oh(t),oh(e)===t}function ye(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ga(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ga(e,""+a);break;case"className":di(e,"class",a);break;case"tabIndex":di(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":di(e,n,a);break;case"style":oc(e,a,s);break;case"data":if(t!=="object"){di(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=mi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ye(e,t,"name",i.name,i,null),ye(e,t,"formEncType",i.formEncType,i,null),ye(e,t,"formMethod",i.formMethod,i,null),ye(e,t,"formTarget",i.formTarget,i,null)):(ye(e,t,"encType",i.encType,i,null),ye(e,t,"method",i.method,i,null),ye(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=mi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Gt);break;case"onScroll":a!=null&&le("scroll",e);break;case"onScrollEnd":a!=null&&le("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=mi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":le("beforetoggle",e),le("toggle",e),fi(e,"popover",a);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=y0.get(n)||n,fi(e,n,a))}}function Uu(e,t,n,a,i,s){switch(n){case"style":oc(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ga(e,a):(typeof a=="number"||typeof a=="bigint")&&ga(e,""+a);break;case"onScroll":a!=null&&le("scroll",e);break;case"onScrollEnd":a!=null&&le("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Gt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[We]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):fi(e,n,a)}}}function Je(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",e),le("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ye(e,t,s,f,n,null)}}i&&ye(e,t,"srcSet",n.srcSet,n,null),a&&ye(e,t,"src",n.src,n,null);return;case"input":le("invalid",e);var m=s=f=i=null,y=null,w=null;for(a in n)if(n.hasOwnProperty(a)){var C=n[a];if(C!=null)switch(a){case"name":i=C;break;case"type":f=C;break;case"checked":y=C;break;case"defaultChecked":w=C;break;case"value":s=C;break;case"defaultValue":m=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,t));break;default:ye(e,t,a,C,n,null)}}ic(e,s,m,y,w,f,i,!1);return;case"select":le("invalid",e),a=f=s=null;for(i in n)if(n.hasOwnProperty(i)&&(m=n[i],m!=null))switch(i){case"value":s=m;break;case"defaultValue":f=m;break;case"multiple":a=m;default:ye(e,t,i,m,n,null)}t=s,n=f,e.multiple=!!a,t!=null?ma(e,!!a,t,!1):n!=null&&ma(e,!!a,n,!0);return;case"textarea":le("invalid",e),s=i=a=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":a=m;break;case"defaultValue":i=m;break;case"children":s=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:ye(e,t,f,m,n,null)}rc(e,a,i,s);return;case"option":for(y in n)if(n.hasOwnProperty(y)&&(a=n[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ye(e,t,y,a,n,null)}return;case"dialog":le("beforetoggle",e),le("toggle",e),le("cancel",e),le("close",e);break;case"iframe":case"object":le("load",e);break;case"video":case"audio":for(a=0;a<Ql.length;a++)le(Ql[a],e);break;case"image":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"embed":case"source":case"link":le("error",e),le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ye(e,t,w,a,n,null)}return;default:if(Ws(t)){for(C in n)n.hasOwnProperty(C)&&(a=n[C],a!==void 0&&Uu(e,t,C,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&ye(e,t,m,a,n,null))}function Yg(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,f=null,m=null,y=null,w=null,C=null;for(T in n){var M=n[T];if(n.hasOwnProperty(T)&&M!=null)switch(T){case"checked":break;case"value":break;case"defaultValue":y=M;default:a.hasOwnProperty(T)||ye(e,t,T,null,a,M)}}for(var N in a){var T=a[N];if(M=n[N],a.hasOwnProperty(N)&&(T!=null||M!=null))switch(N){case"type":s=T;break;case"name":i=T;break;case"checked":w=T;break;case"defaultChecked":C=T;break;case"value":f=T;break;case"defaultValue":m=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(137,t));break;default:T!==M&&ye(e,t,N,T,a,M)}}Is(e,f,m,y,w,C,s,i);return;case"select":T=f=m=N=null;for(s in n)if(y=n[s],n.hasOwnProperty(s)&&y!=null)switch(s){case"value":break;case"multiple":T=y;default:a.hasOwnProperty(s)||ye(e,t,s,null,a,y)}for(i in a)if(s=a[i],y=n[i],a.hasOwnProperty(i)&&(s!=null||y!=null))switch(i){case"value":N=s;break;case"defaultValue":m=s;break;case"multiple":f=s;default:s!==y&&ye(e,t,i,s,a,y)}t=m,n=f,a=T,N!=null?ma(e,!!n,N,!1):!!a!=!!n&&(t!=null?ma(e,!!n,t,!0):ma(e,!!n,n?[]:"",!1));return;case"textarea":T=N=null;for(m in n)if(i=n[m],n.hasOwnProperty(m)&&i!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:ye(e,t,m,null,a,i)}for(f in a)if(i=a[f],s=n[f],a.hasOwnProperty(f)&&(i!=null||s!=null))switch(f){case"value":N=i;break;case"defaultValue":T=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(o(91));break;default:i!==s&&ye(e,t,f,i,a,s)}sc(e,N,T);return;case"option":for(var V in n)if(N=n[V],n.hasOwnProperty(V)&&N!=null&&!a.hasOwnProperty(V))switch(V){case"selected":e.selected=!1;break;default:ye(e,t,V,null,a,N)}for(y in a)if(N=a[y],T=n[y],a.hasOwnProperty(y)&&N!==T&&(N!=null||T!=null))switch(y){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ye(e,t,y,N,a,T)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in n)N=n[$],n.hasOwnProperty($)&&N!=null&&!a.hasOwnProperty($)&&ye(e,t,$,null,a,N);for(w in a)if(N=a[w],T=n[w],a.hasOwnProperty(w)&&N!==T&&(N!=null||T!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:ye(e,t,w,N,a,T)}return;default:if(Ws(t)){for(var be in n)N=n[be],n.hasOwnProperty(be)&&N!==void 0&&!a.hasOwnProperty(be)&&Uu(e,t,be,void 0,a,N);for(C in a)N=a[C],T=n[C],!a.hasOwnProperty(C)||N===T||N===void 0&&T===void 0||Uu(e,t,C,N,a,T);return}}for(var x in n)N=n[x],n.hasOwnProperty(x)&&N!=null&&!a.hasOwnProperty(x)&&ye(e,t,x,null,a,N);for(M in a)N=a[M],T=n[M],!a.hasOwnProperty(M)||N===T||N==null&&T==null||ye(e,t,M,N,a,T)}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,f=i.initiatorType,m=i.duration;if(s&&m&&fh(f)){for(f=0,m=i.responseEnd,a+=1;a<n.length;a++){var y=n[a],w=y.startTime;if(w>m)break;var C=y.transferSize,M=y.initiatorType;C&&fh(M)&&(y=y.responseEnd,f+=C*(y<m?1:(m-w)/(y-w)))}if(--a,t+=8*(s+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bu=null,Qu=null;function os(e){return e.nodeType===9?e:e.ownerDocument}function dh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function Xg(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var mh=typeof setTimeout=="function"?setTimeout:void 0,Zg=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(e){return gh.resolve(null).then(e).catch(Jg)}:mh;function Jg(e){setTimeout(function(){throw e})}function Mn(e){return e==="head"}function yh(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Za(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Hl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hl(n);for(var s=n.firstChild;s;){var f=s.nextSibling,m=s.nodeName;s[sl]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=f}}else n==="body"&&Hl(e.ownerDocument.body);n=i}while(n);Za(t)}function bh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yu(n),Js(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $g(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Tt(e.nextSibling),e===null)break}return null}function Ig(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tt(e.nextSibling),e===null))return null;return e}function vh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tt(e.nextSibling),e===null))return null;return e}function Gu(e){return e.data==="$?"||e.data==="$~"}function Xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function ph(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Sh(e,t,n){switch(t=os(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Hl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Js(e)}var Ct=new Map,wh=new Set;function cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rn=Q.d;Q.d={f:Wg,r:Pg,D:ey,C:ty,L:ny,m:ay,X:iy,S:ly,M:sy};function Wg(){var e=rn.f(),t=ts();return e||t}function Pg(e){var t=fa(e);t!==null&&t.tag===5&&t.type==="form"?Bf(t):rn.r(e)}var Ya=typeof document>"u"?null:document;function jh(e,t,n){var a=Ya;if(a&&typeof t=="string"&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),wh.has(i)||(wh.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Je(t,"link",e),Ve(t),a.head.appendChild(t)))}}function ey(e){rn.D(e),jh("dns-prefetch",e,null)}function ty(e,t){rn.C(e,t),jh("preconnect",e,t)}function ny(e,t,n){rn.L(e,t,n);var a=Ya;if(a&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Ga(e);break;case"script":s=Xa(e)}Ct.has(s)||(e=O({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ct.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Yl(s))||t==="script"&&a.querySelector(Gl(s))||(t=a.createElement("link"),Je(t,"link",e),Ve(t),a.head.appendChild(t)))}}function ay(e,t){rn.m(e,t);var n=Ya;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xa(e)}if(!Ct.has(s)&&(e=O({rel:"modulepreload",href:e},t),Ct.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Gl(s)))return}a=n.createElement("link"),Je(a,"link",e),Ve(a),n.head.appendChild(a)}}}function ly(e,t,n){rn.S(e,t,n);var a=Ya;if(a&&e){var i=da(a).hoistableStyles,s=Ga(e);t=t||"default";var f=i.get(s);if(!f){var m={loading:0,preload:null};if(f=a.querySelector(Yl(s)))m.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ct.get(s))&&Ku(e,n);var y=f=a.createElement("link");Ve(y),Je(y,"link",e),y._p=new Promise(function(w,C){y.onload=w,y.onerror=C}),y.addEventListener("load",function(){m.loading|=1}),y.addEventListener("error",function(){m.loading|=2}),m.loading|=4,fs(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:m},i.set(s,f)}}}function iy(e,t){rn.X(e,t);var n=Ya;if(n&&e){var a=da(n).hoistableScripts,i=Xa(e),s=a.get(i);s||(s=n.querySelector(Gl(i)),s||(e=O({src:e,async:!0},t),(t=Ct.get(i))&&Ju(e,t),s=n.createElement("script"),Ve(s),Je(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function sy(e,t){rn.M(e,t);var n=Ya;if(n&&e){var a=da(n).hoistableScripts,i=Xa(e),s=a.get(i);s||(s=n.querySelector(Gl(i)),s||(e=O({src:e,async:!0,type:"module"},t),(t=Ct.get(i))&&Ju(e,t),s=n.createElement("script"),Ve(s),Je(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Nh(e,t,n,a){var i=(i=Fe.current)?cs(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ga(n.href),n=da(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ga(n.href);var s=da(i).hoistableStyles,f=s.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,f),(s=i.querySelector(Yl(e)))&&!s._p&&(f.instance=s,f.state.loading=5),Ct.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ct.set(e,n),s||ry(i,e,n,f.state))),t&&a===null)throw Error(o(528,""));return f}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xa(n),n=da(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ga(e){return'href="'+vt(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function Th(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function ry(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Je(t,"link",n),Ve(t),e.head.appendChild(t))}function Xa(e){return'[src="'+vt(e)+'"]'}function Gl(e){return"script[async]"+e}function Ch(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,Ve(a),a;var i=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ve(a),Je(a,"style",i),fs(a,n.precedence,e),t.instance=a;case"stylesheet":i=Ga(n.href);var s=e.querySelector(Yl(i));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;a=Th(n),(i=Ct.get(i))&&Ku(a,i),s=(e.ownerDocument||e).createElement("link"),Ve(s);var f=s;return f._p=new Promise(function(m,y){f.onload=m,f.onerror=y}),Je(s,"link",a),t.state.loading|=4,fs(s,n.precedence,e),t.instance=s;case"script":return s=Xa(n.src),(i=e.querySelector(Gl(s)))?(t.instance=i,Ve(i),i):(a=n,(i=Ct.get(s))&&(a=O({},n),Ju(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ve(i),Je(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,fs(a,n.precedence,e));return t.instance}function fs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,f=0;f<a.length;f++){var m=a[f];if(m.dataset.precedence===t)s=m;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ds=null;function Ah(e,t,n){if(ds===null){var a=new Map,i=ds=new Map;i.set(n,a)}else i=ds,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[sl]||s[Ge]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var f=s.getAttribute(t)||"";f=e+f;var m=a.get(f);m?m.push(s):a.set(f,[s])}}return a}function Eh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oy(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Ga(a.href),s=t.querySelector(Yl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ve(s);return}s=t.ownerDocument||t,a=Th(a),(i=Ct.get(i))&&Ku(a,i),s=s.createElement("link"),Ve(s);var f=s;f._p=new Promise(function(m,y){f.onload=m,f.onerror=y}),Je(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=hs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $u=0;function cy(e,t){return e.stylesheets&&e.count===0&&gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*Gg());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function hs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ms=null;function gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ms=new Map,t.forEach(fy,e),ms=null,hs.call(e))}function fy(e,t){if(!(t.state.loading&4)){var n=ms.get(e);if(n)var a=n.get(null);else{n=new Map,ms.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var f=i[s];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}i=t.instance,f=i.getAttribute("data-precedence"),s=n.get(f)||a,s===a&&n.set(null,i),n.set(f,i),this.count++,a=hs.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Xl={$$typeof:I,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function dy(e,t,n,a,i,s,f,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Mh(e,t,n,a,i,s,f,m,y,w,C,M){return e=new dy(e,t,n,f,y,w,C,M,m),t=1,s===!0&&(t|=24),s=ft(3,null,null,t),e.current=s,s.stateNode=e,t=Er(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Dr(s),e}function Oh(e){return e?(e=wa,e):wa}function Dh(e,t,n,a,i,s){i=Oh(i),a.context===null?a.context=i:a.pendingContext=i,a=pn(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=xn(e,a,t),n!==null&&(lt(n,e,t),jl(n,e,t))}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Iu(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function Rh(e){if(e.tag===13||e.tag===31){var t=Xn(e,67108864);t!==null&&lt(t,e,67108864),Iu(e,67108864)}}function _h(e){if(e.tag===13||e.tag===31){var t=yt();t=Xs(t);var n=Xn(e,t);n!==null&&lt(n,e,t),Iu(e,t)}}var ys=!0;function hy(e,t,n,a){var i=E.T;E.T=null;var s=Q.p;try{Q.p=2,Fu(e,t,n,a)}finally{Q.p=s,E.T=i}}function my(e,t,n,a){var i=E.T;E.T=null;var s=Q.p;try{Q.p=8,Fu(e,t,n,a)}finally{Q.p=s,E.T=i}}function Fu(e,t,n,a){if(ys){var i=Wu(a);if(i===null)Lu(e,t,a,bs,n),Lh(e,a);else if(yy(i,e,t,n,a))a.stopPropagation();else if(Lh(e,a),t&4&&-1<gy.indexOf(e)){for(;i!==null;){var s=fa(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var f=Qn(s.pendingLanes);if(f!==0){var m=s;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var y=1<<31-ot(f);m.entanglements[1]|=y,f&=~y}_t(s),(ce&6)===0&&(Pi=rt()+500,Bl(0))}}break;case 31:case 13:m=Xn(s,2),m!==null&&lt(m,s,2),ts(),Iu(s,2)}if(s=Wu(a),s===null&&Lu(e,t,a,bs,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Lu(e,t,a,null,n)}}function Wu(e){return e=er(e),Pu(e)}var bs=null;function Pu(e){if(bs=null,e=ca(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bs=e,null}function qh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(e0()){case Yo:return 2;case Go:return 8;case si:case t0:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var eo=!1,On=null,Dn=null,zn=null,Zl=new Map,Kl=new Map,Rn=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function Jl(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=fa(t),t!==null&&Rh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yy(e,t,n,a,i){switch(t){case"focusin":return On=Jl(On,e,t,n,a,i),!0;case"dragenter":return Dn=Jl(Dn,e,t,n,a,i),!0;case"mouseover":return zn=Jl(zn,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Zl.set(s,Jl(Zl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Kl.set(s,Jl(Kl.get(s)||null,e,t,n,a,i)),!0}return!1}function Uh(e){var t=ca(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,Fo(e.priority,function(){_h(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Fo(e.priority,function(){_h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ps=a,n.target.dispatchEvent(a),Ps=null}else return t=fa(n),t!==null&&Rh(t),e.blockedOn=n,!1;t.shift()}return!0}function Bh(e,t,n){vs(e)&&n.delete(t)}function by(){eo=!1,On!==null&&vs(On)&&(On=null),Dn!==null&&vs(Dn)&&(Dn=null),zn!==null&&vs(zn)&&(zn=null),Zl.forEach(Bh),Kl.forEach(Bh)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,eo||(eo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,by)))}var xs=null;function Qh(e){xs!==e&&(xs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Pu(a||n)===null)continue;break}var s=fa(n);s!==null&&(e.splice(t,3),t-=3,Wr(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Za(e){function t(y){return ps(y,e)}On!==null&&ps(On,e),Dn!==null&&ps(Dn,e),zn!==null&&ps(zn,e),Zl.forEach(t),Kl.forEach(t);for(var n=0;n<Rn.length;n++){var a=Rn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Uh(n),n.blockedOn===null&&Rn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],f=i[We]||null;if(typeof s=="function")f||Qh(n);else if(f){var m=null;if(s&&s.hasAttribute("formAction")){if(i=s,f=s[We]||null)m=f.formAction;else if(Pu(i)!==null)continue}else m=f.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),Qh(n)}}}function Vh(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function to(e){this._internalRoot=e}Ss.prototype.render=to.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=yt();Dh(n,a,e,t,null,null)},Ss.prototype.unmount=to.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dh(e.current,2,null,e,null,null),ts(),t[oa]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Io();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Uh(e)}};var Hh=l.version;if(Hh!=="19.2.4")throw Error(o(527,Hh,"19.2.4"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=A(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var vy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{al=ws.inject(vy),ut=ws}catch{}}return Il.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,a="",i=$f,s=If,f=Ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Mh(e,1,!1,null,null,n,a,null,i,s,f,Vh),e[oa]=t.current,qu(e),new to(t)},Il.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var a=!1,i="",s=$f,f=If,m=Ff,y=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(y=n.formState)),t=Mh(e,1,!0,t,n??null,a,i,y,s,f,m,Vh),t.context=Oh(null),n=t.current,a=yt(),a=Xs(a),i=pn(a),i.callback=null,xn(n,i,a),n=a,t.current.lanes=n,il(t,n),_t(t),e[oa]=t.current,qu(e),new Ss(t)},Il.version="19.2.4",Il}var Jh;function By(){if(Jh)return lo.exports;Jh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),lo.exports=Uy(),lo.exports}var Qy=By(),Ut=[],Et=[],Vy=Uint8Array,ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ka=0,Hy=ro.length;Ka<Hy;++Ka)Ut[Ka]=ro[Ka],Et[ro.charCodeAt(Ka)]=Ka;Et[45]=62;Et[95]=63;function Yy(r){var l=r.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=r.indexOf("=");u===-1&&(u=l);var o=u===l?0:4-u%4;return[u,o]}function Gy(r,l,u){return(l+u)*3/4-u}function ei(r){var l,u=Yy(r),o=u[0],d=u[1],h=new Vy(Gy(r,o,d)),g=0,p=d>0?o-4:o,v;for(v=0;v<p;v+=4)l=Et[r.charCodeAt(v)]<<18|Et[r.charCodeAt(v+1)]<<12|Et[r.charCodeAt(v+2)]<<6|Et[r.charCodeAt(v+3)],h[g++]=l>>16&255,h[g++]=l>>8&255,h[g++]=l&255;return d===2&&(l=Et[r.charCodeAt(v)]<<2|Et[r.charCodeAt(v+1)]>>4,h[g++]=l&255),d===1&&(l=Et[r.charCodeAt(v)]<<10|Et[r.charCodeAt(v+1)]<<4|Et[r.charCodeAt(v+2)]>>2,h[g++]=l>>8&255,h[g++]=l&255),h}function Xy(r){return Ut[r>>18&63]+Ut[r>>12&63]+Ut[r>>6&63]+Ut[r&63]}function Zy(r,l,u){for(var o,d=[],h=l;h<u;h+=3)o=(r[h]<<16&16711680)+(r[h+1]<<8&65280)+(r[h+2]&255),d.push(Xy(o));return d.join("")}function ti(r){for(var l,u=r.length,o=u%3,d=[],h=16383,g=0,p=u-o;g<p;g+=h)d.push(Zy(r,g,g+h>p?p:g+h));return o===1?(l=r[u-1],d.push(Ut[l>>2]+Ut[l<<4&63]+"==")):o===2&&(l=(r[u-2]<<8)+r[u-1],d.push(Ut[l>>10]+Ut[l>>4&63]+Ut[l<<2&63]+"=")),d.join("")}function on(r){if(r===void 0)return{};if(!Sm(r))throw new Error(`The arguments to a Convex function must be an object. Received: ${r}`);return r}function Ky(r){if(typeof r>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof r!="string")throw new Error(`Invalid deployment address: found ${r}".`);if(!(r.startsWith("http:")||r.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${r}".`);try{new URL(r)}catch{throw new Error(`Invalid deployment address: "${r}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(r.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${r}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Sm(r){const l=typeof r=="object",u=Object.getPrototypeOf(r),o=u===null||u===Object.prototype||u?.constructor?.name==="Object";return l&&o}const wm=!0,Wa=BigInt("-9223372036854775808"),Lo=BigInt("9223372036854775807"),To=BigInt("0"),Jy=BigInt("8"),$y=BigInt("256");function jm(r){return Number.isNaN(r)||!Number.isFinite(r)||Object.is(r,-0)}function Iy(r){r<To&&(r-=Wa+Wa);let l=r.toString(16);l.length%2===1&&(l="0"+l);const u=new Uint8Array(new ArrayBuffer(8));let o=0;for(const d of l.match(/.{2}/g).reverse())u.set([parseInt(d,16)],o++),r>>=Jy;return ti(u)}function Fy(r){const l=ei(r);if(l.byteLength!==8)throw new Error(`Received ${l.byteLength} bytes, expected 8 for $integer`);let u=To,o=To;for(const d of l)u+=BigInt(d)*$y**o,o++;return u>Lo&&(u+=Wa+Wa),u}function Wy(r){if(r<Wa||Lo<r)throw new Error(`BigInt ${r} does not fit into a 64-bit signed integer.`);const l=new ArrayBuffer(8);return new DataView(l).setBigInt64(0,r,!0),ti(new Uint8Array(l))}function Py(r){const l=ei(r);if(l.byteLength!==8)throw new Error(`Received ${l.byteLength} bytes, expected 8 for $integer`);return new DataView(l.buffer).getBigInt64(0,!0)}const eb=DataView.prototype.setBigInt64?Wy:Iy,tb=DataView.prototype.getBigInt64?Py:Fy,$h=1024;function Nm(r){if(r.length>$h)throw new Error(`Field name ${r} exceeds maximum field name length ${$h}.`);if(r.startsWith("$"))throw new Error(`Field name ${r} starts with a '$', which is reserved.`);for(let l=0;l<r.length;l+=1){const u=r.charCodeAt(l);if(u<32||u>=127)throw new Error(`Field name ${r} has invalid character '${r[l]}': Field names can only contain non-control ASCII characters`)}}function Pa(r){if(r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string")return r;if(Array.isArray(r))return r.map(o=>Pa(o));if(typeof r!="object")throw new Error(`Unexpected type of ${r}`);const l=Object.entries(r);if(l.length===1){const o=l[0][0];if(o==="$bytes"){if(typeof r.$bytes!="string")throw new Error(`Malformed $bytes field on ${r}`);return ei(r.$bytes).buffer}if(o==="$integer"){if(typeof r.$integer!="string")throw new Error(`Malformed $integer field on ${r}`);return tb(r.$integer)}if(o==="$float"){if(typeof r.$float!="string")throw new Error(`Malformed $float field on ${r}`);const d=ei(r.$float);if(d.byteLength!==8)throw new Error(`Received ${d.byteLength} bytes, expected 8 for $float`);const g=new DataView(d.buffer).getFloat64(0,wm);if(!jm(g))throw new Error(`Float ${g} should be encoded as a number`);return g}if(o==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(o==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const u={};for(const[o,d]of Object.entries(r))Nm(o),u[o]=Pa(d);return u}const Ih=16384;function Wl(r){const l=JSON.stringify(r,(u,o)=>o===void 0?"undefined":typeof o=="bigint"?`${o.toString()}n`:o);if(l.length>Ih){const u="[...truncated]";let o=Ih-u.length;const d=l.codePointAt(o-1);return d!==void 0&&d>65535&&(o-=1),l.substring(0,o)+u}return l}function Co(r,l,u,o){if(r===void 0){const g=u&&` (present at path ${u} in original object ${Wl(l)})`;throw new Error(`undefined is not a valid Convex value${g}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(r===null)return r;if(typeof r=="bigint"){if(r<Wa||Lo<r)throw new Error(`BigInt ${r} does not fit into a 64-bit signed integer.`);return{$integer:eb(r)}}if(typeof r=="number")if(jm(r)){const g=new ArrayBuffer(8);return new DataView(g).setFloat64(0,r,wm),{$float:ti(new Uint8Array(g))}}else return r;if(typeof r=="boolean"||typeof r=="string")return r;if(r instanceof ArrayBuffer)return{$bytes:ti(new Uint8Array(r))};if(Array.isArray(r))return r.map((g,p)=>Co(g,l,u+`[${p}]`));if(r instanceof Set)throw new Error(uo(u,"Set",[...r],l));if(r instanceof Map)throw new Error(uo(u,"Map",[...r],l));if(!Sm(r)){const g=r?.constructor?.name,p=g?`${g} `:"";throw new Error(uo(u,p,r,l))}const d={},h=Object.entries(r);h.sort(([g,p],[v,A])=>g===v?0:g<v?-1:1);for(const[g,p]of h)p!==void 0&&(Nm(g),d[g]=Co(p,l,u+`.${g}`));return d}function uo(r,l,u,o){return r?`${l}${Wl(u)} is not a supported Convex type (present at path ${r} in original object ${Wl(o)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${l}${Wl(u)} is not a supported Convex type.`}function Qt(r){return Co(r,r,"")}var nb=Object.defineProperty,ab=(r,l,u)=>l in r?nb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,oo=(r,l,u)=>ab(r,typeof l!="symbol"?l+"":l,u),Fh,Wh;const lb=Symbol.for("ConvexError");class Ao extends(Wh=Error,Fh=lb,Wh){constructor(l){super(typeof l=="string"?l:Wl(l)),oo(this,"name","ConvexError"),oo(this,"data"),oo(this,Fh,!0),this.data=l}}const Tm=()=>Array.from({length:4},()=>0);Tm();Tm();const Ph="1.31.7";var ib=Object.defineProperty,sb=(r,l,u)=>l in r?ib(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,em=(r,l,u)=>sb(r,typeof l!="symbol"?l+"":l,u);const rb="color:rgb(0, 145, 255)";function Cm(r){switch(r){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Am{constructor(l){em(this,"_onLogLineFuncs"),em(this,"_verbose"),this._onLogLineFuncs={},this._verbose=l.verbose}addLogLineListener(l){let u=Math.random().toString(36).substring(2,15);for(let o=0;o<10&&this._onLogLineFuncs[u]!==void 0;o++)u=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[u]=l,()=>{delete this._onLogLineFuncs[u]}}logVerbose(...l){if(this._verbose)for(const u of Object.values(this._onLogLineFuncs))u("debug",`${new Date().toISOString()}`,...l)}log(...l){for(const u of Object.values(this._onLogLineFuncs))u("info",...l)}warn(...l){for(const u of Object.values(this._onLogLineFuncs))u("warn",...l)}error(...l){for(const u of Object.values(this._onLogLineFuncs))u("error",...l)}}function Em(r){const l=new Am(r);return l.addLogLineListener((u,...o)=>{switch(u){case"debug":console.debug(...o);break;case"info":console.log(...o);break;case"warn":console.warn(...o);break;case"error":console.error(...o);break;default:console.log(...o)}}),l}function km(r){return new Am(r)}function Os(r,l,u,o,d){const h=Cm(u);if(typeof d=="object"&&(d=`ConvexError ${JSON.stringify(d.errorData,null,2)}`),l==="info"){const g=d.match(/^\[.*?\] /);if(g===null){r.error(`[CONVEX ${h}(${o})] Could not parse console.log`);return}const p=d.slice(1,g[0].length-2),v=d.slice(g[0].length);r.log(`%c[CONVEX ${h}(${o})] [${p}]`,rb,v)}else r.error(`[CONVEX ${h}(${o})] ${d}`)}function ub(r,l){const u=`[CONVEX FATAL ERROR] ${l}`;return r.error(u),new Error(u)}function Fa(r,l,u){return`[CONVEX ${Cm(r)}(${l})] ${u.errorMessage}
  Called by client`}function Eo(r,l){return l.data=r.errorData,l}function sa(r){const l=r.split(":");let u,o;return l.length===1?(u=l[0],o="default"):(u=l.slice(0,l.length-1).join(":"),o=l[l.length-1]),u.endsWith(".js")&&(u=u.slice(0,-3)),`${u}:${o}`}function la(r,l){return JSON.stringify({udfPath:sa(r),args:Qt(l)})}function tm(r,l,u){const{initialNumItems:o,id:d}=u;return JSON.stringify({type:"paginated",udfPath:sa(r),args:Qt(l),options:Qt({initialNumItems:o,id:d})})}var ob=Object.defineProperty,cb=(r,l,u)=>l in r?ob(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,Lt=(r,l,u)=>cb(r,typeof l!="symbol"?l+"":l,u);class fb{constructor(){Lt(this,"nextQueryId"),Lt(this,"querySetVersion"),Lt(this,"querySet"),Lt(this,"queryIdToToken"),Lt(this,"identityVersion"),Lt(this,"auth"),Lt(this,"outstandingQueriesOlderThanRestart"),Lt(this,"outstandingAuthOlderThanRestart"),Lt(this,"paused"),Lt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(l,u,o,d){const h=sa(l),g=la(h,u),p=this.querySet.get(g);if(p!==void 0)return p.numSubscribers+=1,{queryToken:g,modification:null,unsubscribe:()=>this.removeSubscriber(g)};{const v=this.nextQueryId++,A={id:v,canonicalizedUdfPath:h,args:u,numSubscribers:1,journal:o,componentPath:d};this.querySet.set(g,A),this.queryIdToToken.set(v,g);const _=this.querySetVersion,O=this.querySetVersion+1,R={type:"Add",queryId:v,udfPath:h,args:[Qt(u)],journal:o,componentPath:d};return this.paused?this.pendingQuerySetModifications.set(v,R):this.querySetVersion=O,{queryToken:g,modification:{type:"ModifyQuerySet",baseVersion:_,newVersion:O,modifications:[R]},unsubscribe:()=>this.removeSubscriber(g)}}}transition(l){for(const u of l.modifications)switch(u.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(u.queryId);const o=u.journal;if(o!==void 0){const d=this.queryIdToToken.get(u.queryId);d!==void 0&&(this.querySet.get(d).journal=o)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(u.queryId);break}default:throw new Error(`Invalid modification ${u.type}`)}}queryId(l,u){const o=sa(l),d=la(o,u),h=this.querySet.get(d);return h!==void 0?h.id:null}isCurrentOrNewerAuthVersion(l){return l>=this.identityVersion}getAuth(){return this.auth}setAuth(l){this.auth={tokenType:"User",value:l};const u=this.identityVersion;return this.paused||(this.identityVersion=u+1),{type:"Authenticate",baseVersion:u,...this.auth}}setAdminAuth(l,u){const o={tokenType:"Admin",value:l,impersonating:u};this.auth=o;const d=this.identityVersion;return this.paused||(this.identityVersion=d+1),{type:"Authenticate",baseVersion:d,...o}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const l=this.identityVersion;return this.paused||(this.identityVersion=l+1),{type:"Authenticate",tokenType:"None",baseVersion:l}}hasAuth(){return!!this.auth}isNewAuth(l){return this.auth?.value!==l}queryPath(l){const u=this.queryIdToToken.get(l);return u?this.querySet.get(u).canonicalizedUdfPath:null}queryArgs(l){const u=this.queryIdToToken.get(l);return u?this.querySet.get(u).args:null}queryToken(l){return this.queryIdToToken.get(l)??null}queryJournal(l){return this.querySet.get(l)?.journal}restart(l){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const u=[];for(const h of this.querySet.values()){const g={type:"Add",queryId:h.id,udfPath:h.canonicalizedUdfPath,args:[Qt(h.args)],journal:h.journal,componentPath:h.componentPath};u.push(g),l.has(h.id)||this.outstandingQueriesOlderThanRestart.add(h.id)}this.querySetVersion=1;const o={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:u};if(!this.auth)return this.identityVersion=0,[o,void 0];this.outstandingAuthOlderThanRestart=!0;const d={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[o,d]}pause(){this.paused=!0}resume(){const l=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,u=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[l,u]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(l){const u=this.querySet.get(l);if(u.numSubscribers>1)return u.numSubscribers-=1,null;{this.querySet.delete(l),this.queryIdToToken.delete(u.id),this.outstandingQueriesOlderThanRestart.delete(u.id);const o=this.querySetVersion,d=this.querySetVersion+1,h={type:"Remove",queryId:u.id};return this.paused?this.pendingQuerySetModifications.has(u.id)?this.pendingQuerySetModifications.delete(u.id):this.pendingQuerySetModifications.set(u.id,h):this.querySetVersion=d,{type:"ModifyQuerySet",baseVersion:o,newVersion:d,modifications:[h]}}}}var db=Object.defineProperty,hb=(r,l,u)=>l in r?db(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,js=(r,l,u)=>hb(r,typeof l!="symbol"?l+"":l,u);class mb{constructor(l,u){this.logger=l,this.markConnectionStateDirty=u,js(this,"inflightRequests"),js(this,"requestsOlderThanRestart"),js(this,"inflightMutationsCount",0),js(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(l,u){const o=new Promise(d=>{const h=u?"Requested":"NotSent";this.inflightRequests.set(l.requestId,{message:l,status:{status:h,requestedAt:new Date,onResult:d}}),l.type==="Mutation"?this.inflightMutationsCount++:l.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),o}onResponse(l){const u=this.inflightRequests.get(l.requestId);if(u===void 0||u.status.status==="Completed")return null;const o=u.message.type==="Mutation"?"mutation":"action",d=u.message.udfPath;for(const v of l.logLines)Os(this.logger,"info",o,d,v);const h=u.status;let g,p;if(l.success)g={success:!0,logLines:l.logLines,value:Pa(l.result)},p=()=>h.onResult(g);else{const v=l.result,{errorData:A}=l;Os(this.logger,"error",o,d,v),g={success:!1,errorMessage:v,errorData:A!==void 0?Pa(A):void 0,logLines:l.logLines},p=()=>h.onResult(g)}return l.type==="ActionResponse"||!l.success?(p(),this.inflightRequests.delete(l.requestId),this.requestsOlderThanRestart.delete(l.requestId),u.message.type==="Action"?this.inflightActionsCount--:u.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:l.requestId,result:g}):(u.status={status:"Completed",result:g,ts:l.ts,onResolve:p},null)}removeCompleted(l){const u=new Map;for(const[o,d]of this.inflightRequests.entries()){const h=d.status;h.status==="Completed"&&h.ts.lessThanOrEqual(l)&&(h.onResolve(),u.set(o,h.result),d.message.type==="Mutation"?this.inflightMutationsCount--:d.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(o),this.requestsOlderThanRestart.delete(o))}return u.size>0&&this.markConnectionStateDirty(),u}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const l=[];for(const[u,o]of this.inflightRequests){if(o.status.status==="NotSent"){o.status.status="Requested",l.push(o.message);continue}if(o.message.type==="Mutation")l.push(o.message);else if(o.message.type==="Action"){if(this.inflightRequests.delete(u),this.requestsOlderThanRestart.delete(u),this.inflightActionsCount--,o.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");o.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),l}resume(){const l=[];for(const[,u]of this.inflightRequests)if(u.status.status==="NotSent"){u.status.status="Requested",l.push(u.message);continue}return l}hasIncompleteRequests(){for(const l of this.inflightRequests.values())if(l.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let l=Date.now();for(const u of this.inflightRequests.values())u.status.status!=="Completed"&&u.status.requestedAt.getTime()<l&&(l=u.status.requestedAt.getTime());return new Date(l)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const ni=Symbol.for("functionName"),Mm=Symbol.for("toReferencePath");function gb(r){return r[Mm]??null}function yb(r){return r.startsWith("function://")}function bb(r){let l;if(typeof r=="string")yb(r)?l={functionHandle:r}:l={name:r};else if(r[ni])l={name:r[ni]};else{const u=gb(r);if(!u)throw new Error(`${r} is not a functionReference`);l={reference:u}}return l}function Ie(r){const l=bb(r);if(l.name===void 0)throw l.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${l.functionHandle}`):l.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${l.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(l)}`);if(typeof r=="string")return r;const u=r[ni];if(!u)throw new Error(`${r} is not a functionReference`);return u}function Uo(r){return{[ni]:r}}function Om(r=[]){const l={get(u,o){if(typeof o=="string"){const d=[...r,o];return Om(d)}else if(o===ni){if(r.length<2){const g=["api",...r].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${g}\``)}const d=r.slice(0,-1).join("/"),h=r[r.length-1];return h==="default"?d:d+":"+h}else return o===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},l)}const vb=Om();var pb=Object.defineProperty,xb=(r,l,u)=>l in r?pb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,Ds=(r,l,u)=>xb(r,typeof l!="symbol"?l+"":l,u);class ai{constructor(l){Ds(this,"queryResults"),Ds(this,"modifiedQueries"),this.queryResults=l,this.modifiedQueries=[]}getQuery(l,...u){const o=on(u[0]),d=Ie(l),h=this.queryResults.get(la(d,o));if(h!==void 0)return ai.queryValue(h.result)}getAllQueries(l){const u=[],o=Ie(l);for(const d of this.queryResults.values())d.udfPath===sa(o)&&u.push({args:d.args,value:ai.queryValue(d.result)});return u}setQuery(l,u,o){const d=on(u),h=Ie(l),g=la(h,d);let p;o===void 0?p=void 0:p={success:!0,value:o,logLines:[]};const v={udfPath:h,args:d,result:p};this.queryResults.set(g,v),this.modifiedQueries.push(g)}static queryValue(l){if(l!==void 0)return l.success?l.value:void 0}}class Sb{constructor(){Ds(this,"queryResults"),Ds(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(l,u){this.optimisticUpdates=this.optimisticUpdates.filter(g=>!u.has(g.mutationId));const o=this.queryResults;this.queryResults=new Map(l);const d=new ai(this.queryResults);for(const g of this.optimisticUpdates)g.update(d);const h=[];for(const[g,p]of this.queryResults){const v=o.get(g);(v===void 0||v.result!==p.result)&&h.push(g)}return h}applyOptimisticUpdate(l,u){this.optimisticUpdates.push({update:l,mutationId:u});const o=new ai(this.queryResults);return l(o),o.modifiedQueries}rawQueryResult(l){const u=this.queryResults.get(l);if(u!==void 0)return u.result}queryResult(l){const u=this.queryResults.get(l);if(u===void 0)return;const o=u.result;if(o!==void 0){if(o.success)return o.value;throw o.errorData!==void 0?Eo(o,new Ao(Fa("query",u.udfPath,o))):new Error(Fa("query",u.udfPath,o))}}hasQueryResult(l){return this.queryResults.get(l)!==void 0}queryLogs(l){return this.queryResults.get(l)?.result?.logLines}}var wb=Object.defineProperty,jb=(r,l,u)=>l in r?wb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,co=(r,l,u)=>jb(r,typeof l!="symbol"?l+"":l,u);class it{constructor(l,u){co(this,"low"),co(this,"high"),co(this,"__isUnsignedLong__"),this.low=l|0,this.high=u|0,this.__isUnsignedLong__=!0}static isLong(l){return(l&&l.__isUnsignedLong__)===!0}static fromBytesLE(l){return new it(l[0]|l[1]<<8|l[2]<<16|l[3]<<24,l[4]|l[5]<<8|l[6]<<16|l[7]<<24)}toBytesLE(){const l=this.high,u=this.low;return[u&255,u>>>8&255,u>>>16&255,u>>>24,l&255,l>>>8&255,l>>>16&255,l>>>24]}static fromNumber(l){return isNaN(l)||l<0?nm:l>=Nb?Tb:new it(l%Pl|0,l/Pl|0)}toString(){return(BigInt(this.high)*BigInt(Pl)+BigInt(this.low)).toString()}equals(l){return it.isLong(l)||(l=it.fromValue(l)),this.high>>>31===1&&l.high>>>31===1?!1:this.high===l.high&&this.low===l.low}notEquals(l){return!this.equals(l)}comp(l){return it.isLong(l)||(l=it.fromValue(l)),this.equals(l)?0:l.high>>>0>this.high>>>0||l.high===this.high&&l.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(l){return this.comp(l)<=0}static fromValue(l){return typeof l=="number"?it.fromNumber(l):new it(l.low,l.high)}}const nm=new it(0,0),am=65536,Pl=am*am,Nb=Pl*Pl,Tb=new it(-1,-1);var Cb=Object.defineProperty,Ab=(r,l,u)=>l in r?Cb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,Ns=(r,l,u)=>Ab(r,typeof l!="symbol"?l+"":l,u);class lm{constructor(l,u){Ns(this,"version"),Ns(this,"remoteQuerySet"),Ns(this,"queryPath"),Ns(this,"logger"),this.version={querySet:0,ts:it.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=l,this.logger=u}transition(l){const u=l.startVersion;if(this.version.querySet!==u.querySet||this.version.ts.notEquals(u.ts)||this.version.identity!==u.identity)throw new Error(`Invalid start version: ${u.ts.toString()}:${u.querySet}:${u.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const o of l.modifications)switch(o.type){case"QueryUpdated":{const d=this.queryPath(o.queryId);if(d)for(const g of o.logLines)Os(this.logger,"info","query",d,g);const h=Pa(o.value??null);this.remoteQuerySet.set(o.queryId,{success:!0,value:h,logLines:o.logLines});break}case"QueryFailed":{const d=this.queryPath(o.queryId);if(d)for(const g of o.logLines)Os(this.logger,"info","query",d,g);const{errorData:h}=o;this.remoteQuerySet.set(o.queryId,{success:!1,errorMessage:o.errorMessage,errorData:h!==void 0?Pa(h):void 0,logLines:o.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(o.queryId);break}default:throw new Error(`Invalid modification ${o.type}`)}this.version=l.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function fo(r){const l=ei(r);return it.fromBytesLE(Array.from(l))}function Eb(r){const l=new Uint8Array(r.toBytesLE());return ti(l)}function im(r){switch(r.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...r};case"MutationResponse":return r.success?{...r,ts:fo(r.ts)}:{...r};case"Transition":return{...r,startVersion:{...r.startVersion,ts:fo(r.startVersion.ts)},endVersion:{...r.endVersion,ts:fo(r.endVersion.ts)}}}}function kb(r){switch(r.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...r};case"Connect":return r.maxObservedTimestamp!==void 0?{...r,maxObservedTimestamp:Eb(r.maxObservedTimestamp)}:{...r,maxObservedTimestamp:void 0}}}var Mb=Object.defineProperty,Ob=(r,l,u)=>l in r?Mb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,Ue=(r,l,u)=>Ob(r,typeof l!="symbol"?l+"":l,u);const Db=1e3,zb=1001,Rb=1005,_b=4040;let Ms;function Ia(){return Ms===void 0&&(Ms=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ms+performance.now())}function sm(){return`t=${Math.round((Ia()-Ms)/100)/10}s`}const Dm={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function qb(r){if(r===void 0)return"Unknown";for(const l of Object.keys(Dm))if(r.startsWith(l))return l;return"Unknown"}class Lb{constructor(l,u,o,d,h,g){this.markConnectionStateDirty=h,this.debug=g,Ue(this,"socket"),Ue(this,"connectionCount"),Ue(this,"_hasEverConnected",!1),Ue(this,"lastCloseReason"),Ue(this,"transitionChunkBuffer",null),Ue(this,"defaultInitialBackoff"),Ue(this,"maxBackoff"),Ue(this,"retries"),Ue(this,"serverInactivityThreshold"),Ue(this,"reconnectDueToServerInactivityTimeout"),Ue(this,"scheduledReconnect",null),Ue(this,"networkOnlineHandler",null),Ue(this,"pendingNetworkRecoveryInfo",null),Ue(this,"uri"),Ue(this,"onOpen"),Ue(this,"onResume"),Ue(this,"onMessage"),Ue(this,"webSocketConstructor"),Ue(this,"logger"),Ue(this,"onServerDisconnectError"),this.webSocketConstructor=o,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=l,this.onOpen=u.onOpen,this.onResume=u.onResume,this.onMessage=u.onMessage,this.onServerDisconnectError=u.onServerDisconnectError,this.logger=d,this.setupNetworkListener(),this.connect()}setSocketState(l){this.socket=l,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}setupNetworkListener(){typeof window>"u"||typeof window.addEventListener!="function"||this.networkOnlineHandler===null&&(this.networkOnlineHandler=()=>{this._logVerbose("network online event detected"),this.tryReconnectImmediately()},window.addEventListener("online",this.networkOnlineHandler),this._logVerbose("network online event listener registered"))}cleanupNetworkListener(){this.networkOnlineHandler&&typeof window<"u"&&typeof window.removeEventListener=="function"&&(window.removeEventListener("online",this.networkOnlineHandler),this.networkOnlineHandler=null,this._logVerbose("network online event listener removed"))}assembleTransition(l){if(l.partNumber<0||l.partNumber>=l.totalParts||l.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==l.totalParts||this.transitionChunkBuffer.transitionId!==l.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:l.totalParts,transitionId:l.transitionId}),l.partNumber!==this.transitionChunkBuffer.chunks.length){const u=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${u}, got ${l.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(l.chunk),this.transitionChunkBuffer.chunks.length===l.totalParts){const u=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const o=im(JSON.parse(u));if(o.type!=="Transition")throw new Error(`Expected Transition, got ${o.type} after assembling chunks`);return o}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const l=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:l,paused:"no"}),this.resetServerInactivityTimeout(),l.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");if(this.setSocketState({state:"ready",ws:l,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ia()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",sm(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",sm())),this.connectionCount+=1,this.lastCloseReason=null,this.pendingNetworkRecoveryInfo!==null){const{timeSavedMs:u}=this.pendingNetworkRecoveryInfo;this.pendingNetworkRecoveryInfo=null,this.sendMessage({type:"Event",eventType:"NetworkRecoveryReconnect",event:{timeSavedMs:u}}),this.logger.log(`Network recovery reconnect saved ~${Math.round(u/1e3)}s of waiting`)}},l.onerror=u=>{this.transitionChunkBuffer=null;const o=u.message;o&&this.logger.log(`WebSocket error message: ${o}`)},l.onmessage=u=>{this.resetServerInactivityTimeout();const o=u.data.length;let d=im(JSON.parse(u.data));if(this._logVerbose(`received ws message with type ${d.type}`),d.type==="Ping")return;if(d.type==="TransitionChunk"){const g=this.assembleTransition(d);if(!g)return;d=g,this._logVerbose(`assembled full ws message of type ${d.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${d.type} while buffering TransitionChunks`)),d.type==="Transition"&&this.reportLargeTransition({messageLength:o,transition:d}),this.onMessage(d).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},l.onclose=u=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=u.reason||`closed with code ${u.code}`),u.code!==Db&&u.code!==zb&&u.code!==Rb&&u.code!==_b){let d=`WebSocket closed with code ${u.code}`;u.reason&&(d+=`: ${u.reason}`),this.logger.log(d),this.onServerDisconnectError&&u.reason&&this.onServerDisconnectError(d)}const o=qb(u.reason);this.scheduleReconnect(o)}}socketState(){return this.socket.state}sendMessage(l){const u={type:l.type,...l.type==="Authenticate"&&l.tokenType==="User"?{value:`...${l.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const o=kb(l),d=JSON.stringify(o);let h=!1;try{this.socket.ws.send(d),h=!0}catch(g){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${g}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${h?"sent":"failed to send"} message with type ${l.type}: ${JSON.stringify(u)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(u)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(l){this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.socket={state:"disconnected"};const u=this.nextBackoff(l);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(u)}ms`);const o=Ia(),d=setTimeout(()=>{this.scheduledReconnect?.timeout===d&&(this.scheduledReconnect=null,this.connect())},u);this.scheduledReconnect={timeout:d,scheduledAt:o,backoffMs:u}}closeAndReconnect(l){switch(this._logVerbose(`begin closeAndReconnect with reason ${l}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=l,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const l=this.socket.ws;return l.onmessage=u=>{this._logVerbose("Ignoring message received after close")},new Promise(u=>{l.onclose=()=>{this._logVerbose("Closed after connecting"),u()},l.onopen=()=>{this._logVerbose("Opened after connecting"),l.close()}})}case"ready":{this._logVerbose("ws.close called");const l=this.socket.ws;l.onmessage=o=>{this._logVerbose("Ignoring message received after close")};const u=new Promise(o=>{l.onclose=()=>{o()}});return l.close(),u}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.cleanupNetworkListener(),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const l=this.close();return this.setSocketState({state:"terminated"}),l}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{this.cleanupNetworkListener();const l=this.close();return this.socket={state:"stopped"},l}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.setupNetworkListener(),this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}tryReconnectImmediately(){if(this._logVerbose("tryReconnectImmediately called"),this.socket.state!=="disconnected"){this._logVerbose(`tryReconnectImmediately called but socket state is ${this.socket.state}, no action taken`);return}let l=null;if(this.scheduledReconnect){const u=Ia()-this.scheduledReconnect.scheduledAt;l=Math.max(0,this.scheduledReconnect.backoffMs-u),this._logVerbose(`would have waited ${Math.round(l)}ms more (backoff was ${Math.round(this.scheduledReconnect.backoffMs)}ms, elapsed ${Math.round(u)}ms)`),clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null,this._logVerbose("canceled scheduled reconnect")}this.logger.log("Network recovery detected, reconnecting immediately"),this.pendingNetworkRecoveryInfo=l!==null?{timeSavedMs:l}:null,this.connect()}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ia()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(l){this.logger.logVerbose(l)}nextBackoff(l){const o=(l==="client"?100:l==="Unknown"?this.defaultInitialBackoff:Dm[l].timeout)*Math.pow(2,this.retries);this.retries+=1;const d=Math.min(o,this.maxBackoff),h=d*(Math.random()-.5);return d+h}reportLargeTransition({transition:l,messageLength:u}){if(l.clientClockSkew===void 0||l.serverTs===void 0)return;const o=Ia()-l.clientClockSkew-l.serverTs/1e6,d=`${Math.round(o)}ms`,h=`${Math.round(u/1e4)/100}MB`,g=u/(o/1e3),p=`${Math.round(g/1e4)/100}MB per second`;this._logVerbose(`received ${h} transition in ${d} at ${p}`),u>2e7?this.logger.log(`received query results totaling more that 20MB (${h}) which will take a long time to download on slower connections`):o>2e4&&this.logger.log(`received query results totaling ${h} which took more than 20s to arrive (${d})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:o,messageLength:u}})}}function Ub(){return Bb()}function Bb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const l=Math.random()*16|0;return(r==="x"?l:l&3|8).toString(16)})}class Fl extends Error{}Fl.prototype.name="InvalidTokenError";function Qb(r){return decodeURIComponent(atob(r).replace(/(.)/g,(l,u)=>{let o=u.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function Vb(r){let l=r.replace(/-/g,"+").replace(/_/g,"/");switch(l.length%4){case 0:break;case 2:l+="==";break;case 3:l+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Qb(l)}catch{return atob(l)}}function zm(r,l){if(typeof r!="string")throw new Fl("Invalid token specified: must be a string");l||(l={});const u=l.header===!0?0:1,o=r.split(".")[u];if(typeof o!="string")throw new Fl(`Invalid token specified: missing part #${u+1}`);let d;try{d=Vb(o)}catch(h){throw new Fl(`Invalid token specified: invalid base64 for part #${u+1} (${h.message})`)}try{return JSON.parse(d)}catch(h){throw new Fl(`Invalid token specified: invalid json for part #${u+1} (${h.message})`)}}var Hb=Object.defineProperty,Yb=(r,l,u)=>l in r?Hb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,At=(r,l,u)=>Yb(r,typeof l!="symbol"?l+"":l,u);const Gb=480*60*60*1e3,rm=2;class Xb{constructor(l,u,o){At(this,"authState",{state:"noAuth"}),At(this,"configVersion",0),At(this,"syncState"),At(this,"authenticate"),At(this,"stopSocket"),At(this,"tryRestartSocket"),At(this,"pauseSocket"),At(this,"resumeSocket"),At(this,"clearAuth"),At(this,"logger"),At(this,"refreshTokenLeewaySeconds"),At(this,"tokenConfirmationAttempts",0),this.syncState=l,this.authenticate=u.authenticate,this.stopSocket=u.stopSocket,this.tryRestartSocket=u.tryRestartSocket,this.pauseSocket=u.pauseSocket,this.resumeSocket=u.resumeSocket,this.clearAuth=u.clearAuth,this.logger=o.logger,this.refreshTokenLeewaySeconds=o.refreshTokenLeewaySeconds}async setConfig(l,u){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const o=await this.fetchTokenAndGuardAgainstRace(l,{forceRefreshToken:!1});o.isFromOutdatedConfig||(o.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:l,onAuthChange:u},hasRetried:!1}),this.authenticate(o.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:l,onAuthChange:u}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(l){if(this.syncState.isCurrentOrNewerAuthVersion(l.endVersion.identity)&&!(l.endVersion.identity<=l.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(l){if(l.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:u}=l;if(!this.syncState.isCurrentOrNewerAuthVersion(u+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(l)}async tryToReauthenticate(l){if(this._logVerbose(`attempting to reauthenticate: ${l.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=rm){this.logger.error(`Failed to authenticate: "${l.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${rm-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const u=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});u.isFromOutdatedConfig||(u.value&&this.syncState.isNewAuth(u.value)?(this.authenticate(u.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:u.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const l=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});l.isFromOutdatedConfig||(l.value?this.syncState.isNewAuth(l.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:l.value,config:this.authState.config}),this.authenticate(l.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(l){if(this.authState.state==="noAuth")return;const u=this.decodeToken(l);if(!u){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:o,exp:d}=u;if(!o||!d){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const h=d-o;if(h<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let g=Math.min(Gb,(h-this.refreshTokenLeewaySeconds)*1e3);g<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${h}s`),g=0);const p=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},g);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:p,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${g}ms`)}async fetchTokenAndGuardAgainstRace(l,u){const o=++this.configVersion;this._logVerbose(`fetching token with config version ${o}`);const d=await l(u);return this.configVersion!==o?(this._logVerbose(`stale config version, expected ${o}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:d}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(l){l(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(l){const u=l.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:l.hadAuth,state:l.state,token:`...${l.token.slice(-7)}`}:{state:l.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(u)}`),l.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=l}decodeToken(l){try{return zm(l)}catch(u){return this._logVerbose(`Error decoding token: ${u instanceof Error?u.message:"Unknown error"}`),null}}_logVerbose(l){this.logger.logVerbose(`${l} [v${this.configVersion}]`)}}const Zb=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Kb(r,l){const u={sessionId:l};typeof performance>"u"||!performance.mark||performance.mark(r,{detail:u})}function Jb(r){let l=r.name.slice(6);return l=l.charAt(0).toLowerCase()+l.slice(1),{name:l,startTime:r.startTime}}function $b(r){if(typeof performance>"u"||!performance.getEntriesByName)return[];const l=[];for(const u of Zb){const o=performance.getEntriesByName(u).filter(d=>d.entryType==="mark").filter(d=>d.detail.sessionId===r);l.push(...o)}return l.map(Jb)}var Ib=Object.defineProperty,Fb=(r,l,u)=>l in r?Ib(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,Be=(r,l,u)=>Fb(r,typeof l!="symbol"?l+"":l,u);class Wb{constructor(l,u,o){if(Be(this,"address"),Be(this,"state"),Be(this,"requestManager"),Be(this,"webSocketManager"),Be(this,"authenticationManager"),Be(this,"remoteQuerySet"),Be(this,"optimisticQueryResults"),Be(this,"_transitionHandlerCounter",0),Be(this,"_nextRequestId"),Be(this,"_onTransitionFns",new Map),Be(this,"_sessionId"),Be(this,"firstMessageReceived",!1),Be(this,"debug"),Be(this,"logger"),Be(this,"maxObservedTimestamp"),Be(this,"connectionStateSubscribers",new Map),Be(this,"nextConnectionStateSubscriberId",0),Be(this,"_lastPublishedConnectionState"),Be(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const q=this.connectionState();if(JSON.stringify(q)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=q;for(const z of this.connectionStateSubscribers.values())z(q)}})}),Be(this,"mark",q=>{this.debug&&Kb(q,this.sessionId)}),typeof l=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");o?.skipConvexDeploymentUrlCheck!==!0&&Ky(l),o={...o};const d=o.authRefreshTokenLeewaySeconds??2;let h=o.webSocketConstructor;if(!h&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");h=h||WebSocket,this.debug=o.reportDebugInfoToConvex??!1,this.address=l,this.logger=o.logger===!1?km({verbose:o.verbose??!1}):o.logger!==!0&&o.logger?o.logger:Em({verbose:o.verbose??!1});const g=l.search("://");if(g===-1)throw new Error("Provided address was not an absolute URL.");const p=l.substring(g+3),v=l.substring(0,g);let A;if(v==="http")A="ws";else if(v==="https")A="wss";else throw new Error(`Unknown parent protocol ${v}`);const _=`${A}://${p}/api/${Ph}/sync`;this.state=new fb,this.remoteQuerySet=new lm(q=>this.state.queryPath(q),this.logger),this.requestManager=new mb(this.logger,this.markConnectionStateDirty);const O=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new Xb(this.state,{authenticate:q=>{const z=this.state.setAuth(q);return this.webSocketManager.sendMessage(z),z.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:O,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:d}),this.optimisticQueryResults=new Sb,this.addOnTransitionHandler(q=>{u(q.queries.map(z=>z.token))}),this._nextRequestId=0,this._sessionId=Ub();const{unsavedChangesWarning:R}=o;if(typeof window>"u"||typeof window.addEventListener>"u"){if(R===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else R!==!1&&window.addEventListener("beforeunload",q=>{if(this.requestManager.hasIncompleteRequests()){q.preventDefault();const z="Are you sure you want to leave? Your changes may not be saved.";return(q||window.event).returnValue=z,z}});this.webSocketManager=new Lb(_,{onOpen:q=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...q,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const z=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new lm(U=>this.state.queryPath(U),this.logger);const[D,L]=this.state.restart(z);L&&this.webSocketManager.sendMessage(L),this.webSocketManager.sendMessage(D);for(const U of this.requestManager.restart())this.webSocketManager.sendMessage(U)},onResume:()=>{const[q,z]=this.state.resume();z&&this.webSocketManager.sendMessage(z),q&&this.webSocketManager.sendMessage(q);for(const D of this.requestManager.resume())this.webSocketManager.sendMessage(D)},onMessage:q=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),q.type){case"Transition":{this.observedTimestamp(q.endVersion.ts),this.authenticationManager.onTransition(q),this.remoteQuerySet.transition(q),this.state.transition(q);const z=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(z);break}case"MutationResponse":{q.success&&this.observedTimestamp(q.ts);const z=this.requestManager.onResponse(q);z!==null&&this.notifyOnQueryResultChanges(new Map([[z.requestId,z.result]]));break}case"ActionResponse":{this.requestManager.onResponse(q);break}case"AuthError":{this.authenticationManager.onAuthError(q);break}case"FatalError":{const z=ub(this.logger,q.error);throw this.webSocketManager.terminate(),z}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:o.onServerDisconnectError},h,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),o.expectAuth&&O()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(l){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(l))&&(this.maxObservedTimestamp=l)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(l){const u=this.remoteQuerySet.remoteQueryResults(),o=new Map;for(const[h,g]of u){const p=this.state.queryToken(h);if(p!==null){const v={result:g,udfPath:this.state.queryPath(h),args:this.state.queryArgs(h)};o.set(p,v)}}const d=this.optimisticQueryResults.ingestQueryResultsFromServer(o,new Set(l.keys()));this.handleTransition({queries:d.map(h=>{const g=this.optimisticQueryResults.rawQueryResult(h);return{token:h,modification:{kind:"Updated",result:g}}}),reflectedMutations:Array.from(l).map(([h,g])=>({requestId:h,result:g})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(l){for(const u of this._onTransitionFns.values())u(l)}addOnTransitionHandler(l){const u=this._transitionHandlerCounter++;return this._onTransitionFns.set(u,l),()=>this._onTransitionFns.delete(u)}getCurrentAuthClaims(){const l=this.state.getAuth();let u={};if(l&&l.tokenType==="User")try{u=l?zm(l.value):{}}catch{u={}}else return;return{token:l.value,decoded:u}}setAuth(l,u){this.authenticationManager.setConfig(l,u)}hasAuth(){return this.state.hasAuth()}setAdminAuth(l,u){const o=this.state.setAdminAuth(l,u);this.webSocketManager.sendMessage(o)}clearAuth(){const l=this.state.clearAuth();this.webSocketManager.sendMessage(l)}subscribe(l,u,o){const d=on(u),{modification:h,queryToken:g,unsubscribe:p}=this.state.subscribe(l,d,o?.journal,o?.componentPath);return h!==null&&this.webSocketManager.sendMessage(h),{queryToken:g,unsubscribe:()=>{const v=p();v&&this.webSocketManager.sendMessage(v)}}}localQueryResult(l,u){const o=on(u),d=la(l,o);return this.optimisticQueryResults.queryResult(d)}localQueryResultByToken(l){return this.optimisticQueryResults.queryResult(l)}hasLocalQueryResultByToken(l){return this.optimisticQueryResults.hasQueryResult(l)}localQueryLogs(l,u){const o=on(u),d=la(l,o);return this.optimisticQueryResults.queryLogs(d)}queryJournal(l,u){const o=on(u),d=la(l,o);return this.state.queryJournal(d)}connectionState(){const l=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:l.isConnected,hasEverConnected:l.hasEverConnected,connectionCount:l.connectionCount,connectionRetries:l.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(l){const u=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(u,l),()=>{this.connectionStateSubscribers.delete(u)}}async mutation(l,u,o){const d=await this.mutationInternal(l,u,o);if(!d.success)throw d.errorData!==void 0?Eo(d,new Ao(Fa("mutation",l,d))):new Error(Fa("mutation",l,d));return d.value}async mutationInternal(l,u,o,d){const{mutationPromise:h}=this.enqueueMutation(l,u,o,d);return h}enqueueMutation(l,u,o,d){const h=on(u);this.tryReportLongDisconnect();const g=this.nextRequestId;if(this._nextRequestId++,o!==void 0){const _=o.optimisticUpdate;if(_!==void 0){const O=z=>{_(z,h)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},q=this.optimisticQueryResults.applyOptimisticUpdate(O,g).map(z=>{const D=this.localQueryResultByToken(z);return{token:z,modification:{kind:"Updated",result:D===void 0?void 0:{success:!0,value:D,logLines:[]}}}});this.handleTransition({queries:q,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const p={type:"Mutation",requestId:g,udfPath:l,componentPath:d,args:[Qt(h)]},v=this.webSocketManager.sendMessage(p),A=this.requestManager.request(p,v);return{requestId:g,mutationPromise:A}}async action(l,u){const o=await this.actionInternal(l,u);if(!o.success)throw o.errorData!==void 0?Eo(o,new Ao(Fa("action",l,o))):new Error(Fa("action",l,o));return o.value}async actionInternal(l,u,o){const d=on(u),h=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const g={type:"Action",requestId:h,udfPath:l,componentPath:o,args:[Qt(d)]},p=this.webSocketManager.sendMessage(g);return this.requestManager.request(g,p)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const l=$b(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:l})}}tryReportLongDisconnect(){if(!this.debug)return;const l=this.connectionState().timeOfOldestInflightRequest;if(l===null||Date.now()-l.getTime()<=60*1e3)return;const u=`${this.address}/api/debug_event`;fetch(u,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Ph}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(o=>{o.ok||this.logger.warn("Analytics request failed with response:",o.body)}).catch(o=>{this.logger.warn("Analytics response failed with error:",o)})}}function ho(r){if(typeof r!="object"||r===null||!Array.isArray(r.page)||typeof r.isDone!="boolean"||typeof r.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${r?.toString()}`);return r}var Pb=Object.defineProperty,ev=(r,l,u)=>l in r?Pb(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,um=(r,l,u)=>ev(r,typeof l!="symbol"?l+"":l,u);class tv{constructor(l,u){this.client=l,this.onTransition=u,um(this,"paginatedQuerySet",new Map),um(this,"lastTransitionTs"),this.lastTransitionTs=it.fromNumber(0),this.client.addOnTransitionHandler(o=>this.onBaseTransition(o))}subscribe(l,u,o){const d=sa(l),h=tm(d,u,o),g=()=>this.removePaginatedQuerySubscriber(h),p=this.paginatedQuerySet.get(h);return p?(p.numSubscribers+=1,{paginatedQueryToken:h,unsubscribe:g}):(this.paginatedQuerySet.set(h,{token:h,canonicalizedUdfPath:d,args:u,numSubscribers:1,options:{initialNumItems:o.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:o.id}),this.addPageToPaginatedQuery(h,null,o.initialNumItems),{paginatedQueryToken:h,unsubscribe:g})}localQueryResult(l,u,o){const d=sa(l),h=tm(d,u,o);return this.localQueryResultByToken(h)}localQueryResultByToken(l){const u=this.paginatedQuerySet.get(l);if(!u)return;const o=this.activePageQueryTokens(u);if(o.length===0)return{results:[],status:"LoadingFirstPage",loadMore:v=>this.loadMoreOfPaginatedQuery(l,v)};let d=[],h=!1,g=!1;for(const v of o){const A=this.client.localQueryResultByToken(v);if(A===void 0){h=!0,g=!1;continue}const _=ho(A);d=d.concat(_.page),g=!!_.isDone}let p;return h?p=d.length===0?"LoadingFirstPage":"LoadingMore":g?p="Exhausted":p="CanLoadMore",{results:d,status:p,loadMore:v=>this.loadMoreOfPaginatedQuery(l,v)}}onBaseTransition(l){const u=l.queries.map(g=>g.token),o=this.queriesContainingTokens(u);let d=[];o.length>0&&(this.processPaginatedQuerySplits(o,g=>this.client.localQueryResultByToken(g)),d=o.map(g=>({token:g,modification:{kind:"Updated",result:this.localQueryResultByToken(g)}})));const h={...l,paginatedQueries:d};this.onTransition(h)}loadMoreOfPaginatedQuery(l,u){this.mustGetPaginatedQuery(l);const o=this.queryTokenForLastPageOfPaginatedQuery(l),d=this.client.localQueryResultByToken(o);if(!d)return!1;const h=ho(d);if(h.isDone)return!1;this.addPageToPaginatedQuery(l,h.continueCursor,u);const g={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:l,modification:{kind:"Updated",result:this.localQueryResultByToken(l)}}]};return this.onTransition(g),!0}queriesContainingTokens(l){if(l.length===0)return[];const u=[],o=new Set(l);for(const[d,h]of this.paginatedQuerySet)for(const g of this.allQueryTokens(h))if(o.has(g)){u.push(d);break}return u}processPaginatedQuerySplits(l,u){for(const o of l){const d=this.mustGetPaginatedQuery(o),{ongoingSplits:h,pageKeyToQuery:g,pageKeys:p}=d;for(const[v,[A,_]]of h)u(g.get(A).queryToken)!==void 0&&u(g.get(_).queryToken)!==void 0&&this.completePaginatedQuerySplit(d,v,A,_);for(const v of p){if(h.has(v))continue;const A=g.get(v).queryToken,_=u(A);if(!_)continue;const O=ho(_);O.splitCursor&&(O.pageStatus==="SplitRecommended"||O.pageStatus==="SplitRequired"||O.page.length>d.options.initialNumItems*2)&&this.splitPaginatedQueryPage(d,v,O.splitCursor,O.continueCursor)}}}splitPaginatedQueryPage(l,u,o,d){const h=l.nextPageKey++,g=l.nextPageKey++,p={cursor:d,numItems:l.options.initialNumItems,id:l.id},v=this.client.subscribe(l.canonicalizedUdfPath,{...l.args,paginationOpts:{...p,cursor:null,endCursor:o}});l.pageKeyToQuery.set(h,v);const A=this.client.subscribe(l.canonicalizedUdfPath,{...l.args,paginationOpts:{...p,cursor:o,endCursor:d}});l.pageKeyToQuery.set(g,A),l.ongoingSplits.set(u,[h,g])}addPageToPaginatedQuery(l,u,o){const d=this.mustGetPaginatedQuery(l),h=d.nextPageKey++,g={cursor:u,numItems:o,id:d.id},p={...d.args,paginationOpts:g},v=this.client.subscribe(d.canonicalizedUdfPath,p);return d.pageKeys.push(h),d.pageKeyToQuery.set(h,v),v}removePaginatedQuerySubscriber(l){const u=this.paginatedQuerySet.get(l);if(u&&(u.numSubscribers-=1,!(u.numSubscribers>0))){for(const o of u.pageKeyToQuery.values())o.unsubscribe();this.paginatedQuerySet.delete(l)}}completePaginatedQuerySplit(l,u,o,d){const h=l.pageKeyToQuery.get(u);l.pageKeyToQuery.delete(u);const g=l.pageKeys.indexOf(u);l.pageKeys.splice(g,1,o,d),l.ongoingSplits.delete(u),h.unsubscribe()}activePageQueryTokens(l){return l.pageKeys.map(u=>l.pageKeyToQuery.get(u).queryToken)}allQueryTokens(l){return Array.from(l.pageKeyToQuery.values()).map(u=>u.queryToken)}queryTokenForLastPageOfPaginatedQuery(l){const u=this.mustGetPaginatedQuery(l),o=u.pageKeys[u.pageKeys.length-1];if(o===void 0)throw new Error(`No pages for paginated query ${l}`);return u.pageKeyToQuery.get(o).queryToken}mustGetPaginatedQuery(l){const u=this.paginatedQuerySet.get(l);if(!u)throw new Error("paginated query no longer exists for token "+l);return u}}function nv({getCurrentValue:r,subscribe:l}){const[u,o]=j.useState(()=>({getCurrentValue:r,subscribe:l,value:r()}));let d=u.value;return(u.getCurrentValue!==r||u.subscribe!==l)&&(d=r(),o({getCurrentValue:r,subscribe:l,value:d})),j.useEffect(()=>{let h=!1;const g=()=>{h||o(v=>{if(v.getCurrentValue!==r||v.subscribe!==l)return v;const A=r();return v.value===A?v:{...v,value:A}})},p=l(g);return g(),()=>{h=!0,p()}},[r,l]),d}var av=Object.defineProperty,lv=(r,l,u)=>l in r?av(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,un=(r,l,u)=>lv(r,typeof l!="symbol"?l+"":l,u);const iv=5e3;if(typeof _o>"u")throw new Error("Required dependency 'react' not found");function Rm(r,l,u){function o(d){return ov(d),l.mutation(r,d,{optimisticUpdate:u})}return o.withOptimisticUpdate=function(h){if(u!==void 0)throw new Error(`Already specified optimistic update for mutation ${Ie(r)}`);return Rm(r,l,h)},o}function sv(r,l){return function(u){return l.action(r,u)}}class rv{constructor(l,u){if(un(this,"address"),un(this,"cachedSync"),un(this,"cachedPaginatedQueryClient"),un(this,"listeners"),un(this,"options"),un(this,"closed",!1),un(this,"_logger"),un(this,"adminAuth"),un(this,"fakeUserIdentity"),l===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof l!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof l} instead.`);if(!l.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=l,this.listeners=new Map,this._logger=u?.logger===!1?km({verbose:u?.verbose??!1}):u?.logger!==!0&&u?.logger?u.logger:Em({verbose:u?.verbose??!1}),this.options={...u,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Wb(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new tv(this.cachedSync,l=>this.handleTransition(l)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(l,u){if(typeof l=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(l,u??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(l,u){if(this.adminAuth=l,this.fakeUserIdentity=u,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(l,u)}watchQuery(l,...u){const[o,d]=u,h=Ie(l);return{onUpdate:g=>{const{queryToken:p,unsubscribe:v}=this.sync.subscribe(h,o,d),A=this.listeners.get(p);return A!==void 0?A.add(g):this.listeners.set(p,new Set([g])),()=>{if(this.closed)return;const _=this.listeners.get(p);_.delete(g),_.size===0&&this.listeners.delete(p),v()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(h,o)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(h,o)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(h,o)}}}prewarmQuery(l){const u=l.extendSubscriptionFor??iv,d=this.watchQuery(l.query,l.args||{}).onUpdate(()=>{});setTimeout(d,u)}watchPaginatedQuery(l,u,o){const d=Ie(l);return{onUpdate:h=>{const{paginatedQueryToken:g,unsubscribe:p}=this.paginatedQueryClient.subscribe(d,u||{},o),v=this.listeners.get(g);return v!==void 0?v.add(h):this.listeners.set(g,new Set([h])),()=>{if(this.closed)return;const A=this.listeners.get(g);A.delete(h),A.size===0&&this.listeners.delete(g),p()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(d,u,o)}}mutation(l,...u){const[o,d]=u,h=Ie(l);return this.sync.mutation(h,o,d)}action(l,...u){const o=Ie(l);return this.sync.action(o,...u)}query(l,...u){const o=this.watchQuery(l,...u),d=o.localQueryResult();return d!==void 0?Promise.resolve(d):new Promise((h,g)=>{const p=o.onUpdate(()=>{p();try{h(o.localQueryResult())}catch(v){g(v)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(l){return this.sync.subscribeToConnectionState(l)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const l=this.cachedSync;this.cachedSync=void 0,await l.close()}}handleTransition(l){const u=l.queries.map(d=>d.token),o=l.paginatedQueries.map(d=>d.token);this.transition([...u,...o])}transition(l){for(const u of l){const o=this.listeners.get(u);if(o)for(const d of o)d()}}}const Rs=_o.createContext(void 0);function _m(){return j.useContext(Rs)}const uv=({client:r,children:l})=>_o.createElement(Rs.Provider,{value:r},l);function tl(r,...l){const u=l[0]==="skip",o=l[0]==="skip"?{}:on(l[0]),d=typeof r=="string"?Uo(r):r,h=Ie(d),g=j.useMemo(()=>u?{}:{query:{query:d,args:o}},[JSON.stringify(Qt(o)),h,u]),v=hv(g).query;if(v instanceof Error)throw v;return v}function Bt(r){const l=typeof r=="string"?Uo(r):r,u=j.useContext(Rs);if(u===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return j.useMemo(()=>Rm(l,u),[u,Ie(l)])}function cx(r){const l=j.useContext(Rs),u=typeof r=="string"?Uo(r):r;if(l===void 0)throw new Error("Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return j.useMemo(()=>sv(u,l),[l,Ie(u)])}function ov(r){if(typeof r=="object"&&r!==null&&"bubbles"in r&&"persist"in r&&"isDefaultPrevented"in r)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var cv=Object.defineProperty,fv=(r,l,u)=>l in r?cv(r,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[l]=u,mo=(r,l,u)=>fv(r,typeof l!="symbol"?l+"":l,u);class dv{constructor(l){mo(this,"createWatch"),mo(this,"queries"),mo(this,"listeners"),this.createWatch=l,this.queries={},this.listeners=new Set}setQueries(l){for(const u of Object.keys(l)){const{query:o,args:d,paginationOptions:h}=l[u];if(Ie(o),this.queries[u]===void 0)this.addQuery(u,o,d,h?{paginationOptions:h}:{});else{const g=this.queries[u];(Ie(o)!==Ie(g.query)||JSON.stringify(Qt(d))!==JSON.stringify(Qt(g.args))||JSON.stringify(h)!==JSON.stringify(g.paginationOptions))&&(this.removeQuery(u),this.addQuery(u,o,d,h?{paginationOptions:h}:{}))}}for(const u of Object.keys(this.queries))l[u]===void 0&&this.removeQuery(u)}subscribe(l){return this.listeners.add(l),()=>{this.listeners.delete(l)}}getLocalResults(l){const u={};for(const o of Object.keys(l)){const{query:d,args:h}=l[o],g=l[o].paginationOptions;Ie(d);const p=this.createWatch(d,h,g?{paginationOptions:g}:{});let v;try{v=p.localQueryResult()}catch(A){if(A instanceof Error)v=A;else throw A}u[o]=v}return u}setCreateWatch(l){this.createWatch=l;for(const u of Object.keys(this.queries)){const{query:o,args:d,watch:h,paginationOptions:g}=this.queries[u],p="journal"in h?h.journal():void 0;this.removeQuery(u),this.addQuery(u,o,d,{...p?{journal:p}:[],...g?{paginationOptions:g}:{}})}}destroy(){for(const l of Object.keys(this.queries))this.removeQuery(l);this.listeners=new Set}addQuery(l,u,o,{paginationOptions:d,journal:h}){if(this.queries[l]!==void 0)throw new Error(`Tried to add a new query with identifier ${l} when it already exists.`);const g=this.createWatch(u,o,{...h?{journal:h}:[],...d?{paginationOptions:d}:{}}),p=g.onUpdate(()=>this.notifyListeners());this.queries[l]={query:u,args:o,watch:g,unsubscribe:p,...d?{paginationOptions:d}:{}}}removeQuery(l){const u=this.queries[l];if(u===void 0)throw new Error(`No query found with identifier ${l}.`);u.unsubscribe(),delete this.queries[l]}notifyListeners(){for(const l of this.listeners)l()}}function hv(r){const l=_m();if(l===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const u=j.useMemo(()=>(o,d,{journal:h,paginationOptions:g})=>g?l.watchPaginatedQuery(o,d,g):l.watchQuery(o,d,h?{journal:h}:{}),[l]);return mv(r,u)}function mv(r,l){const[u]=j.useState(()=>new dv(l));u.createWatch!==l&&u.setCreateWatch(l),j.useEffect(()=>()=>u.destroy(),[u]);const o=j.useMemo(()=>({getCurrentValue:()=>u.getLocalResults(r),subscribe:d=>(u.setQueries(r),u.subscribe(d))}),[u,r]);return nv(o)}const gv="lisa-webvh-ed25519",go=new Uint8Array([237,1]);function yv(r){return Array.from(r).map(l=>l.toString(16).padStart(2,"0")).join("")}function bv(r){const l=new Uint8Array(r.length/2);for(let u=0;u<l.length;u+=1)l[u]=parseInt(r.slice(u*2,u*2+2),16);return l}class vv{privateKey;publicKeyMultibase;constructor(l,u){this.privateKey=l,this.publicKeyMultibase=u}async sign(l){const u=await My(l.document,l.proof),o=await Oy(u,this.privateKey);return{proofValue:pm(o,xm.BASE58_BTC)}}async verify(l,u,o){const d=o.length===33?o.slice(1):o;return Dy(l,u,d)}getVerificationMethodId(){return`did:key:${this.publicKeyMultibase}`}}async function pv(r){const l=`${gv}:${r}`,u=localStorage.getItem(l),o=u?bv(u):Ey.randomPrivateKey();u||localStorage.setItem(l,yv(o));const d=await ky(o),h=new Uint8Array(go.length+d.length);h.set(go,0),h.set(d,go.length);const g=pm(h,xm.BASE58_BTC);return{privateKey:o,publicKeyMultibase:g}}function xv(r,l){return`user-${r.replace(/[@.]/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase()}-${l.slice(0,8)}`}async function Sv(r){const{privateKey:l,publicKeyMultibase:u}=await pv(r.subOrgId),o=new vv(l,u),d=r.domain||void 0||window.location.host,h=await Ay({domain:d,signer:o,verifier:o,updateKeys:[o.getVerificationMethodId()],verificationMethods:[{id:"#key-0",type:"Multikey",controller:"",publicKeyMultibase:u},{id:"#key-1",type:"Multikey",controller:"",publicKeyMultibase:u}],paths:[xv(r.email,r.subOrgId)],portable:!1,authentication:["#key-0"],assertionMethod:["#key-1"]});return{did:h.did,didDocument:h.doc,didLog:h.log}}function yo(){return(void 0).includes("127.0.0.1")||(void 0).includes("localhost")?(void 0).replace(":3210",":3211"):(void 0).replace(".convex.cloud",".convex.site")}const bo="lisa-jwt-token",qm=j.createContext(null),Ts="lisa-auth-state";function wv({children:r}){const[l,u]=j.useState(null),[o,d]=j.useState(!0),[h,g]=j.useState(null),[p,v]=j.useState({sessionId:null,email:null,legacyDid:null}),A=j.useRef(!0);j.useEffect(()=>(A.current=!0,(async()=>{try{const D=localStorage.getItem(Ts);if(!D){console.log("[useAuth] No stored session found"),A.current&&d(!1);return}const L=JSON.parse(D);console.log("[useAuth] Found stored session, restoring..."),u(L.user),g(L.token),localStorage.setItem(bo,L.token)}catch(D){console.error("[useAuth] Error restoring session:",D),localStorage.removeItem(Ts)}finally{A.current&&d(!1)}})(),()=>{A.current=!1}),[]);const _=j.useCallback(async(z,D)=>{d(!0);try{console.log("[useAuth] Sending OTP to:",z),D&&console.log("[useAuth] Migration mode, legacy DID:",D);const L=yo(),U=await fetch(`${L}/auth/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z})});if(!U.ok){const I=await U.json();throw new Error(I.error||"Failed to initiate authentication")}const{sessionId:J}=await U.json();console.log("[useAuth] OTP initiated, sessionId:",J),v({sessionId:J,email:z,legacyDid:D??null})}catch(L){throw console.error("[useAuth] Failed to start OTP:",L),L}finally{d(!1)}},[]),O=j.useCallback(async z=>{if(!p.sessionId||!p.email)throw new Error("OTP flow not started. Call startOtp first.");d(!0);try{console.log("[useAuth] Verifying OTP via server...");const D=yo(),L=await fetch(`${D}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sessionId:p.sessionId,code:z})});if(!L.ok){const G=await L.json();throw new Error(G.error||"Verification failed")}const{token:U,user:J}=await L.json();console.log("[useAuth] OTP verified, got JWT for:",J.email),localStorage.setItem(bo,U),g(U);let I=J.did||`did:temp:${J.turnkeySubOrgId}`;if(!I.startsWith("did:webvh:"))try{I=(await Sv({email:J.email,subOrgId:J.turnkeySubOrgId})).did,await fetch(`${D}/api/user/updateDID`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},credentials:"include",body:JSON.stringify({did:I})}),console.log("[useAuth] Upgraded user DID to did:webvh:",I)}catch(G){console.error("[useAuth] Failed to create/update did:webvh:",G)}const ne={turnkeySubOrgId:J.turnkeySubOrgId,email:J.email,did:I,displayName:J.displayName},fe={user:ne,token:U};localStorage.setItem(Ts,JSON.stringify(fe)),u(ne),v({sessionId:null,email:null,legacyDid:null}),console.log("[useAuth] Authentication complete, DID:",I)}catch(D){throw console.error("[useAuth] Failed to verify OTP:",D),D}finally{d(!1)}},[p]),R=j.useCallback(async()=>{console.log("[useAuth] Logging out");try{const z=yo();await fetch(`${z}/auth/logout`,{method:"POST",credentials:"include"})}catch(z){console.error("[useAuth] Logout endpoint failed:",z)}u(null),g(null),v({sessionId:null,email:null,legacyDid:null}),localStorage.removeItem(Ts),localStorage.removeItem(bo)},[]),q={isAuthenticated:l!==null,isLoading:o,user:l,token:h,startOtp:_,verifyOtp:O,logout:R};return c.jsx(qm.Provider,{value:q,children:r})}function ra(){const r=j.useContext(qm);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}const Lm=j.createContext(null),jv=5e3;function Nv({children:r}){const[l,u]=j.useState([]),o=j.useRef(new Map),d=j.useCallback(g=>{const p=o.current.get(g);p&&(clearTimeout(p),o.current.delete(g)),u(v=>v.filter(A=>A.id!==g))},[]),h=j.useCallback((g,p="info")=>{const v=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;u(_=>[..._,{id:v,message:g,type:p}]);const A=setTimeout(()=>{o.current.delete(v),d(v)},jv);o.current.set(v,A)},[d]);return c.jsx(Lm.Provider,{value:{toasts:l,addToast:h,removeToast:d},children:r})}function Tv(){const r=j.useContext(Lm);if(!r)throw new Error("useToast must be used within a ToastProvider");return r}const Vt={DARK_MODE:"pooapp:darkMode",LIST_SORT:"pooapp:listSort",HAPTICS_ENABLED:"pooapp:hapticsEnabled",NOTIFICATIONS_ENABLED:"pooapp:notificationsEnabled",REMINDER_MINUTES:"pooapp:reminderMinutes"};function Um(){if(typeof window>"u")return!1;const r=localStorage.getItem(Vt.DARK_MODE);return r!==null?r==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}function Cv(r){localStorage.setItem(Vt.DARK_MODE,String(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function Av(){Um()&&document.documentElement.classList.add("dark")}function Ev(){return typeof window>"u"?"newest":localStorage.getItem(Vt.LIST_SORT)||"newest"}function kv(r){localStorage.setItem(Vt.LIST_SORT,r)}function Mv(){return typeof window>"u"?!0:localStorage.getItem(Vt.HAPTICS_ENABLED)!=="false"}function Ov(r){localStorage.setItem(Vt.HAPTICS_ENABLED,String(r))}function Dv(){return typeof window>"u"?!1:localStorage.getItem(Vt.NOTIFICATIONS_ENABLED)==="true"}function vo(r){localStorage.setItem(Vt.NOTIFICATIONS_ENABLED,String(r))}function zv(){if(typeof window>"u")return 60;const r=localStorage.getItem(Vt.REMINDER_MINUTES);return r?parseInt(r,10):60}function Rv(r){localStorage.setItem(Vt.REMINDER_MINUTES,String(r))}const _v={light:10,medium:25,heavy:50,success:[10,50,10],error:[50,30,50,30,50],warning:[30,50,30]};function qv(r="light"){if(!(typeof navigator>"u"||!navigator.vibrate))try{navigator.vibrate(_v[r])}catch{}}function Lv(){return typeof navigator<"u"&&typeof navigator.vibrate=="function"}const Bm=j.createContext(null);function Uv({children:r}){const[l,u]=j.useState(()=>Um()),[o,d]=j.useState(()=>Ev()),[h,g]=j.useState(()=>Mv());j.useEffect(()=>{const R=window.matchMedia("(prefers-color-scheme: dark)"),q=z=>{localStorage.getItem("pooapp:darkMode")===null&&(u(z.matches),z.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return R.addEventListener("change",q),()=>R.removeEventListener("change",q)},[]);const p=j.useCallback(R=>{u(R),Cv(R)},[]),v=j.useCallback(()=>{p(!l)},[l,p]),A=j.useCallback(R=>{d(R),kv(R)},[]),_=j.useCallback(R=>{g(R),Ov(R)},[]),O=j.useCallback((R="light")=>{h&&qv(R)},[h]);return c.jsx(Bm.Provider,{value:{darkMode:l,setDarkMode:p,toggleDarkMode:v,listSort:o,setListSort:A,hapticsEnabled:h,setHapticsEnabled:_,haptic:O},children:r})}function qn(){const r=j.useContext(Bm);if(!r)throw new Error("useSettings must be used within a SettingsProvider");return r}function Bv(){window.addEventListener("error",r=>{if(r.target instanceof HTMLScriptElement){const l=r.target.src;l&&l.includes("/assets/")&&/[-\.][a-f0-9]{8,}\.js/.test(l)&&(console.error("[SW] Stale asset detected, forcing refresh:",l),om())}},!0),window.addEventListener("unhandledrejection",r=>{const l=r.reason;l instanceof Error&&(l.message.includes("MIME type")||l.message.includes("Failed to fetch dynamically imported module")||l.message.includes("failed to load"))&&(console.error("[SW] Module load error, forcing refresh:",l.message),om())})}async function om(){if(!sessionStorage.getItem("poo-app-refreshing")){sessionStorage.setItem("poo-app-refreshing","true");try{if("caches"in window){const r=await caches.keys();await Promise.all(r.map(l=>caches.delete(l))),console.log("[SW] All caches cleared")}if("serviceWorker"in navigator){const r=await navigator.serviceWorker.getRegistrations();await Promise.all(r.map(l=>l.unregister())),console.log("[SW] Service worker unregistered")}window.location.reload()}catch(r){console.error("[SW] Force refresh failed:",r),window.location.reload()}}}async function Qv(r={}){if(Bv(),!("serviceWorker"in navigator)){console.log("Service workers not supported");return}sessionStorage.removeItem("poo-app-refreshing");try{const l=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});l.update().catch(()=>{}),setInterval(()=>{l.update().catch(()=>{})},300*1e3),l.addEventListener("updatefound",()=>{const o=l.installing;o&&o.addEventListener("statechange",()=>{o.state==="installed"&&(navigator.serviceWorker.controller?(console.log("[SW] New service worker available, activating..."),o.postMessage("skipWaiting"),r.onUpdate?.(l)):(console.log("[SW] Service worker installed"),r.onSuccess?.(l)))})});let u=!1;return navigator.serviceWorker.addEventListener("controllerchange",()=>{u||(u=!0,console.log("[SW] New controller, reloading for fresh assets"),window.location.reload())}),l.active&&console.log("[SW] Service worker active"),l}catch(l){console.error("[SW] Service worker registration failed:",l),r.onError?.(l);return}}function Vv({children:r}){const{isAuthenticated:l,isLoading:u}=ra(),o=wy();return u?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-blue-600"}),c.jsx("p",{className:"mt-2 text-gray-500",children:"Loading..."})]})}):l?c.jsx(c.Fragment,{children:r}):c.jsx(ks,{to:"/login",state:{from:o},replace:!0})}class Hv extends j.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-md w-full text-center",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"An unexpected error occurred. Please try again."}),this.state.error&&c.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded mb-4 font-mono",children:this.state.error.message}),c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"}),c.jsx(cn,{to:"/",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",onClick:()=>this.setState({hasError:!1,error:null}),children:"Go Home"})]})]})}):this.props.children}}function Qm(r,l){const u={get(o,d){if(typeof d=="string"){const h=[...l,d];return Qm(r,h)}else if(d===Mm){if(l.length<1){const h=[r,...l].join(".");throw new Error(`API path is expected to be of the form \`${r}.childComponent.functionName\`. Found: \`${h}\``)}return"_reference/childComponent/"+l.join("/")}else return}};return new Proxy({},u)}const Yv=()=>Qm("components",[]),ze=vb;Yv();function nl(){const{isAuthenticated:r,user:l,isLoading:u}=ra(),o=tl(ze.auth.getUserByTurnkeyId,r&&l?.turnkeySubOrgId?{turnkeySubOrgId:l.turnkeySubOrgId}:"skip"),d=u||r&&o===void 0;if(console.log("[useCurrentUser] Debug:",{isAuthenticated:r,authUser:l?{did:l.did,turnkeySubOrgId:l.turnkeySubOrgId}:null,turnkeyUser:o&&{did:o.did,legacyDid:o.legacyDid},isLoading:d}),r&&l){const h=o?.did??l.did;return console.log("[useCurrentUser] Returning:",{canonicalDid:h}),{did:h,legacyDid:o?.legacyDid??null,subOrgId:l.turnkeySubOrgId,displayName:l.displayName,email:l.email,isAuthenticated:!0,isLoading:d}}return{did:null,legacyDid:null,subOrgId:null,displayName:null,email:null,isAuthenticated:!1,isLoading:d}}function Gv(){const{logout:r}=ra(),{did:l}=nl(),{haptic:u}=qn();if(!l)return null;const o=l.length>16?`${l.slice(0,8)}...${l.slice(-4)}`:l;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(cn,{to:"/profile",onClick:()=>u("light"),className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",title:l,children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:o})]}),c.jsx("button",{onClick:()=>{u("medium"),r()},className:"p-2.5 text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Sign out","aria-label":"Sign out",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}const ko=(r,l)=>l.some(u=>r instanceof u);let cm,fm;function Xv(){return cm||(cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zv(){return fm||(fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mo=new WeakMap,po=new WeakMap,_s=new WeakMap;function Kv(r){const l=new Promise((u,o)=>{const d=()=>{r.removeEventListener("success",h),r.removeEventListener("error",g)},h=()=>{u(ia(r.result)),d()},g=()=>{o(r.error),d()};r.addEventListener("success",h),r.addEventListener("error",g)});return _s.set(l,r),l}function Jv(r){if(Mo.has(r))return;const l=new Promise((u,o)=>{const d=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",g),r.removeEventListener("abort",g)},h=()=>{u(),d()},g=()=>{o(r.error||new DOMException("AbortError","AbortError")),d()};r.addEventListener("complete",h),r.addEventListener("error",g),r.addEventListener("abort",g)});Mo.set(r,l)}let Oo={get(r,l,u){if(r instanceof IDBTransaction){if(l==="done")return Mo.get(r);if(l==="store")return u.objectStoreNames[1]?void 0:u.objectStore(u.objectStoreNames[0])}return ia(r[l])},set(r,l,u){return r[l]=u,!0},has(r,l){return r instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in r}};function Vm(r){Oo=r(Oo)}function $v(r){return Zv().includes(r)?function(...l){return r.apply(Do(this),l),ia(this.request)}:function(...l){return ia(r.apply(Do(this),l))}}function Iv(r){return typeof r=="function"?$v(r):(r instanceof IDBTransaction&&Jv(r),ko(r,Xv())?new Proxy(r,Oo):r)}function ia(r){if(r instanceof IDBRequest)return Kv(r);if(po.has(r))return po.get(r);const l=Iv(r);return l!==r&&(po.set(r,l),_s.set(l,r)),l}const Do=r=>_s.get(r);function Fv(r,l,{blocked:u,upgrade:o,blocking:d,terminated:h}={}){const g=indexedDB.open(r,l),p=ia(g);return o&&g.addEventListener("upgradeneeded",v=>{o(ia(g.result),v.oldVersion,v.newVersion,ia(g.transaction),v)}),u&&g.addEventListener("blocked",v=>u(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),d&&v.addEventListener("versionchange",A=>d(A.oldVersion,A.newVersion,A))}).catch(()=>{}),p}const Wv=["get","getKey","getAll","getAllKeys","count"],Pv=["put","add","delete","clear"],xo=new Map;function dm(r,l){if(!(r instanceof IDBDatabase&&!(l in r)&&typeof l=="string"))return;if(xo.get(l))return xo.get(l);const u=l.replace(/FromIndex$/,""),o=l!==u,d=Pv.includes(u);if(!(u in(o?IDBIndex:IDBObjectStore).prototype)||!(d||Wv.includes(u)))return;const h=async function(g,...p){const v=this.transaction(g,d?"readwrite":"readonly");let A=v.store;return o&&(A=A.index(p.shift())),(await Promise.all([A[u](...p),d&&v.done]))[0]};return xo.set(l,h),h}Vm(r=>({...r,get:(l,u,o)=>dm(l,u)||r.get(l,u,o),has:(l,u)=>!!dm(l,u)||r.has(l,u)}));const ep=["continue","continuePrimaryKey","advance"],hm={},zo=new WeakMap,Hm=new WeakMap,tp={get(r,l){if(!ep.includes(l))return r[l];let u=hm[l];return u||(u=hm[l]=function(...o){zo.set(this,Hm.get(this)[l](...o))}),u}};async function*np(...r){let l=this;if(l instanceof IDBCursor||(l=await l.openCursor(...r)),!l)return;l=l;const u=new Proxy(l,tp);for(Hm.set(u,l),_s.set(u,Do(l));l;)yield u,l=await(zo.get(u)||l.continue()),zo.delete(u)}function mm(r,l){return l===Symbol.asyncIterator&&ko(r,[IDBIndex,IDBObjectStore,IDBCursor])||l==="iterate"&&ko(r,[IDBIndex,IDBObjectStore])}Vm(r=>({...r,get(l,u,o){return mm(l,u)?np:r.get(l,u,o)},has(l,u){return mm(l,u)||r.has(l,u)}}));const ap="lisa-offline",lp=1;let So=null;async function Ln(){return So||(So=Fv(ap,lp,{upgrade(r){r.objectStoreNames.contains("lists")||r.createObjectStore("lists",{keyPath:"_id"}),r.objectStoreNames.contains("items")||r.createObjectStore("items",{keyPath:"_id"}).createIndex("byList","listId"),r.objectStoreNames.contains("mutations")||r.createObjectStore("mutations",{keyPath:"id",autoIncrement:!0})}})),So}async function fx(r){return await(await Ln()).add("mutations",r)}async function Ro(){return(await Ln()).getAll("mutations")}async function Cs(r){await(await Ln()).delete("mutations",r)}async function ip(r,l){const u=await Ln(),o=await u.get("mutations",r);o&&(o.retryCount=l,await u.put("mutations",o))}async function sp(){return(await Ln()).getAll("lists")}async function rp(r){const u=(await Ln()).transaction("lists","readwrite"),o=u.objectStore("lists"),d=Date.now();await Promise.all([...r.map(h=>o.put({...h,_cachedAt:d})),u.done])}async function dx(r){return(await Ln()).getAllFromIndex("items","byList",r)}async function hx(r){const u=(await Ln()).transaction("items","readwrite"),o=u.objectStore("items"),d=Date.now();await Promise.all([...r.map(h=>o.put({...h,_cachedAt:d})),u.done])}let zs=null;function up(r){zs=r}function op(){zs=null}function gm(r,l="info"){return zs?(zs(r,l),!0):!1}const cp=5,fp=[1e3,2e3,4e3,8e3,16e3];class dp{isSyncing=!1;listeners=new Set;async sync(l){if(!this.isSyncing){this.isSyncing=!0,this.notify({status:"syncing"});try{const u=await Ro();for(const o of u)try{const d=await this.checkForConflict(l,o);if(d.hasConflict){await Cs(o.id),gm(d.reason||"Conflict detected","warning");continue}await this.executeMutation(l,o),await Cs(o.id)}catch(d){const h=d instanceof Error?d.message:"Unknown error";if(h.includes("not found")){await Cs(o.id),gm("Item was deleted by another user","warning");continue}if(o.retryCount>=cp)await Cs(o.id),this.notify({status:"error",message:`Failed to sync ${o.type}: ${h}`});else{await ip(o.id,o.retryCount+1);const g=fp[o.retryCount]??16e3;await this.delay(g)}}this.notify({status:"synced"})}catch(u){const o=u instanceof Error?u.message:"Unknown error";this.notify({status:"error",message:`Sync failed: ${o}`})}finally{this.isSyncing=!1}}}async checkForConflict(l,u){if(u.type!=="checkItem"&&u.type!=="uncheckItem")return{hasConflict:!1};const d=u.payload.itemId;try{const h=await l.query(ze.items.getItemForSync,{itemId:d});return h?h.updatedAt&&h.updatedAt>u.timestamp?{hasConflict:!0,reason:"Item was updated by another user"}:{hasConflict:!1}:{hasConflict:!0,reason:"Item was deleted by another user"}}catch{return{hasConflict:!1}}}async executeMutation(l,u){switch(u.type){case"addItem":{const o=u.payload;await l.mutation(ze.items.addItem,o);break}case"checkItem":{const o=u.payload;await l.mutation(ze.items.checkItem,o);break}case"uncheckItem":{const o=u.payload;await l.mutation(ze.items.uncheckItem,o);break}case"reorderItem":{const o=u.payload;await l.mutation(ze.items.reorderItems,o);break}default:{const o=u.type;throw new Error(`Unknown mutation type: ${o}`)}}}delay(l){return new Promise(u=>setTimeout(u,l))}subscribe(l){return this.listeners.add(l),()=>{this.listeners.delete(l)}}notify(l){this.listeners.forEach(u=>u(l))}get syncing(){return this.isSyncing}}const wo=new dp;function Ym(){const[r,l]=j.useState(typeof navigator<"u"?navigator.onLine:!0),[u,o]=j.useState({status:"idle"}),[d,h]=j.useState(0),g=_m(),p=j.useRef(!0);j.useEffect(()=>()=>{p.current=!1},[]),j.useEffect(()=>{const A=()=>{l(!0),wo.sync(g)},_=()=>{l(!1)};return window.addEventListener("online",A),window.addEventListener("offline",_),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",_)}},[g]),j.useEffect(()=>wo.subscribe(o),[]),j.useEffect(()=>{const A=async()=>{const O=await Ro();p.current&&h(O.length)};A();const _=setInterval(A,5e3);return()=>{clearInterval(_)}},[]),j.useEffect(()=>{const A=async()=>{const _=await Ro();p.current&&h(_.length)};(u.status==="synced"||u.status==="error")&&A()},[u]);const v=j.useCallback(()=>{wo.sync(g)},[g]);return{isOnline:r,syncStatus:u,pendingCount:d,manualSync:v}}function hp(){const{isOnline:r}=Ym();return r?null:c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 animate-slide-up",children:c.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-2.5 text-center text-sm font-medium shadow-lg",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-white"})]}),c.jsx("span",{children:"You're offline  changes will sync when reconnected"})]})})})}function mp({toast:r,onDismiss:l}){const u={info:"bg-blue-100 text-blue-800 border-blue-200",warning:"bg-amber-100 text-amber-800 border-amber-200",error:"bg-red-100 text-red-800 border-red-200"}[r.type];return c.jsxs("div",{role:"alert","aria-live":"polite",className:`rounded-lg border px-4 py-3 shadow-lg ${u} flex items-start gap-3 max-w-sm`,children:[c.jsx("span",{className:"flex-1 text-sm",children:r.message}),c.jsx("button",{onClick:()=>l(r.id),className:"text-current opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function gp(){const{toasts:r,removeToast:l,addToast:u}=Tv();return j.useEffect(()=>(up(u),()=>{op()}),[u]),r.length===0?null:c.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:r.map(o=>c.jsx(mp,{toast:o,onDismiss:l},o.id))})}const ym="";function qs(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}function Gm(){return"Notification"in window?Notification.permission:"denied"}async function Xm(){return"Notification"in window?await Notification.requestPermission():"denied"}function yp(r){const l="=".repeat((4-r.length%4)%4),u=(r+l).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(u),d=new Uint8Array(o.length);for(let h=0;h<o.length;++h)d[h]=o.charCodeAt(h);return d.buffer}async function bp(){if(!qs())return console.warn("Push notifications not supported"),null;if(await Xm()!=="granted")return console.warn("Notification permission denied"),null;try{const l=await navigator.serviceWorker.ready;let u=await l.pushManager.getSubscription();return!u&&ym&&(u=await l.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yp(ym)})),u}catch(l){return console.error("Failed to subscribe to push:",l),null}}async function vp(){try{const l=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return l?(await l.unsubscribe(),!0):!1}catch(r){return console.error("Failed to unsubscribe from push:",r),!1}}async function bm(){if(!qs())return null;try{return await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch{return null}}async function Zm(r,l){if(Gm()==="granted")try{await(await navigator.serviceWorker.ready).showNotification(r,{icon:"/pwa-192x192.png",badge:"/pwa-192x192.png",...l})}catch(u){console.error("Failed to show notification:",u)}}function pp(r,l,u,o){const d=Date.now(),h=l-d;return h<=0?null:window.setTimeout(()=>{Zm(` "${r}" is due now!`,{body:"Tap to view the item",tag:`due-${o}`,data:{url:`/list/${u}`,itemId:o,listId:u},requireInteraction:!0})},h)}function xp(r,l,u,o,d=60){const h=Date.now(),p=l-d*60*1e3-h;return p<=0?null:window.setTimeout(()=>{const A=d>=60?`${Math.round(d/60)} hour${d>=120?"s":""}`:`${d} minutes`;Zm(` Reminder: "${r}"`,{body:`Due in ${A}`,tag:`reminder-${o}`,data:{url:`/list/${u}`,itemId:o,listId:u}})},p)}function Sp({userDid:r}){const[l]=j.useState(()=>qs()),[u,o]=j.useState(()=>Gm()),[d,h]=j.useState(()=>Dv()),[g,p]=j.useState(()=>zv()),[v,A]=j.useState(!1),[_,O]=j.useState(!1),R=j.useRef(new Map),q=Bt(ze.notifications.saveSubscription),z=Bt(ze.notifications.removeSubscription),D=tl(ze.notifications.hasSubscription,r?{userDid:r}:"skip");j.useEffect(()=>{async function X(){const Y=await bm();A(!!Y)}l&&X()},[l]);const L=j.useCallback(async()=>{if(!l||!r)return!1;O(!0);try{const X=await Xm();if(o(X),X!=="granted")return O(!1),!1;const Y=await bp();if(Y){const Se=Y.toJSON();return await q({userDid:r,endpoint:Se.endpoint,keys:{p256dh:Se.keys.p256dh,auth:Se.keys.auth}}),A(!0),h(!0),vo(!0),O(!1),!0}return h(!0),vo(!0),O(!1),!0}catch(X){return console.error("Failed to enable notifications:",X),O(!1),!1}},[l,r,q]),U=j.useCallback(async()=>{O(!0);try{const X=await bm();return X&&r&&(await vp(),await z({endpoint:X.endpoint,userDid:r})),R.current.forEach(Y=>{Y.dueTimeoutId&&clearTimeout(Y.dueTimeoutId),Y.reminderTimeoutId&&clearTimeout(Y.reminderTimeoutId)}),R.current.clear(),A(!1),h(!1),vo(!1),O(!1),!0}catch(X){return console.error("Failed to disable notifications:",X),O(!1),!1}},[r,z]),J=j.useCallback(async()=>d?U():L(),[d,L,U]),I=j.useCallback(X=>{p(X),Rv(X)},[]),ne=j.useCallback(X=>{if(!d||u!=="granted"||!X.dueDate||X.checked)return;const Y=X._id,Se=R.current.get(Y);Se&&(Se.dueTimeoutId&&clearTimeout(Se.dueTimeoutId),Se.reminderTimeoutId&&clearTimeout(Se.reminderTimeoutId));const ke=pp(X.name,X.dueDate,X.listId,Y),Ye=xp(X.name,X.dueDate,X.listId,Y,g);R.current.set(Y,{itemId:Y,dueTimeoutId:ke,reminderTimeoutId:Ye})},[d,u,g]),fe=j.useCallback(X=>{const Y=R.current.get(X);Y&&(Y.dueTimeoutId&&clearTimeout(Y.dueTimeoutId),Y.reminderTimeoutId&&clearTimeout(Y.reminderTimeoutId),R.current.delete(X))},[]),G=j.useCallback(X=>{!d||u!=="granted"||X.forEach(Y=>{Y.dueDate&&!Y.checked&&ne(Y)})},[d,u,ne]);return{isSupported:l,permission:u,isEnabled:d,isSubscribed:v,isLoading:_,reminderMinutes:g,hasServerSubscription:D,enableNotifications:L,disableNotifications:U,toggleNotifications:J,setReminderMinutes:I,scheduleItemNotification:ne,cancelItemNotification:fe,scheduleItemsNotifications:G}}function Bo({isOpen:r,onClose:l,children:u,title:o,fullHeight:d=!1,showHandle:h=!0,header:g,footer:p,ariaLabelledBy:v}){const[A,_]=j.useState(!1),[O,R]=j.useState(!1),q=j.useRef(null),z=j.useRef(null),D=j.useRef(null);j.useEffect(()=>(r&&(_(!0),R(!1),document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[r]);const L=j.useCallback(()=>{R(!0),setTimeout(()=>{_(!1),R(!1),l()},200)},[l]);j.useEffect(()=>{const ne=fe=>{fe.key==="Escape"&&L()};if(r)return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[r,L]);const U=j.useCallback(ne=>{const fe=ne.touches[0];D.current={startY:fe.clientY,startTime:Date.now(),currentY:fe.clientY,isDragging:!1}},[]),J=j.useCallback(ne=>{if(!D.current||!q.current)return;const fe=ne.touches[0],G=fe.clientY-D.current.startY;if(G>10){D.current.isDragging=!0,D.current.currentY=fe.clientY;const X=z.current;if(X&&X.scrollTop>0){D.current.isDragging=!1;return}const Y=Math.min(G,300);q.current.style.transform=`translateY(${Y}px)`,q.current.style.transition="none"}},[]),I=j.useCallback(()=>{if(!D.current||!q.current)return;const{startY:ne,startTime:fe,currentY:G,isDragging:X}=D.current;if(X){const Y=G-ne,Se=Date.now()-fe,ke=Y/Se;Y>100||ke>.5?L():(q.current.style.transform="",q.current.style.transition="transform 0.2s ease-out")}D.current=null},[L]);return!r&&!A?null:jy.createPortal(c.jsx("div",{className:`fixed inset-0 z-[100] flex flex-col justify-end transition-colors duration-200 ${O?"bg-black/0":"bg-black/50"}`,onClick:L,role:"dialog","aria-modal":"true","aria-labelledby":v,children:c.jsxs("div",{ref:q,className:`
          bg-white dark:bg-gray-800 
          rounded-t-2xl shadow-2xl 
          w-full 
          ${d?"h-[90vh]":"max-h-[90vh]"}
          flex flex-col
          safe-area-inset-bottom
          ${O?"animate-panel-close":"animate-panel-open"}
        `,onClick:ne=>ne.stopPropagation(),onTouchStart:U,onTouchMove:J,onTouchEnd:I,children:[h&&c.jsx("div",{className:"flex justify-center pt-3 pb-1 cursor-grab active:cursor-grabbing",children:c.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),(g||o)&&c.jsx("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200 dark:border-gray-700",children:g||c.jsxs(c.Fragment,{children:[c.jsx("h2",{id:v,className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:o}),c.jsx("button",{onClick:L,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg transition-colors","aria-label":"Close panel",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{ref:z,className:"flex-1 overflow-y-auto overscroll-contain",children:u}),p&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:p})]})}),document.body)}function wp({onClose:r}){const{darkMode:l,toggleDarkMode:u,hapticsEnabled:o,setHapticsEnabled:d,haptic:h}=qn(),{user:g}=ra(),{permission:p,isEnabled:v,isLoading:A,reminderMinutes:_,toggleNotifications:O,setReminderMinutes:R}=Sp({userDid:g?.did??null}),q=(L,U)=>{h("light"),U(!L)},z=c.jsxs(c.Fragment,{children:[c.jsx("h2",{id:"settings-title",className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" Settings"}),c.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close settings",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D=c.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50",children:c.jsx("button",{onClick:r,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-semibold transition-colors",children:"Done"})});return c.jsx(Bo,{isOpen:!0,onClose:r,header:z,footer:D,ariaLabelledBy:"settings-title",children:c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Appearance"}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:l?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Dark Mode"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l?"Currently in dark mode":"Currently in light mode"})]})]}),c.jsx("button",{onClick:()=>q(l,u),className:`relative w-14 h-8 rounded-full transition-colors ${l?"bg-amber-500":"bg-gray-300 dark:bg-gray-600"}`,role:"switch","aria-checked":l,children:c.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform ${l?"translate-x-7":"translate-x-1"}`})})]})]}),Lv()&&c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Accessibility"}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Haptic Feedback"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vibrate on interactions"})]})]}),c.jsx("button",{onClick:()=>q(o,d),className:`relative w-14 h-8 rounded-full transition-colors ${o?"bg-amber-500":"bg-gray-300 dark:bg-gray-600"}`,role:"switch","aria-checked":o,children:c.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform ${o?"translate-x-7":"translate-x-1"}`})})]})]}),qs()&&c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Notifications"}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p==="denied"?"Blocked in browser settings":v?"Get notified when items are due":"Enable notifications for due dates"})]})]}),c.jsx("button",{onClick:async()=>{h("light"),await O()},disabled:A||p==="denied",className:`relative w-14 h-8 rounded-full transition-colors ${v?"bg-amber-500":"bg-gray-300 dark:bg-gray-600"} ${A||p==="denied"?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":v,children:c.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform ${v?"translate-x-7":"translate-x-1"}`})})]}),v&&c.jsxs("div",{className:"py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Reminder Time"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"How early to remind you before due date"})]})]}),c.jsx("div",{className:"flex gap-2 ml-11",children:[{value:15,label:"15m"},{value:30,label:"30m"},{value:60,label:"1h"},{value:120,label:"2h"},{value:1440,label:"1d"}].map(({value:L,label:U})=>c.jsx("button",{onClick:()=>{h("light"),R(L)},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${_===L?"bg-amber-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:U},L))})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Account"}),c.jsxs(cn,{to:"/profile",onClick:()=>{h("light"),r()},className:"flex items-center justify-between py-3 px-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-xl transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Your Profile"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View stats and account details"})]})]}),c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"About"}),c.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-gray-700 dark:to-gray-700 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-3xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:"Poo App"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Version 1.0.0"})]})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Organize your life while you poop. Powered by Originals Protocol."})]})]})]})})}function Qo(){const{did:r}=nl(),l=tl(ze.categories.getUserCategories,r?{userDid:r}:"skip"),u=Bt(ze.categories.createCategory),o=Bt(ze.categories.renameCategory),d=Bt(ze.categories.deleteCategory),h=Bt(ze.categories.setListCategory);return{categories:l??[],isLoading:l===void 0,createCategory:async _=>{if(!r)throw new Error("Not authenticated");return u({userDid:r,name:_,createdAt:Date.now()})},renameCategory:async(_,O)=>{if(!r)throw new Error("Not authenticated");return o({categoryId:_,userDid:r,name:O})},deleteCategory:async _=>{if(!r)throw new Error("Not authenticated");return d({categoryId:_,userDid:r})},setListCategory:async(_,O,R)=>{if(!r)throw new Error("Not authenticated");return h({listId:_,categoryId:O,userDid:r,legacyDid:R})}}}function jp({className:r}){return c.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}function Np({className:r}){return c.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8V4m0 4a4 4 0 110 8 4 4 0 010-8zm0 8v4m-6-4h1m10 0h1M7 12a5 5 0 0110 0"})})}function Tp({children:r,content:l}){const[u,o]=j.useState(!1);return c.jsxs("div",{className:"relative inline-flex",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTouchStart:()=>o(!0),onTouchEnd:()=>setTimeout(()=>o(!1),2e3),children:[r,u&&c.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 z-50 animate-fade-in",children:c.jsxs("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg px-3 py-2 shadow-lg whitespace-nowrap max-w-xs",children:[l,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})})]})}function vm({icon:r,label:l,state:u,compact:o,size:d,tooltip:h}){const g=d==="sm"?"text-[10px] px-1.5 py-0.5":"text-xs px-2 py-1",p=d==="sm"?"w-3 h-3":"w-3.5 h-3.5",v={verified:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",pending:"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",none:"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-700"};return u==="none"&&o?null:c.jsx(Tp,{content:h,children:c.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border font-medium ${g} ${v[u]}`,children:[c.jsx("span",{className:p,children:r}),!o&&c.jsx("span",{children:l})]})})}function Km({status:r,compact:l=!1,size:u="sm"}){const o=r.hasVC?"verified":"none",d=r.hasVC?c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold mb-1",children:" Verifiable Credential"}),c.jsx("div",{className:"text-gray-300",children:"This data has cryptographic proof of ownership via a Decentralized Identifier (DID)."}),r.did&&c.jsx("div",{className:"mt-1 text-gray-400 text-[10px] font-mono truncate max-w-[200px]",children:r.did})]}):c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold mb-1",children:"No Credential"}),c.jsx("div",{className:"text-gray-300",children:"This data does not have a verifiable credential attached."})]}),h={verified:c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold mb-1",children:" Anchored to Bitcoin"}),c.jsx("div",{className:"text-gray-300",children:"This data is timestamped and anchored to the Bitcoin blockchain, providing immutable proof of existence."}),r.anchorBlockHeight&&c.jsxs("div",{className:"mt-1 text-gray-400 text-[10px]",children:["Block: ",r.anchorBlockHeight.toLocaleString()]}),r.anchorTxId&&c.jsxs("div",{className:"text-gray-400 text-[10px] font-mono truncate max-w-[200px]",children:["Tx: ",r.anchorTxId]})]}),pending:c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold mb-1",children:" Anchor Pending"}),c.jsx("div",{className:"text-gray-300",children:"This data has been submitted for anchoring to Bitcoin and is awaiting confirmation."})]}),none:c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold mb-1",children:"Not Anchored"}),c.jsx("div",{className:"text-gray-300",children:"This data has not been anchored to Bitcoin."})]})};return l&&!r.hasVC&&r.anchorStatus==="none"?null:c.jsxs("div",{className:"inline-flex items-center gap-1",children:[c.jsx(vm,{icon:c.jsx(jp,{className:"w-full h-full"}),label:"VC",state:o,compact:l,size:u,tooltip:d}),c.jsx(vm,{icon:c.jsx(Np,{className:"w-full h-full"}),label:r.anchorStatus==="pending"?"Pending":"Anchored",state:r.anchorStatus,compact:l,size:u,tooltip:h[r.anchorStatus]})]})}function Cp({hasVC:r,anchorStatus:l="none",did:u}){return!r&&l==="none"?null:c.jsx(Km,{status:{hasVC:r,anchorStatus:l,did:u},compact:!0,size:"sm"})}function mx({hasVC:r,anchorStatus:l="none",did:u,anchorBlockHeight:o,anchorTxId:d}){return c.jsx(Km,{status:{hasVC:r,anchorStatus:l,did:u,anchorBlockHeight:o,anchorTxId:d},compact:!1,size:"md"})}function Ap(r){return r.length<=24?r:`${r.slice(0,12)}...${r.slice(-8)}`}function Ep(r){const l=["","","","","","","","","",""],u=r.split("").reduce((o,d)=>o+d.charCodeAt(0),0)%l.length;return l[u]}function kp(r){const l=Math.floor((Date.now()-r)/1e3);return l<60?"Just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:l<604800?`${Math.floor(l/86400)}d ago`:new Date(r).toLocaleDateString()}function As({list:r,currentUserDid:l,showOwner:u}){const{haptic:o}=qn(),d=r.ownerDid===l,h=Ep(r.name);return c.jsx(cn,{to:`/list/${r._id}`,onClick:()=>o("light"),className:"group block bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl dark:shadow-gray-900/50 transition-all duration-200 p-5 card-hover border border-gray-100 dark:border-gray-700 hover:border-amber-200 dark:hover:border-amber-600",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:h}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2 sm:truncate group-hover:text-amber-700 dark:group-hover:text-amber-400 transition-colors",children:r.name}),c.jsx(Cp,{hasVC:!!r.assetDid,did:r.assetDid})]}),!d&&c.jsxs("span",{className:"flex-shrink-0 inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Shared"]})]}),c.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[d?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"You"]}):u?c.jsxs("span",{className:"flex items-center gap-1 truncate",title:r.ownerDid,children:[c.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Ap(r.ownerDid)]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),"Shared"]}),c.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:""}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),kp(r.createdAt)]})]})]}),c.jsx("div",{className:"flex-shrink-0 text-gray-300 dark:text-gray-600 group-hover:text-amber-500 dark:group-hover:text-amber-400 transition-colors group-hover:translate-x-1 transform duration-200",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})}const Mp={network:"signet",defaultKeyType:"Ed25519"};async function Jm(r,l){return{assetDid:(await new zy(Mp).createDIDPeer([],!0)).didDocument.id,name:r,createdBy:l,createdAt:new Date().toISOString()}}function Op({value:r,onChange:l,disabled:u=!1}){const{categories:o,createCategory:d}=Qo(),[h,g]=j.useState(!1),[p,v]=j.useState(""),[A,_]=j.useState(null),O=z=>{const D=z.target.value;D==="__new__"?(g(!0),v(""),_(null)):l(D===""?void 0:D)},R=async()=>{const z=p.trim();if(!z){_("Please enter a category name");return}try{const D=await d(z);l(D),g(!1),v(""),_(null)}catch(D){_(D instanceof Error?D.message:"Failed to create category")}},q=()=>{g(!1),v(""),_(null)};return h?c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Category"}),c.jsx("input",{type:"text",value:p,onChange:z=>v(z.target.value),placeholder:"Category name",className:"w-full px-3 py-2 text-gray-900 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,onKeyDown:z=>{z.key==="Enter"?(z.preventDefault(),R()):z.key==="Escape"&&q()}}),A&&c.jsx("p",{className:"text-sm text-red-600",children:A}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:q,className:"px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:R,className:"px-3 py-1.5 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create"})]})]}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{id:"category-select",value:r??"",onChange:O,disabled:u,className:"w-full px-3 py-2 text-gray-900 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"",children:"Uncategorized"}),o.map(z=>c.jsx("option",{value:z._id,children:z.name},z._id)),c.jsx("option",{value:"__new__",children:"+ Create new category"})]})]})}function Dp({onClose:r}){const{did:l}=nl(),u=qo(),{haptic:o}=qn(),d=Bt(ze.lists.createList),[h,g]=j.useState(""),[p,v]=j.useState(void 0),[A,_]=j.useState(!1),[O,R]=j.useState(null),q=async L=>{L.preventDefault();const U=h.trim();if(!U){R("Please enter a list name"),o("error");return}if(!l){R("No identity found"),o("error");return}R(null),_(!0),o("medium");try{const J=await Jm(U,l),I=await d({assetDid:J.assetDid,name:U,ownerDid:l,categoryId:p,createdAt:Date.now()});o("success"),u(`/list/${I}`)}catch(J){console.error("Failed to create list:",J),R("Failed to create list. Please try again."),o("error"),_(!1)}},z=c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("h2",{id:"create-list-dialog-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Create New List"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Give your list a name"})]})]}),c.jsx("button",{onClick:()=>{o("light"),r()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D=c.jsxs("div",{className:"px-5 py-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>{o("light"),r()},disabled:A,className:"flex-1 px-4 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",form:"create-list-form",disabled:A||!h.trim(),className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white rounded-xl font-semibold shadow-lg shadow-amber-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all",children:A?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create List"})]});return c.jsx(Bo,{isOpen:!0,onClose:r,header:z,footer:D,ariaLabelledBy:"create-list-dialog-title",children:c.jsxs("form",{id:"create-list-form",onSubmit:q,className:"p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"listName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"List name"}),c.jsx("input",{id:"listName",type:"text",value:h,onChange:L=>g(L.target.value),placeholder:"e.g., Groceries, Weekend Tasks",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:border-amber-500 dark:focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all disabled:opacity-50",disabled:A,autoFocus:!0})]}),c.jsx(Op,{value:p,onChange:v,disabled:A}),O&&c.jsxs("div",{className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-700 dark:text-red-400 text-sm flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]})]})})}const zp=[{id:"grocery",name:"Grocery List",emoji:"",description:"Common grocery items to get you started",items:[{name:"Milk",order:0},{name:"Eggs",order:1},{name:"Bread",order:2},{name:"Butter",order:3},{name:"Cheese",order:4},{name:"Fruits",order:5},{name:"Vegetables",order:6},{name:"Chicken/Meat",order:7},{name:"Rice/Pasta",order:8},{name:"Snacks",order:9}]},{id:"packing",name:"Packing Checklist",emoji:"",description:"Essential items for your next trip",items:[{name:"Passport/ID",priority:"high",order:0},{name:"Phone charger",priority:"high",order:1},{name:"Toiletries",order:2},{name:"Medications",priority:"high",order:3},{name:"Clothes (underwear, socks)",order:4},{name:"Outerwear/jacket",order:5},{name:"Shoes",order:6},{name:"Laptop/tablet",order:7},{name:"Headphones",order:8},{name:"Sunglasses",order:9},{name:"Wallet/cards",priority:"high",order:10},{name:"Travel pillow",order:11}]},{id:"weekly-tasks",name:"Weekly Tasks",emoji:"",description:"Common weekly chores and activities",items:[{name:"Grocery shopping",order:0},{name:"Laundry",order:1},{name:"Clean bathroom",order:2},{name:"Vacuum/mop floors",order:3},{name:"Take out trash",order:4},{name:"Meal prep",order:5},{name:"Exercise (3x)",priority:"medium",order:6},{name:"Review budget",order:7},{name:"Call family/friends",order:8}]},{id:"project-kickoff",name:"Project Kickoff",emoji:"",description:"Get your new project started right",items:[{name:"Define project goals",priority:"high",order:0},{name:"Identify stakeholders",priority:"high",order:1},{name:"Set timeline/milestones",priority:"high",order:2},{name:"Create project repo/workspace",order:3},{name:"Write initial documentation",order:4},{name:"Set up communication channel",order:5},{name:"Schedule kickoff meeting",order:6},{name:"Assign initial tasks",order:7},{name:"Define success metrics",priority:"medium",order:8}]},{id:"moving",name:"Moving Checklist",emoji:"",description:"Everything you need for a smooth move",items:[{name:"Update address (mail, subscriptions)",priority:"high",order:0},{name:"Transfer utilities",priority:"high",order:1},{name:"Pack room by room",order:2},{name:"Label all boxes",order:3},{name:"Hire movers or rent truck",priority:"high",order:4},{name:"Clean old place",order:5},{name:"Get new keys",priority:"high",order:6},{name:"Set up internet/cable",order:7},{name:"Update driver's license",order:8},{name:"Notify bank/employers",order:9}]},{id:"party-planning",name:"Party Planning",emoji:"",description:"Plan the perfect celebration",items:[{name:"Set date and time",priority:"high",order:0},{name:"Create guest list",priority:"high",order:1},{name:"Send invitations",order:2},{name:"Plan menu/food",order:3},{name:"Order cake",order:4},{name:"Buy drinks",order:5},{name:"Get decorations",order:6},{name:"Create playlist",order:7},{name:"Plan activities/games",order:8},{name:"Set up day before",order:9}]}];function Rp({onClose:r,onCreateBlank:l}){const{did:u}=nl(),o=qo(),{haptic:d}=qn(),[h,g]=j.useState(null),[p,v]=j.useState(""),[A,_]=j.useState(!1),[O,R]=j.useState(null),q=tl(ze.templates.getUserTemplates,u?{userDid:u}:"skip"),z=Bt(ze.lists.createList),D=Bt(ze.items.addItem),L=Bt(ze.templates.createListFromTemplate),U=G=>{d("light"),g(G),v(G.name)},J=async()=>{if(!h||!u)return;const G=p.trim()||h.name;R(null),_(!0),d("medium");try{const X=await Jm(G,u),Y=await z({assetDid:X.assetDid,name:G,ownerDid:u,createdAt:Date.now()}),Se=Date.now();for(const ke of h.items)await D({listId:Y,name:ke.name,createdByDid:u,createdAt:Se,priority:ke.priority,description:ke.description});d("success"),o(`/list/${Y}`)}catch(X){console.error("Failed to create list from template:",X),R("Failed to create list. Please try again."),d("error"),_(!1)}},I=async(G,X)=>{if(u){R(null),_(!0),d("medium");try{const Y=await L({templateId:G,listName:X,userDid:u});d("success"),o(`/list/${Y}`)}catch(Y){console.error("Failed to create list from saved template:",Y),R("Failed to create list. Please try again."),d("error"),_(!1)}}},ne=c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("h2",{id:"template-picker-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:h?"Customize Template":"Choose a Template"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h?"Customize the name or create with defaults":"Start with a template or blank list"})]})]}),c.jsx("button",{onClick:()=>{d("light"),r()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),fe=c.jsxs("div",{className:"px-5 py-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>{d("light"),r()},disabled:A,className:"flex-1 px-4 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors",children:"Cancel"}),h&&c.jsx("button",{type:"button",onClick:J,disabled:A,className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white rounded-xl font-semibold shadow-lg shadow-amber-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all",children:A?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create List"})]});return c.jsx(Bo,{isOpen:!0,onClose:r,header:ne,footer:fe,ariaLabelledBy:"template-picker-title",children:c.jsx("div",{className:"p-5",children:h?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>{d("light"),g(null)},className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to templates"]}),c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl leading-none",children:h.emoji}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.name}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.items.length," items"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"listName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"List name"}),c.jsx("input",{id:"listName",type:"text",value:p,onChange:G=>v(G.target.value),placeholder:h.name,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:border-amber-500 dark:focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all disabled:opacity-50",disabled:A})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Items included:"}),c.jsx("ul",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-3 max-h-40 overflow-y-auto space-y-1",children:h.items.map((G,X)=>c.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsx("span",{className:"w-4 h-4 rounded border border-gray-300 dark:border-gray-600"}),c.jsx("span",{children:G.name}),G.priority&&c.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${G.priority==="high"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":G.priority==="medium"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:G.priority})]},X))})]}),O&&c.jsxs("div",{className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-700 dark:text-red-400 text-sm flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("button",{onClick:()=>{d("light"),l()},className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-2 border-dashed border-amber-300 dark:border-amber-700 rounded-xl hover:border-amber-400 dark:hover:border-amber-600 transition-colors text-left",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Blank List"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start from scratch"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Start Templates"}),c.jsx("div",{className:"grid gap-3",children:zp.map(G=>c.jsxs("button",{onClick:()=>U(G),className:"w-full flex items-center gap-4 p-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl hover:border-amber-400 dark:hover:border-amber-500 hover:shadow-md transition-all text-left",children:[c.jsx("span",{className:"text-2xl leading-none",children:G.emoji}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:G.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:G.description})]}),c.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[G.items.length," items"]})]},G.id))})]}),q&&q.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"My Templates"}),c.jsx("div",{className:"grid gap-3",children:q.map(G=>c.jsxs("button",{onClick:()=>I(G._id,G.name),disabled:A,className:"w-full flex items-center gap-4 p-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl hover:border-amber-400 dark:hover:border-amber-500 hover:shadow-md transition-all text-left disabled:opacity-50",children:[c.jsx("span",{className:"text-2xl leading-none",children:""}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:G.name}),G.description&&c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:G.description})]}),c.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[G.items.length," items"]})]},G._id))})]})]})})})}function Es({name:r,listCount:l,children:u,defaultExpanded:o=!0}){const[d,h]=j.useState(o),g=r.toLowerCase()==="uncategorized";return c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>h(!d),className:"w-full flex items-center justify-between py-2 text-left group",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`transform transition-transform ${d?"rotate-90":""}`,children:c.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("h3",{className:`text-lg font-semibold ${g?"text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300":"text-gray-700 dark:text-gray-200 group-hover:text-gray-900 dark:group-hover:text-white"}`,children:r}),c.jsxs("span",{className:"text-sm text-gray-400",children:["(",l,")"]})]})}),d&&c.jsx("div",{className:"mt-3 grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:u})]})}const _p=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $m(r){const{onEscape:l,isActive:u=!0}=r,o=j.useRef(null),d=j.useRef(null),h=j.useCallback(()=>o.current?Array.from(o.current.querySelectorAll(_p)):[],[]),g=j.useCallback(p=>{if(!u)return;if(p.key==="Escape"){p.preventDefault(),l();return}if(p.key!=="Tab")return;const v=h();if(v.length===0)return;const A=v[0],_=v[v.length-1];if(p.shiftKey&&document.activeElement===A){p.preventDefault(),_.focus();return}if(!p.shiftKey&&document.activeElement===_){p.preventDefault(),A.focus();return}},[u,l,h]);return j.useEffect(()=>{if(!u)return;d.current=document.activeElement;const p=setTimeout(()=>{if(!o.current)return;const v=o.current.querySelector("[autofocus]");if(v){v.focus();return}const A=h();A.length>0&&A[0].focus()},0);return()=>clearTimeout(p)},[u,h]),j.useEffect(()=>()=>{d.current&&d.current.focus&&d.current.focus()},[]),j.useEffect(()=>{if(u)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[u,g]),o}function qp({title:r,message:l,confirmLabel:u="Confirm",cancelLabel:o="Cancel",confirmVariant:d="danger",onConfirm:h,onCancel:g}){const[p,v]=j.useState(!1),[A,_]=j.useState(null),O=$m({onEscape:g}),R=async()=>{v(!0),_(null);try{await h()}catch(z){console.error("Confirm action failed:",z),_(z instanceof Error?z.message:"Action failed. Please try again."),v(!1)}},q=d==="danger"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700";return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{ref:O,role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h2",{id:"confirm-dialog-title",className:"text-xl font-bold text-gray-900 mb-2",children:r}),c.jsx("p",{id:"confirm-dialog-description",className:"text-gray-600 mb-4",children:l}),A&&c.jsx("p",{className:"mb-4 text-sm text-red-600",children:A}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{type:"button",onClick:g,disabled:p,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md font-medium hover:bg-gray-200 disabled:opacity-50",children:o}),c.jsx("button",{type:"button",onClick:R,disabled:p,className:`px-4 py-2 rounded-md font-medium disabled:opacity-50 ${q}`,children:p?"...":u})]})]})})}function Lp({onClose:r}){const{did:l,legacyDid:u}=nl(),{categories:o,createCategory:d,renameCategory:h,deleteCategory:g}=Qo(),p=$m({onEscape:r}),[v,A]=j.useState(""),[_,O]=j.useState(null),[R,q]=j.useState(""),[z,D]=j.useState(null),[L,U]=j.useState(!1),[J,I]=j.useState(null),ne=tl(ze.lists.getUserLists,l?{userDid:l,legacyDid:u??void 0}:"skip"),fe=F=>ne?ne.filter(me=>me.categoryId===F).length:0,G=()=>ne?ne.filter(F=>!F.categoryId).length:0,X=async()=>{const F=v.trim();if(!F){D("Please enter a category name");return}U(!0),D(null);try{await d(F),A("")}catch(me){D(me instanceof Error?me.message:"Failed to create category")}finally{U(!1)}},Y=F=>{O(F._id),q(F.name),D(null)},Se=async()=>{if(!_)return;const F=R.trim();if(!F){D("Category name cannot be empty");return}try{await h(_,F),O(null),q(""),D(null)}catch(me){D(me instanceof Error?me.message:"Failed to rename category")}},ke=()=>{O(null),q(""),D(null)},Ye=F=>{I(F)},Me=async()=>{if(J)try{await g(J),I(null),D(null)}catch(F){throw D(F instanceof Error?F.message:"Failed to delete category"),F}},Ht=()=>{if(!J)return"";const F=fe(J);return F>0?`This category contains ${F} list${F===1?"":"s"}. They will be moved to Uncategorized. Delete anyway?`:"Delete this category?"};return c.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:[c.jsxs("div",{ref:p,role:"dialog","aria-modal":"true","aria-labelledby":"category-dialog-title",className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{id:"category-dialog-title",className:"text-xl font-bold text-gray-900",children:"Manage Categories"}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),z&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-600",children:z}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Category"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:v,onChange:F=>A(F.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-gray-900 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),X())},disabled:L}),c.jsx("button",{onClick:X,disabled:L||!v.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Your Categories"}),o.length===0?c.jsx("p",{className:"text-sm text-gray-500 py-4 text-center",children:"No categories yet. Create one above."}):c.jsx("ul",{className:"divide-y divide-gray-200",children:o.map(F=>c.jsx("li",{className:"py-3",children:_===F._id?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:R,onChange:me=>q(me.target.value),className:"flex-1 px-3 py-1.5 text-gray-900 bg-white border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onKeyDown:me=>{me.key==="Enter"?(me.preventDefault(),Se()):me.key==="Escape"&&ke()}}),c.jsx("button",{onClick:Se,className:"px-3 py-1.5 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Save"}),c.jsx("button",{onClick:ke,className:"px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-900",children:F.name}),c.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",fe(F._id)," list",fe(F._id)===1?"":"s",")"]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>Y(F),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded",title:"Rename",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),c.jsx("button",{onClick:()=>Ye(F._id),className:"p-1.5 text-gray-400 hover:text-red-600 rounded",title:"Delete",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},F._id))}),c.jsx("div",{className:"pt-4 mt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[c.jsx("span",{children:"Uncategorized"}),c.jsxs("span",{children:[G()," list",G()===1?"":"s"]})]})})]})]}),J&&c.jsx(qp,{title:"Delete Category",message:Ht(),confirmLabel:"Delete",confirmVariant:"danger",onConfirm:Me,onCancel:()=>I(null)})]})}function Up({value:r,onChange:l,placeholder:u="Search lists...",className:o=""}){const[d,h]=j.useState(!1),g=j.useRef(null);return j.useEffect(()=>{const p=v=>{(v.metaKey||v.ctrlKey)&&v.key==="k"&&(v.preventDefault(),g.current?.focus()),v.key==="Escape"&&document.activeElement===g.current&&g.current?.blur()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[]),c.jsxs("div",{className:`relative ${o}`,children:[c.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 transition-colors ${d?"text-amber-500":"text-gray-400 dark:text-gray-500"}`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),c.jsx("input",{ref:g,type:"text",value:r,onChange:p=>l(p.target.value),onFocus:()=>h(!0),onBlur:()=>h(!1),placeholder:u,className:"w-full pl-10 pr-10 py-3 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-amber-500 dark:focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all"}),r&&c.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),!r&&!d&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 hidden sm:flex items-center gap-1 text-xs text-gray-400 dark:text-gray-500",children:c.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600 font-mono",children:"K"})})]})}const jo=[{value:"newest",label:"Newest First",icon:""},{value:"oldest",label:"Oldest First",icon:""},{value:"name-asc",label:"A  Z",icon:""},{value:"name-desc",label:"Z  A",icon:""}];function Bp(){const{listSort:r,setListSort:l,haptic:u}=qn(),[o,d]=j.useState(!1),h=j.useRef(null);j.useEffect(()=>{const p=v=>{h.current&&!h.current.contains(v.target)&&d(!1)};if(o)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[o]),j.useEffect(()=>{const p=v=>{v.key==="Escape"&&d(!1)};if(o)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[o]);const g=jo.find(p=>p.value===r)||jo[0];return c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>{u("light"),d(!o)},className:"flex items-center gap-2 px-4 py-3 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:border-amber-500 dark:focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all","aria-haspopup":"listbox","aria-expanded":o,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),c.jsx("span",{className:"hidden sm:inline",children:g.label}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg overflow-hidden z-50 animate-dropdown",children:c.jsx("ul",{role:"listbox","aria-label":"Sort options",children:jo.map(p=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>{u("light"),l(p.value),d(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${r===p.value?"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,role:"option","aria-selected":r===p.value,children:[c.jsx("span",{children:p.icon}),c.jsx("span",{children:p.label}),r===p.value&&c.jsx("svg",{className:"w-4 h-4 ml-auto text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},p.value))})})]})}function pe({className:r=""}){return c.jsx("div",{className:`animate-shimmer bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 bg-[length:200%_100%] rounded ${r}`})}function Qp(){return c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-5 space-y-3",children:[c.jsx(pe,{className:"h-6 w-3/4"}),c.jsx(pe,{className:"h-4 w-1/2"}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(pe,{className:"h-6 w-16 rounded-full"}),c.jsx(pe,{className:"h-6 w-20 rounded-full"})]})]})}function Vp(){return c.jsxs("div",{className:"flex items-center gap-3 p-4",children:[c.jsx(pe,{className:"w-6 h-6 rounded"}),c.jsx(pe,{className:"w-11 h-11 rounded-lg"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx(pe,{className:"h-5 w-4/5"}),c.jsx(pe,{className:"h-3 w-1/3"})]}),c.jsx(pe,{className:"w-11 h-11 rounded-lg"})]})}function gx(){return c.jsxs("div",{className:"animate-pulse",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx(pe,{className:"w-11 h-11 rounded-lg"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx(pe,{className:"h-8 w-1/3"}),c.jsx(pe,{className:"h-4 w-24"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(pe,{className:"h-10 w-20 rounded-lg"}),c.jsx(pe,{className:"h-10 w-16 rounded-lg"})]})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow divide-y divide-gray-100 dark:divide-gray-700",children:[1,2,3,4,5].map(r=>c.jsx(Vp,{},r))}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx(pe,{className:"flex-1 h-12 rounded-xl"}),c.jsx(pe,{className:"h-12 w-20 rounded-xl"})]})]})}function Hp(){return c.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(r=>c.jsx(Qp,{},r))})}function No(){return c.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsx(pe,{className:"w-5 h-5 rounded-md flex-shrink-0"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx(pe,{className:"h-5 w-3/4"}),c.jsx(pe,{className:"h-5 w-16 rounded-full"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(pe,{className:"h-4 w-24"}),c.jsx(pe,{className:"h-4 w-16"})]})]})]})}function yx(){return c.jsxs("div",{className:"space-y-6 animate-pulse",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(pe,{className:"h-4 w-4 rounded"}),c.jsx(pe,{className:"h-4 w-32"}),c.jsx(pe,{className:"h-4 w-8"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(No,{}),c.jsx(No,{})]})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(pe,{className:"h-4 w-4 rounded"}),c.jsx(pe,{className:"h-4 w-24"}),c.jsx(pe,{className:"h-4 w-8"})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(No,{})})]})]})}function Im({icon:r,emoji:l="",title:u,description:o,action:d}){return c.jsxs("div",{className:"text-center py-16 px-6 bg-gradient-to-b from-amber-50 to-orange-50 dark:from-gray-800 dark:to-gray-900 rounded-3xl border-2 border-dashed border-amber-200 dark:border-gray-700",children:[c.jsxs("div",{className:"relative inline-block mb-6",children:[r||c.jsx("div",{className:"text-7xl animate-bounce-slow filter drop-shadow-lg",children:l}),c.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-float-delayed",children:""}),c.jsx("div",{className:"absolute -bottom-1 -left-3 text-xl animate-float",children:""})]}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:u}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto mb-6",children:o}),d]})}function Yp({onCreateList:r}){return c.jsx(Im,{emoji:"",title:"No lists yet!",description:"Create your first list and start organizing your life. Every great journey starts with a single step... or a single list.",action:c.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white rounded-2xl font-bold text-lg shadow-lg shadow-amber-500/30 hover:shadow-xl hover:shadow-amber-500/40 transition-all hover:-translate-y-0.5 active:translate-y-0",children:[c.jsx("span",{children:""}),"Create Your First List"]})})}function bx(){return c.jsxs("div",{className:"py-12 px-6 text-center",children:[c.jsx("div",{className:"text-5xl mb-4 animate-bounce-slow",children:""}),c.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"This list is empty"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Add your first item below to get started!"})]})}function Gp({query:r}){return c.jsx(Im,{emoji:"",title:"No matches found",description:`We couldn't find any lists matching "${r}". Try a different search term!`})}function Xp({onRefresh:r,threshold:l=80,containerRef:u}){const[o,d]=j.useState(!1),[h,g]=j.useState(0),p=j.useRef(null),v=j.useRef(null),A=j.useRef(!1),_=h>=l,O=j.useCallback(async()=>{if(!o){d(!0),g(0);try{await r()}finally{d(!1)}}},[o,r]);return j.useEffect(()=>{const R=u?.current||p.current||document.body,q=L=>{(R===document.body?window.scrollY:R.scrollTop)===0&&(v.current=L.touches[0].clientY,A.current=!0)},z=L=>{if(!A.current||v.current===null||o)return;const J=L.touches[0].clientY-v.current;if(J>0){const ne=J*.4;g(Math.min(ne,l*1.5)),J>10&&L.preventDefault()}},D=()=>{h>=l&&!o?O():g(0),v.current=null,A.current=!1};return R.addEventListener("touchstart",q,{passive:!0}),R.addEventListener("touchmove",z,{passive:!1}),R.addEventListener("touchend",D,{passive:!0}),()=>{R.removeEventListener("touchstart",q),R.removeEventListener("touchmove",z),R.removeEventListener("touchend",D)}},[u,l,o,h,O]),{isRefreshing:o,pullDistance:h,canRelease:_,pullRef:p,refresh:O}}function Zp({pullDistance:r,threshold:l,isRefreshing:u}){if(r===0&&!u)return null;const d=Math.min(r/l,1)*360;return c.jsx("div",{className:"flex items-center justify-center overflow-hidden transition-all",style:{height:r>0||u?Math.max(r,u?60:0):0},children:c.jsx("div",{className:`text-3xl transition-transform ${u?"animate-spin-slow":""}`,style:{transform:u?void 0:`rotate(${d}deg)`},children:""})})}function Kp(){const{did:r,legacyDid:l,isLoading:u}=nl(),{categories:o,isLoading:d}=Qo(),{isOnline:h}=Ym(),{listSort:g,haptic:p}=qn(),[v]=Ny(),[A,_]=j.useState(!1),[O,R]=j.useState(!1),[q,z]=j.useState(!1),[D,L]=j.useState([]),[U,J]=j.useState("");j.useEffect(()=>{v.get("action")==="new"&&R(!0)},[v]);const I=tl(ze.lists.getUserLists,r?{userDid:r,legacyDid:l??void 0}:"skip"),ne=j.useCallback(async()=>{p("medium"),await new Promise(B=>setTimeout(B,800)),p("success")},[p]),{isRefreshing:fe,pullDistance:G,pullRef:X}=Xp({onRefresh:ne,threshold:80});j.useEffect(()=>{if(I&&h){const B=I.map(Z=>({_id:Z._id,assetDid:Z.assetDid,name:Z.name,ownerDid:Z.ownerDid,categoryId:Z.categoryId,createdAt:Z.createdAt}));rp(B)}},[I,h]),j.useEffect(()=>{!h&&!I&&sp().then(L)},[h,I]);const Y=I??(h?void 0:D),Se=!h&&!I&&D.length>0,ke=j.useMemo(()=>{if(!Y)return;let B=Y;if(U.trim()){const Z=U.toLowerCase();B=Y.filter(P=>P.name.toLowerCase().includes(Z))}return[...B].sort((Z,P)=>{switch(g){case"name-asc":return Z.name.localeCompare(P.name);case"name-desc":return P.name.localeCompare(Z.name);case"oldest":return Z.createdAt-P.createdAt;case"newest":default:return P.createdAt-Z.createdAt}})},[Y,U,g]),{ownedLists:Ye,sharedLists:Me}=j.useMemo(()=>{const B=te=>{const we=te.ownerDid;return we===r||we===l},Z={categorized:new Map,uncategorized:[]};if(!ke)return{ownedLists:Z,sharedLists:{categorized:new Map,uncategorized:[]}};const P=[],Ce=[];for(const te of ke)B(te)?P.push(te):Ce.push(te);const xe=te=>{const we=new Map,st=[];for(const Fe of te)if(Fe.categoryId){const Un=we.get(Fe.categoryId)??[];Un.push(Fe),we.set(Fe.categoryId,Un)}else st.push(Fe);return{categorized:we,uncategorized:st}};return{ownedLists:xe(P),sharedLists:xe(Ce)}},[ke,r,l]),Ht=()=>{p("light"),R(!0)},F=()=>{R(!1),_(!0)};if(!r&&!u)return null;const me=Y===void 0||d,E=Y&&Y.length>0,Q=ke&&ke.length>0;return c.jsxs("div",{ref:X,className:"min-h-full",children:[c.jsx(Zp,{pullDistance:G,threshold:80,isRefreshing:fe}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Your Lists"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cn,{to:"/priority",onClick:()=>p("light"),className:"inline-flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300 px-3.5 py-2 rounded-full font-medium bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 transition-all active:scale-95",children:" Focus"}),c.jsx("button",{onClick:()=>{p("light"),z(!0)},className:"inline-flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300 px-3.5 py-2 rounded-full font-medium bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 transition-all active:scale-95",children:" Categories"}),c.jsx("button",{onClick:Ht,className:"inline-flex items-center gap-1.5 text-sm bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white px-4 py-2 rounded-full font-semibold shadow-md shadow-amber-500/20 hover:shadow-lg hover:shadow-amber-500/30 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 transition-all active:scale-95",children:" New List"})]})]}),E&&c.jsxs("div",{className:"flex gap-3 mb-6 animate-slide-up",children:[c.jsx(Up,{value:U,onChange:J,className:"flex-1"}),c.jsx(Bp,{})]}),Se&&c.jsxs("div",{className:"mb-4 px-4 py-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl text-amber-700 dark:text-amber-400 text-sm flex items-center gap-3 animate-slide-up",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{children:"You're offline. Showing cached lists  some info may be outdated."})]}),me&&c.jsx(Hp,{}),!me&&!E&&c.jsx("div",{className:"animate-slide-up",children:c.jsx(Yp,{onCreateList:Ht})}),!me&&E&&!Q&&U&&c.jsx("div",{className:"animate-slide-up",children:c.jsx(Gp,{query:U})}),!me&&Q&&r&&c.jsxs("div",{className:"space-y-8 animate-slide-up",children:[(Ye.uncategorized.length>0||Array.from(Ye.categorized.values()).some(B=>B.length>0))&&c.jsxs("section",{children:[o.map(B=>{const Z=Ye.categorized.get(B._id);return!Z||Z.length===0?null:c.jsx(Es,{name:B.name,listCount:Z.length,children:c.jsx("div",{className:"grid gap-4 grid-cols-1",children:Z.map((P,Ce)=>c.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${Ce*50}ms`},children:c.jsx(As,{list:P,currentUserDid:r})},P._id))})},B._id)}),Ye.uncategorized.length>0&&c.jsx(Es,{name:"Uncategorized",listCount:Ye.uncategorized.length,children:c.jsx("div",{className:"grid gap-4 grid-cols-1",children:Ye.uncategorized.map((B,Z)=>c.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${Z*50}ms`},children:c.jsx(As,{list:B,currentUserDid:r})},B._id))})})]}),(Me.uncategorized.length>0||Array.from(Me.categorized.values()).some(B=>B.length>0))&&c.jsxs("section",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[c.jsx("span",{children:""})," Shared with me"]}),o.map(B=>{const Z=Me.categorized.get(B._id);return!Z||Z.length===0?null:c.jsx(Es,{name:B.name,listCount:Z.length,children:c.jsx("div",{className:"grid gap-4 grid-cols-1",children:Z.map((P,Ce)=>c.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${Ce*50}ms`},children:c.jsx(As,{list:P,currentUserDid:r,showOwner:!0})},P._id))})},`shared-${B._id}`)}),Me.uncategorized.length>0&&c.jsx(Es,{name:"Uncategorized",listCount:Me.uncategorized.length,children:c.jsx("div",{className:"grid gap-4 grid-cols-1",children:Me.uncategorized.map((B,Z)=>c.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${Z*50}ms`},children:c.jsx(As,{list:B,currentUserDid:r,showOwner:!0})},B._id))})})]})]}),O&&c.jsx(Rp,{onClose:()=>R(!1),onCreateBlank:F}),A&&c.jsx(Dp,{onClose:()=>_(!1)}),q&&c.jsx(Lp,{onClose:()=>z(!1)})]})}const Ja=6,Jp=60;function $p({onComplete:r,isLoading:l=!1,error:u,onResend:o}){const[d,h]=j.useState(Array(Ja).fill("")),[g,p]=j.useState(0),v=j.useRef([]),A=j.useRef(null),_=j.useRef(r);j.useEffect(()=>{_.current=r},[r]),j.useEffect(()=>{v.current[0]?.focus()},[]),j.useEffect(()=>{if(g<=0)return;const D=setInterval(()=>{p(L=>L-1)},1e3);return()=>clearInterval(D)},[g]),j.useEffect(()=>{u&&(A.current=null)},[u]),j.useEffect(()=>{const D=d.join("");D.length===Ja&&!d.includes("")&&D!==A.current&&(A.current=D,_.current(D))},[d]);const O=(D,L)=>{const U=L.target.value;if(U.length>1||U&&!/^\d$/.test(U))return;const J=[...d];J[D]=U,h(J),U&&D<Ja-1&&v.current[D+1]?.focus()},R=(D,L)=>{if(L.key==="Backspace"&&!d[D]&&D>0){const U=[...d];U[D-1]="",h(U),v.current[D-1]?.focus()}L.key==="ArrowLeft"&&D>0&&v.current[D-1]?.focus(),L.key==="ArrowRight"&&D<Ja-1&&v.current[D+1]?.focus()},q=D=>{D.preventDefault();const L=D.clipboardData.getData("text").trim();if(!/^\d{6}$/.test(L))return;const U=L.split("");h(U),v.current[Ja-1]?.focus()},z=()=>{g>0||!o||(o(),p(Jp),h(Array(Ja).fill("")),A.current=null,v.current[0]?.focus())};return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center",children:"Verification code"}),c.jsx("div",{className:"flex justify-center gap-2",children:d.map((D,L)=>c.jsx("input",{ref:U=>{v.current[L]=U},type:"text",inputMode:"numeric",maxLength:1,value:D,onChange:U=>O(L,U),onKeyDown:U=>R(L,U),onPaste:q,disabled:l,className:"w-12 h-14 text-center text-2xl font-semibold text-gray-900 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":`Digit ${L+1}`},L))}),u&&c.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:u}),l&&c.jsx("p",{className:"mt-3 text-sm text-gray-500 text-center",children:"Verifying..."}),o&&c.jsx("div",{className:"mt-4 text-center",children:g>0?c.jsxs("p",{className:"text-sm text-gray-500",children:["Resend code in ",g,"s"]}):c.jsx("button",{type:"button",onClick:z,disabled:l,className:"text-sm text-blue-600 hover:text-blue-700 font-medium disabled:opacity-50",children:"Resend code"})})]})}function Ip({embedded:r=!1}){const{startOtp:l,verifyOtp:u,isLoading:o,isAuthenticated:d}=ra(),h=qo(),[g,p]=j.useState("email"),[v,A]=j.useState(""),[_,O]=j.useState(null);if(d&&!r)return h("/app",{replace:!0}),null;const R=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),q=async U=>{U.preventDefault(),O(null);const J=v.trim().toLowerCase();if(!J){O("Please enter your email address");return}if(!R(J)){O("Please enter a valid email address");return}try{await l(J),p("otp")}catch(I){console.error("Failed to send OTP:",I),O("Failed to send verification code. Please try again.")}},z=async U=>{O(null);try{await u(U),r||h("/app",{replace:!0})}catch(J){console.error("Failed to verify OTP:",J);const I=J instanceof Error?J.message:"Verification failed";O(I)}},D=()=>{p("email"),O(null)},L=async()=>{O(null);const U=v.trim().toLowerCase();try{await l(U)}catch(J){console.error("Failed to resend OTP:",J),O("Failed to resend verification code. Please try again.")}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-amber-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl shadow-amber-200/50 max-w-md w-full p-8",children:[c.jsx("div",{className:"text-center mb-2",children:c.jsx("span",{className:"text-6xl",children:""})}),c.jsx("h1",{className:"text-2xl font-bold text-amber-900 mb-2 text-center",children:"Welcome to Poo App"}),c.jsx("p",{className:"text-amber-800/70 mb-6 text-center",children:g==="email"?"Sign in with your email to get started":`Enter the code we sent to ${v}`}),g==="email"?c.jsxs("form",{onSubmit:q,children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-amber-800 mb-1",children:"Email address"}),c.jsx("input",{id:"email",type:"email",value:v,onChange:U=>A(U.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 border border-amber-200 rounded-xl shadow-sm text-amber-900 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500",disabled:o,autoFocus:!0,autoComplete:"email"}),_&&c.jsx("p",{className:"mt-2 text-sm text-red-600",children:_}),c.jsx("button",{type:"submit",disabled:o||!v.trim(),className:"mt-4 w-full bg-gradient-to-r from-amber-600 to-orange-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-amber-500 hover:to-orange-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-amber-500/20",children:o?"Sending code...":"Send Code"})]}):c.jsxs("div",{children:[c.jsx($p,{onComplete:z,isLoading:o,error:_,onResend:L}),c.jsx("button",{type:"button",onClick:D,disabled:o,className:"mt-4 w-full text-amber-700 py-2 px-4 rounded-xl font-medium hover:text-amber-900 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50",children:" Use a different email"})]}),c.jsx("p",{className:"mt-6 text-xs text-amber-600/60 text-center",children:" Your keys are securely managed by Turnkey"})]})})}function Fp(){const{isAuthenticated:r}=ra();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-amber-100 overflow-hidden",children:[c.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden opacity-10",children:[...Array(12)].map((l,u)=>c.jsx("div",{className:"absolute text-3xl sm:text-4xl md:text-6xl animate-float",style:{left:`${u*17%100}%`,top:`${u*23%100}%`,animationDelay:`${u*.5}s`,animationDuration:`${15+u%5*2}s`},children:""},u))}),c.jsx("header",{className:"relative z-10 p-4 sm:p-6 safe-area-inset-top",children:c.jsxs("nav",{className:"max-w-6xl mx-auto flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[c.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl flex-shrink-0",children:""}),c.jsx("span",{className:"font-black text-lg sm:text-xl md:text-2xl text-amber-900 truncate",children:"Poo App"})]}),c.jsx(cn,{to:r?"/":"/login",className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-amber-900 text-amber-50 rounded-full font-semibold text-sm sm:text-base hover:bg-amber-800 active:bg-amber-950 transition-colors shadow-lg shadow-amber-900/20 whitespace-nowrap flex-shrink-0",children:r?"Open App":"Sign In"})]})}),c.jsxs("main",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 pt-6 sm:pt-8 md:pt-12 pb-16 sm:pb-20 md:pb-24",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[80px] sm:text-[100px] md:text-[140px] lg:text-[180px] leading-none mb-2 sm:mb-4 animate-bounce-slow",children:""}),c.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black text-amber-900 mb-4 sm:mb-6 leading-tight px-2",children:["Organize your life",c.jsx("br",{}),c.jsx("span",{className:"bg-gradient-to-r from-amber-600 via-orange-500 to-amber-600 bg-clip-text text-transparent",children:"while you Poop"})]}),c.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-amber-800/70 max-w-2xl mx-auto mb-6 sm:mb-8 leading-relaxed px-2",children:["The world's most ",c.jsx("em",{children:"productive"})," todo app. Turn your bathroom breaks into breakthrough moments. "]}),c.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-bold text-amber-900 mb-8 sm:mb-10 px-2",children:" Join the movement. One flush at a time."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-10 sm:mb-16 px-4 sm:px-0",children:[c.jsx(cn,{to:r?"/":"/login",className:"w-full sm:w-auto px-6 sm:px-8 py-4 sm:py-4 bg-gradient-to-r from-amber-600 to-orange-500 text-white rounded-2xl font-bold text-base sm:text-lg hover:from-amber-500 hover:to-orange-400 active:from-amber-700 active:to-orange-600 transition-all shadow-xl shadow-amber-500/30 hover:shadow-2xl hover:shadow-amber-500/40 hover:-translate-y-1 text-center min-h-[52px] flex items-center justify-center",children:r?"Go to My Lists":"Get Started  It's Free"}),c.jsx("a",{href:"#features",className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 text-amber-800 font-semibold hover:text-amber-600 active:text-amber-900 transition-colors text-center min-h-[48px] flex items-center justify-center",children:"See Features "})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-700/60 text-xs sm:text-sm px-4",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Trusted by productive poopers worldwide"}),c.jsx("span",{children:""})]})]}),c.jsxs("section",{id:"features",className:"mt-20 sm:mt-24 md:mt-32 scroll-mt-16 sm:scroll-mt-20",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-amber-900 text-center mb-8 sm:mb-12 md:mb-16 px-4",children:"Why Poo App? "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[c.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-xl shadow-amber-200/50 hover:shadow-2xl md:hover:-translate-y-2 transition-all active:scale-[0.98]",children:[c.jsx("div",{className:"text-4xl sm:text-5xl mb-3 sm:mb-4",children:""}),c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-amber-900 mb-2",children:"Lightning Fast"}),c.jsx("p",{className:"text-sm sm:text-base text-amber-800/70",children:"Add tasks faster than... well, you know. Perfect for those quick sessions."})]}),c.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-xl shadow-amber-200/50 hover:shadow-2xl md:hover:-translate-y-2 transition-all active:scale-[0.98]",children:[c.jsx("div",{className:"text-4xl sm:text-5xl mb-3 sm:mb-4",children:""}),c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-amber-900 mb-2",children:"Cryptographically Verified"}),c.jsx("p",{className:"text-sm sm:text-base text-amber-800/70",children:"Every task is signed with your personal keys. Your todos, your proof, your legacy."})]}),c.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-xl shadow-amber-200/50 hover:shadow-2xl md:hover:-translate-y-2 transition-all active:scale-[0.98]",children:[c.jsx("div",{className:"text-4xl sm:text-5xl mb-3 sm:mb-4",children:""}),c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-amber-900 mb-2",children:"Share Lists"}),c.jsx("p",{className:"text-sm sm:text-base text-amber-800/70",children:"Collaborate with family, roommates, or coworkers. Shared accountability, shared relief."})]})]})]}),c.jsx("section",{className:"mt-20 sm:mt-24 md:mt-32 text-center",children:c.jsxs("div",{className:"bg-gradient-to-r from-amber-200/50 to-orange-200/50 rounded-2xl sm:rounded-3xl md:rounded-[40px] p-6 sm:p-10 md:p-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-amber-900 mb-3 sm:mb-4 px-2",children:"Ready to be more productive?"}),c.jsx("p",{className:"text-sm sm:text-base md:text-lg text-amber-800/70 mb-6 sm:mb-8 max-w-xl mx-auto px-2",children:"Join thousands of people who've transformed their bathroom time into the most organized part of their day."}),c.jsx(cn,{to:r?"/":"/login",className:"inline-block w-full sm:w-auto px-8 sm:px-10 py-4 sm:py-5 bg-amber-900 text-amber-50 rounded-2xl font-bold text-lg sm:text-xl hover:bg-amber-800 active:bg-amber-950 transition-colors shadow-xl min-h-[56px]",children:"Start Organizing "})]})})]}),c.jsx("footer",{className:"relative z-10 border-t border-amber-200 bg-amber-50/50 py-6 sm:py-8 safe-area-inset-bottom",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 text-center text-amber-700/60 text-xs sm:text-sm",children:[c.jsx("p",{children:"Made with  by Aviary Tech"}),c.jsx("p",{className:"mt-2",children:"Powered by Originals Protocol  Your data, cryptographically yours."})]})}),c.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          25% { transform: translateY(-20px) rotate(5deg); }
          50% { transform: translateY(-10px) rotate(-5deg); }
          75% { transform: translateY(-30px) rotate(3deg); }
        }
        .animate-float {
          animation: float 15s ease-in-out infinite;
        }
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-20px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 3s ease-in-out infinite;
        }
      `})]})}const Wp=j.lazy(()=>el(()=>import("./ListView-DaIf0fvu.js").then(r=>r.L),__vite__mapDeps([0,1,2,3])).then(r=>({default:r.ListView}))),Pp=j.lazy(()=>el(()=>import("./JoinList-BHr75rYG.js"),__vite__mapDeps([4,2,1])).then(r=>({default:r.JoinList}))),ex=j.lazy(()=>el(()=>import("./PublicList-gKeHXZwp.js"),__vite__mapDeps([5,2,3,1])).then(r=>({default:r.PublicList}))),tx=j.lazy(()=>el(()=>import("./Profile-CZ3hm03B.js"),__vite__mapDeps([6,2,1])).then(r=>({default:r.Profile}))),nx=j.lazy(()=>el(()=>import("./Templates-D6zpTfqX.js"),__vite__mapDeps([7,2,1])).then(r=>({default:r.Templates}))),ax=j.lazy(()=>el(()=>import("./PriorityFocus-BD030pWP.js"),__vite__mapDeps([8,2,1])).then(r=>({default:r.PriorityFocus})));function lx({children:r}){const{haptic:l,darkMode:u,toggleDarkMode:o}=qn(),[d,h]=j.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 transition-colors",children:[c.jsx("header",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-800 safe-area-inset-top",children:c.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[c.jsxs(cn,{to:"/app",onClick:()=>l("light"),className:"flex items-center gap-2 text-xl font-black text-amber-900 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"bg-gradient-to-r from-amber-700 to-orange-600 dark:from-amber-400 dark:to-orange-400 bg-clip-text text-transparent",children:"Poo App"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{l("light"),h(!0)},className:"p-2.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors","aria-label":"Settings",children:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsx("button",{onClick:()=>{l("light"),o()},className:"p-2.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors","aria-label":u?"Switch to light mode":"Switch to dark mode",children:u?c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),c.jsx(Gv,{})]})]})}),c.jsx("main",{className:"container mx-auto px-4 py-6 safe-area-inset-bottom",children:c.jsx(Hv,{children:r})}),d&&c.jsx(wp,{onClose:()=>h(!1)})]})}function $a({children:r}){return c.jsx(Vv,{children:c.jsx(lx,{children:r})})}function ix(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl animate-bounce-slow mb-4",children:""}),c.jsxs("div",{className:"animate-pulse space-y-3",children:[c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-48 mx-auto"}),c.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-32 mx-auto"})]})]})})}function sx(){const{isAuthenticated:r}=ra();return c.jsxs(c.Fragment,{children:[c.jsx(hp,{}),c.jsx(j.Suspense,{fallback:c.jsx(ix,{}),children:c.jsxs(Ty,{children:[c.jsx(qt,{path:"/login",element:r?c.jsx(ks,{to:"/app",replace:!0}):c.jsx(Ip,{})}),c.jsx(qt,{path:"/join/:listId/:token",element:c.jsx(Pp,{})}),c.jsx(qt,{path:"/public/:did",element:c.jsx(ex,{})}),c.jsx(qt,{path:"/",element:r?c.jsx(ks,{to:"/app",replace:!0}):c.jsx(Fp,{})}),c.jsx(qt,{path:"/app",element:c.jsx($a,{children:c.jsx(Kp,{})})}),c.jsx(qt,{path:"/profile",element:c.jsx($a,{children:c.jsx(tx,{})})}),c.jsx(qt,{path:"/templates",element:c.jsx($a,{children:c.jsx(nx,{})})}),c.jsx(qt,{path:"/priority",element:c.jsx($a,{children:c.jsx(ax,{})})}),c.jsx(qt,{path:"/list/:id",element:c.jsx($a,{children:c.jsx(Wp,{})})}),c.jsx(qt,{path:"*",element:c.jsx($a,{children:c.jsx(ks,{to:"/app",replace:!0})})})]})}),c.jsx(gp,{})]})}const rx=new rv(void 0);Av();Qv({onUpdate:()=>{console.log("App update available. Refresh to get the latest version.")},onSuccess:()=>{console.log("App is ready for offline use.")}});Qy.createRoot(document.getElementById("root")).render(c.jsx(j.StrictMode,{children:c.jsx(uv,{client:rx,children:c.jsx(wv,{children:c.jsx(Nv,{children:c.jsx(Uv,{children:c.jsx(Cy,{children:c.jsx(sx,{})})})})})})}));export{zp as B,qp as C,Im as E,Cp as I,gx as L,bx as N,yx as P,tl as a,ze as b,Bt as c,Ym as d,hx as e,qn as f,dx as g,Sp as h,mx as i,c as j,Ip as k,Jm as l,$m as m,Bo as n,cx as o,fx as q,nl as u};
